(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const f of l.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();/**
* @vue/shared v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function xa(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const We={},Cn=[],m0=()=>{},B1=()=>!1,Jr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Aa=e=>e.startsWith("onUpdate:"),bt=Object.assign,Ea=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Oo=Object.prototype.hasOwnProperty,je=(e,t)=>Oo.call(e,t),Ne=Array.isArray,In=e=>es(e)==="[object Map]",C1=e=>es(e)==="[object Set]",Pe=e=>typeof e=="function",ht=e=>typeof e=="string",U0=e=>typeof e=="symbol",Je=e=>e!==null&&typeof e=="object",I1=e=>(Je(e)||Pe(e))&&Pe(e.then)&&Pe(e.catch),g1=Object.prototype.toString,es=e=>g1.call(e),No=e=>es(e).slice(8,-1),L1=e=>es(e)==="[object Object]",Ma=e=>ht(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Qn=xa(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ts=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Ho=/-\w/g,Jt=ts(e=>e.replace(Ho,t=>t.slice(1).toUpperCase())),Vo=/\B([A-Z])/g,j0=ts(e=>e.replace(Vo,"-$1").toLowerCase()),ns=ts(e=>e.charAt(0).toUpperCase()+e.slice(1)),Cs=ts(e=>e?`on${ns(e)}`:""),X0=(e,t)=>!Object.is(e,t),Fr=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},O1=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},aa=e=>{const t=parseFloat(e);return isNaN(t)?e:t},ko=e=>{const t=ht(e)?Number(e):NaN;return isNaN(t)?e:t};let ni;const rs=()=>ni||(ni=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ss(e){if(Ne(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],a=ht(r)?Do(r):ss(r);if(a)for(const l in a)t[l]=a[l]}return t}else if(ht(e)||Je(e))return e}const Fo=/;(?![^(]*\))/g,Po=/:([^]+)/,$o=/\/\*[^]*?\*\//g;function Do(e){const t={};return e.replace($o,"").split(Fo).forEach(n=>{if(n){const r=n.split(Po);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function w0(e){let t="";if(ht(e))t=e;else if(Ne(e))for(let n=0;n<e.length;n++){const r=w0(e[n]);r&&(t+=r+" ")}else if(Je(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Xo="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",qo=xa(Xo);function N1(e){return!!e||e===""}const H1=e=>!!(e&&e.__v_isRef===!0),dn=e=>ht(e)?e:e==null?"":Ne(e)||Je(e)&&(e.toString===g1||!Pe(e.toString))?H1(e)?dn(e.value):JSON.stringify(e,V1,2):String(e),V1=(e,t)=>H1(t)?V1(e,t.value):In(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,a],l)=>(n[Is(r,l)+" =>"]=a,n),{})}:C1(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Is(n))}:U0(t)?Is(t):Je(t)&&!Ne(t)&&!L1(t)?String(t):t,Is=(e,t="")=>{var n;return U0(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Mt;class k1{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Mt,!t&&Mt&&(this.index=(Mt.scopes||(Mt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Mt;try{return Mt=this,t()}finally{Mt=n}}}on(){++this._on===1&&(this.prevScope=Mt,Mt=this)}off(){this._on>0&&--this._on===0&&(Mt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function F1(e){return new k1(e)}function P1(){return Mt}function Go(e,t=!1){Mt&&Mt.cleanups.push(e)}let Ze;const gs=new WeakSet;class $1{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Mt&&Mt.active&&Mt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,gs.has(this)&&(gs.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||X1(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ri(this),q1(this);const t=Ze,n=a0;Ze=this,a0=!0;try{return this.fn()}finally{G1(this),Ze=t,a0=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Ba(t);this.deps=this.depsTail=void 0,ri(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?gs.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ia(this)&&this.run()}get dirty(){return ia(this)}}let D1=0,Jn,er;function X1(e,t=!1){if(e.flags|=8,t){e.next=er,er=e;return}e.next=Jn,Jn=e}function wa(){D1++}function Ta(){if(--D1>0)return;if(er){let t=er;for(er=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Jn;){let t=Jn;for(Jn=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function q1(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function G1(e){let t,n=e.depsTail,r=n;for(;r;){const a=r.prevDep;r.version===-1?(r===n&&(n=a),Ba(r),Yo(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=a}e.deps=t,e.depsTail=n}function ia(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Y1(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Y1(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===cr)||(e.globalVersion=cr,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!ia(e))))return;e.flags|=2;const t=e.dep,n=Ze,r=a0;Ze=e,a0=!0;try{q1(e);const a=e.fn(e._value);(t.version===0||X0(a,e._value))&&(e.flags|=128,e._value=a,t.version++)}catch(a){throw t.version++,a}finally{Ze=n,a0=r,G1(e),e.flags&=-3}}function Ba(e,t=!1){const{dep:n,prevSub:r,nextSub:a}=e;if(r&&(r.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let l=n.computed.deps;l;l=l.nextDep)Ba(l,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Yo(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let a0=!0;const U1=[];function C0(){U1.push(a0),a0=!1}function I0(){const e=U1.pop();a0=e===void 0?!0:e}function ri(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Ze;Ze=void 0;try{t()}finally{Ze=n}}}let cr=0;class Uo{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ca{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Ze||!a0||Ze===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ze)n=this.activeLink=new Uo(Ze,this),Ze.deps?(n.prevDep=Ze.depsTail,Ze.depsTail.nextDep=n,Ze.depsTail=n):Ze.deps=Ze.depsTail=n,j1(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Ze.depsTail,n.nextDep=void 0,Ze.depsTail.nextDep=n,Ze.depsTail=n,Ze.deps===n&&(Ze.deps=r)}return n}trigger(t){this.version++,cr++,this.notify(t)}notify(t){wa();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Ta()}}}function j1(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)j1(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Xr=new WeakMap,vn=Symbol(""),la=Symbol(""),ur=Symbol("");function Tt(e,t,n){if(a0&&Ze){let r=Xr.get(e);r||Xr.set(e,r=new Map);let a=r.get(n);a||(r.set(n,a=new Ca),a.map=r,a.key=n),a.track()}}function E0(e,t,n,r,a,l){const f=Xr.get(e);if(!f){cr++;return}const d=b=>{b&&b.trigger()};if(wa(),t==="clear")f.forEach(d);else{const b=Ne(e),S=b&&Ma(n);if(b&&n==="length"){const M=Number(r);f.forEach((_,H)=>{(H==="length"||H===ur||!U0(H)&&H>=M)&&d(_)})}else switch((n!==void 0||f.has(void 0))&&d(f.get(n)),S&&d(f.get(ur)),t){case"add":b?S&&d(f.get("length")):(d(f.get(vn)),In(e)&&d(f.get(la)));break;case"delete":b||(d(f.get(vn)),In(e)&&d(f.get(la)));break;case"set":In(e)&&d(f.get(vn));break}}Ta()}function jo(e,t){const n=Xr.get(e);return n&&n.get(t)}function Sn(e){const t=Ye(e);return t===e?t:(Tt(t,"iterate",ur),Zt(e)?t:t.map(At))}function as(e){return Tt(e=Ye(e),"iterate",ur),e}const Ko={__proto__:null,[Symbol.iterator](){return Ls(this,Symbol.iterator,At)},concat(...e){return Sn(this).concat(...e.map(t=>Ne(t)?Sn(t):t))},entries(){return Ls(this,"entries",e=>(e[1]=At(e[1]),e))},every(e,t){return b0(this,"every",e,t,void 0,arguments)},filter(e,t){return b0(this,"filter",e,t,n=>n.map(At),arguments)},find(e,t){return b0(this,"find",e,t,At,arguments)},findIndex(e,t){return b0(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return b0(this,"findLast",e,t,At,arguments)},findLastIndex(e,t){return b0(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return b0(this,"forEach",e,t,void 0,arguments)},includes(...e){return Os(this,"includes",e)},indexOf(...e){return Os(this,"indexOf",e)},join(e){return Sn(this).join(e)},lastIndexOf(...e){return Os(this,"lastIndexOf",e)},map(e,t){return b0(this,"map",e,t,void 0,arguments)},pop(){return qn(this,"pop")},push(...e){return qn(this,"push",e)},reduce(e,...t){return si(this,"reduce",e,t)},reduceRight(e,...t){return si(this,"reduceRight",e,t)},shift(){return qn(this,"shift")},some(e,t){return b0(this,"some",e,t,void 0,arguments)},splice(...e){return qn(this,"splice",e)},toReversed(){return Sn(this).toReversed()},toSorted(e){return Sn(this).toSorted(e)},toSpliced(...e){return Sn(this).toSpliced(...e)},unshift(...e){return qn(this,"unshift",e)},values(){return Ls(this,"values",At)}};function Ls(e,t,n){const r=as(e),a=r[t]();return r!==e&&!Zt(e)&&(a._next=a.next,a.next=()=>{const l=a._next();return l.value&&(l.value=n(l.value)),l}),a}const Wo=Array.prototype;function b0(e,t,n,r,a,l){const f=as(e),d=f!==e&&!Zt(e),b=f[t];if(b!==Wo[t]){const _=b.apply(e,l);return d?At(_):_}let S=n;f!==e&&(d?S=function(_,H){return n.call(this,At(_),H,e)}:n.length>2&&(S=function(_,H){return n.call(this,_,H,e)}));const M=b.call(f,S,r);return d&&a?a(M):M}function si(e,t,n,r){const a=as(e);let l=n;return a!==e&&(Zt(e)?n.length>3&&(l=function(f,d,b){return n.call(this,f,d,b,e)}):l=function(f,d,b){return n.call(this,f,At(d),b,e)}),a[t](l,...r)}function Os(e,t,n){const r=Ye(e);Tt(r,"iterate",ur);const a=r[t](...n);return(a===-1||a===!1)&&La(n[0])?(n[0]=Ye(n[0]),r[t](...n)):a}function qn(e,t,n=[]){C0(),wa();const r=Ye(e)[t].apply(e,n);return Ta(),I0(),r}const zo=xa("__proto__,__v_isRef,__isVue"),K1=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(U0));function Zo(e){U0(e)||(e=String(e));const t=Ye(this);return Tt(t,"has",e),t.hasOwnProperty(e)}class W1{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const a=this._isReadonly,l=this._isShallow;if(n==="__v_isReactive")return!a;if(n==="__v_isReadonly")return a;if(n==="__v_isShallow")return l;if(n==="__v_raw")return r===(a?l?lc:J1:l?Q1:Z1).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const f=Ne(t);if(!a){let b;if(f&&(b=Ko[n]))return b;if(n==="hasOwnProperty")return Zo}const d=Reflect.get(t,n,_t(t)?t:r);return(U0(n)?K1.has(n):zo(n))||(a||Tt(t,"get",n),l)?d:_t(d)?f&&Ma(n)?d:d.value:Je(d)?a?tl(d):Sr(d):d}}class z1 extends W1{constructor(t=!1){super(!1,t)}set(t,n,r,a){let l=t[n];if(!this._isShallow){const b=G0(l);if(!Zt(r)&&!G0(r)&&(l=Ye(l),r=Ye(r)),!Ne(t)&&_t(l)&&!_t(r))return b||(l.value=r),!0}const f=Ne(t)&&Ma(n)?Number(n)<t.length:je(t,n),d=Reflect.set(t,n,r,_t(t)?t:a);return t===Ye(a)&&(f?X0(r,l)&&E0(t,"set",n,r):E0(t,"add",n,r)),d}deleteProperty(t,n){const r=je(t,n);t[n];const a=Reflect.deleteProperty(t,n);return a&&r&&E0(t,"delete",n,void 0),a}has(t,n){const r=Reflect.has(t,n);return(!U0(n)||!K1.has(n))&&Tt(t,"has",n),r}ownKeys(t){return Tt(t,"iterate",Ne(t)?"length":vn),Reflect.ownKeys(t)}}class Qo extends W1{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Jo=new z1,ec=new Qo,tc=new z1(!0);const oa=e=>e,Mr=e=>Reflect.getPrototypeOf(e);function nc(e,t,n){return function(...r){const a=this.__v_raw,l=Ye(a),f=In(l),d=e==="entries"||e===Symbol.iterator&&f,b=e==="keys"&&f,S=a[e](...r),M=n?oa:t?qr:At;return!t&&Tt(l,"iterate",b?la:vn),{next(){const{value:_,done:H}=S.next();return H?{value:_,done:H}:{value:d?[M(_[0]),M(_[1])]:M(_),done:H}},[Symbol.iterator](){return this}}}}function wr(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function rc(e,t){const n={get(a){const l=this.__v_raw,f=Ye(l),d=Ye(a);e||(X0(a,d)&&Tt(f,"get",a),Tt(f,"get",d));const{has:b}=Mr(f),S=t?oa:e?qr:At;if(b.call(f,a))return S(l.get(a));if(b.call(f,d))return S(l.get(d));l!==f&&l.get(a)},get size(){const a=this.__v_raw;return!e&&Tt(Ye(a),"iterate",vn),a.size},has(a){const l=this.__v_raw,f=Ye(l),d=Ye(a);return e||(X0(a,d)&&Tt(f,"has",a),Tt(f,"has",d)),a===d?l.has(a):l.has(a)||l.has(d)},forEach(a,l){const f=this,d=f.__v_raw,b=Ye(d),S=t?oa:e?qr:At;return!e&&Tt(b,"iterate",vn),d.forEach((M,_)=>a.call(l,S(M),S(_),f))}};return bt(n,e?{add:wr("add"),set:wr("set"),delete:wr("delete"),clear:wr("clear")}:{add(a){!t&&!Zt(a)&&!G0(a)&&(a=Ye(a));const l=Ye(this);return Mr(l).has.call(l,a)||(l.add(a),E0(l,"add",a,a)),this},set(a,l){!t&&!Zt(l)&&!G0(l)&&(l=Ye(l));const f=Ye(this),{has:d,get:b}=Mr(f);let S=d.call(f,a);S||(a=Ye(a),S=d.call(f,a));const M=b.call(f,a);return f.set(a,l),S?X0(l,M)&&E0(f,"set",a,l):E0(f,"add",a,l),this},delete(a){const l=Ye(this),{has:f,get:d}=Mr(l);let b=f.call(l,a);b||(a=Ye(a),b=f.call(l,a)),d&&d.call(l,a);const S=l.delete(a);return b&&E0(l,"delete",a,void 0),S},clear(){const a=Ye(this),l=a.size!==0,f=a.clear();return l&&E0(a,"clear",void 0,void 0),f}}),["keys","values","entries",Symbol.iterator].forEach(a=>{n[a]=nc(a,e,t)}),n}function Ia(e,t){const n=rc(e,t);return(r,a,l)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?r:Reflect.get(je(n,a)&&a in r?n:r,a,l)}const sc={get:Ia(!1,!1)},ac={get:Ia(!1,!0)},ic={get:Ia(!0,!1)};const Z1=new WeakMap,Q1=new WeakMap,J1=new WeakMap,lc=new WeakMap;function oc(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function cc(e){return e.__v_skip||!Object.isExtensible(e)?0:oc(No(e))}function Sr(e){return G0(e)?e:ga(e,!1,Jo,sc,Z1)}function el(e){return ga(e,!1,tc,ac,Q1)}function tl(e){return ga(e,!0,ec,ic,J1)}function ga(e,t,n,r,a){if(!Je(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const l=cc(e);if(l===0)return e;const f=a.get(e);if(f)return f;const d=new Proxy(e,l===2?r:n);return a.set(e,d),d}function q0(e){return G0(e)?q0(e.__v_raw):!!(e&&e.__v_isReactive)}function G0(e){return!!(e&&e.__v_isReadonly)}function Zt(e){return!!(e&&e.__v_isShallow)}function La(e){return e?!!e.__v_raw:!1}function Ye(e){const t=e&&e.__v_raw;return t?Ye(t):e}function Oa(e){return!je(e,"__v_skip")&&Object.isExtensible(e)&&O1(e,"__v_skip",!0),e}const At=e=>Je(e)?Sr(e):e,qr=e=>Je(e)?tl(e):e;function _t(e){return e?e.__v_isRef===!0:!1}function gt(e){return nl(e,!1)}function uc(e){return nl(e,!0)}function nl(e,t){return _t(e)?e:new fc(e,t)}class fc{constructor(t,n){this.dep=new Ca,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Ye(t),this._value=n?t:At(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Zt(t)||G0(t);t=r?t:Ye(t),X0(t,n)&&(this._rawValue=t,this._value=r?t:At(t),this.dep.trigger())}}function Qe(e){return _t(e)?e.value:e}const _c={get:(e,t,n)=>t==="__v_raw"?e:Qe(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const a=e[t];return _t(a)&&!_t(n)?(a.value=n,!0):Reflect.set(e,t,n,r)}};function rl(e){return q0(e)?e:new Proxy(e,_c)}function hc(e){const t=Ne(e)?new Array(e.length):{};for(const n in e)t[n]=vc(e,n);return t}class dc{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return jo(Ye(this._object),this._key)}}function vc(e,t,n){const r=e[t];return _t(r)?r:new dc(e,t,n)}class mc{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Ca(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=cr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Ze!==this)return X1(this,!0),!0}get value(){const t=this.dep.track();return Y1(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function pc(e,t,n=!1){let r,a;return Pe(e)?r=e:(r=e.get,a=e.set),new mc(r,a,n)}const Tr={},Gr=new WeakMap;let _n;function bc(e,t=!1,n=_n){if(n){let r=Gr.get(n);r||Gr.set(n,r=[]),r.push(e)}}function Sc(e,t,n=We){const{immediate:r,deep:a,once:l,scheduler:f,augmentJob:d,call:b}=n,S=T=>a?T:Zt(T)||a===!1||a===0?M0(T,1):M0(T);let M,_,H,I,C=!1,Y=!1;if(_t(e)?(_=()=>e.value,C=Zt(e)):q0(e)?(_=()=>S(e),C=!0):Ne(e)?(Y=!0,C=e.some(T=>q0(T)||Zt(T)),_=()=>e.map(T=>{if(_t(T))return T.value;if(q0(T))return S(T);if(Pe(T))return b?b(T,2):T()})):Pe(e)?t?_=b?()=>b(e,2):e:_=()=>{if(H){C0();try{H()}finally{I0()}}const T=_n;_n=M;try{return b?b(e,3,[I]):e(I)}finally{_n=T}}:_=m0,t&&a){const T=_,x=a===!0?1/0:a;_=()=>M0(T(),x)}const N=P1(),E=()=>{M.stop(),N&&N.active&&Ea(N.effects,M)};if(l&&t){const T=t;t=(...x)=>{T(...x),E()}}let o=Y?new Array(e.length).fill(Tr):Tr;const s=T=>{if(!(!(M.flags&1)||!M.dirty&&!T))if(t){const x=M.run();if(a||C||(Y?x.some((O,w)=>X0(O,o[w])):X0(x,o))){H&&H();const O=_n;_n=M;try{const w=[x,o===Tr?void 0:Y&&o[0]===Tr?[]:o,I];o=x,b?b(t,3,w):t(...w)}finally{_n=O}}}else M.run()};return d&&d(s),M=new $1(_),M.scheduler=f?()=>f(s,!1):s,I=T=>bc(T,!1,M),H=M.onStop=()=>{const T=Gr.get(M);if(T){if(b)b(T,4);else for(const x of T)x();Gr.delete(M)}},t?r?s(!0):o=M.run():f?f(s.bind(null,!0),!0):M.run(),E.pause=M.pause.bind(M),E.resume=M.resume.bind(M),E.stop=E,E}function M0(e,t=1/0,n){if(t<=0||!Je(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,_t(e))M0(e.value,t,n);else if(Ne(e))for(let r=0;r<e.length;r++)M0(e[r],t,n);else if(C1(e)||In(e))e.forEach(r=>{M0(r,t,n)});else if(L1(e)){for(const r in e)M0(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&M0(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function yr(e,t,n,r){try{return r?e(...r):e()}catch(a){is(a,t,n)}}function i0(e,t,n,r){if(Pe(e)){const a=yr(e,t,n,r);return a&&I1(a)&&a.catch(l=>{is(l,t,n)}),a}if(Ne(e)){const a=[];for(let l=0;l<e.length;l++)a.push(i0(e[l],t,n,r));return a}}function is(e,t,n,r=!0){const a=t?t.vnode:null,{errorHandler:l,throwUnhandledErrorInProduction:f}=t&&t.appContext.config||We;if(t){let d=t.parent;const b=t.proxy,S=`https://vuejs.org/error-reference/#runtime-${n}`;for(;d;){const M=d.ec;if(M){for(let _=0;_<M.length;_++)if(M[_](e,b,S)===!1)return}d=d.parent}if(l){C0(),yr(l,null,10,[e,b,S]),I0();return}}yc(e,n,a,r,f)}function yc(e,t,n,r=!0,a=!1){if(a)throw e;console.error(e)}const Lt=[];let d0=-1;const gn=[];let P0=null,Mn=0;const sl=Promise.resolve();let Yr=null;function Na(e){const t=Yr||sl;return e?t.then(this?e.bind(this):e):t}function Rc(e){let t=d0+1,n=Lt.length;for(;t<n;){const r=t+n>>>1,a=Lt[r],l=fr(a);l<e||l===e&&a.flags&2?t=r+1:n=r}return t}function Ha(e){if(!(e.flags&1)){const t=fr(e),n=Lt[Lt.length-1];!n||!(e.flags&2)&&t>=fr(n)?Lt.push(e):Lt.splice(Rc(t),0,e),e.flags|=1,al()}}function al(){Yr||(Yr=sl.then(ll))}function xc(e){Ne(e)?gn.push(...e):P0&&e.id===-1?P0.splice(Mn+1,0,e):e.flags&1||(gn.push(e),e.flags|=1),al()}function ai(e,t,n=d0+1){for(;n<Lt.length;n++){const r=Lt[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Lt.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function il(e){if(gn.length){const t=[...new Set(gn)].sort((n,r)=>fr(n)-fr(r));if(gn.length=0,P0){P0.push(...t);return}for(P0=t,Mn=0;Mn<P0.length;Mn++){const n=P0[Mn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}P0=null,Mn=0}}const fr=e=>e.id==null?e.flags&2?-1:1/0:e.id;function ll(e){try{for(d0=0;d0<Lt.length;d0++){const t=Lt[d0];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),yr(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;d0<Lt.length;d0++){const t=Lt[d0];t&&(t.flags&=-2)}d0=-1,Lt.length=0,il(),Yr=null,(Lt.length||gn.length)&&ll()}}let Gt=null,ol=null;function Ur(e){const t=Gt;return Gt=e,ol=e&&e.type.__scopeId||null,t}function cl(e,t=Gt,n){if(!t||e._n)return e;const r=(...a)=>{r._d&&Wr(-1);const l=Ur(t);let f;try{f=e(...a)}finally{Ur(l),r._d&&Wr(1)}return f};return r._n=!0,r._c=!0,r._d=!0,r}function Ac(e,t){if(Gt===null)return e;const n=hs(Gt),r=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[l,f,d,b=We]=t[a];l&&(Pe(l)&&(l={mounted:l,updated:l}),l.deep&&M0(f),r.push({dir:l,instance:n,value:f,oldValue:void 0,arg:d,modifiers:b}))}return e}function z0(e,t,n,r){const a=e.dirs,l=t&&t.dirs;for(let f=0;f<a.length;f++){const d=a[f];l&&(d.oldValue=l[f].value);let b=d.dir[r];b&&(C0(),i0(b,n,8,[e.el,d,e,t]),I0())}}const Ec=Symbol("_vte"),ul=e=>e.__isTeleport,A0=Symbol("_leaveCb"),Br=Symbol("_enterCb");function Mc(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return cs(()=>{e.isMounted=!0}),Sl(()=>{e.isUnmounting=!0}),e}const jt=[Function,Array],fl={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:jt,onEnter:jt,onAfterEnter:jt,onEnterCancelled:jt,onBeforeLeave:jt,onLeave:jt,onAfterLeave:jt,onLeaveCancelled:jt,onBeforeAppear:jt,onAppear:jt,onAfterAppear:jt,onAppearCancelled:jt},_l=e=>{const t=e.subTree;return t.component?_l(t.component):t},wc={name:"BaseTransition",props:fl,setup(e,{slots:t}){const n=Pa(),r=Mc();return()=>{const a=t.default&&vl(t.default(),!0);if(!a||!a.length)return;const l=hl(a),f=Ye(e),{mode:d}=f;if(r.isLeaving)return Ns(l);const b=ii(l);if(!b)return Ns(l);let S=ca(b,f,r,n,_=>S=_);b.type!==Ot&&_r(b,S);let M=n.subTree&&ii(n.subTree);if(M&&M.type!==Ot&&!hn(M,b)&&_l(n).type!==Ot){let _=ca(M,f,r,n);if(_r(M,_),d==="out-in"&&b.type!==Ot)return r.isLeaving=!0,_.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete _.afterLeave,M=void 0},Ns(l);d==="in-out"&&b.type!==Ot?_.delayLeave=(H,I,C)=>{const Y=dl(r,M);Y[String(M.key)]=M,H[A0]=()=>{I(),H[A0]=void 0,delete S.delayedLeave,M=void 0},S.delayedLeave=()=>{C(),delete S.delayedLeave,M=void 0}}:M=void 0}else M&&(M=void 0);return l}}};function hl(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==Ot){t=n;break}}return t}const Tc=wc;function dl(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function ca(e,t,n,r,a){const{appear:l,mode:f,persisted:d=!1,onBeforeEnter:b,onEnter:S,onAfterEnter:M,onEnterCancelled:_,onBeforeLeave:H,onLeave:I,onAfterLeave:C,onLeaveCancelled:Y,onBeforeAppear:N,onAppear:E,onAfterAppear:o,onAppearCancelled:s}=t,T=String(e.key),x=dl(n,e),O=(p,u)=>{p&&i0(p,r,9,u)},w=(p,u)=>{const y=u[1];O(p,u),Ne(p)?p.every(i=>i.length<=1)&&y():p.length<=1&&y()},m={mode:f,persisted:d,beforeEnter(p){let u=b;if(!n.isMounted)if(l)u=N||b;else return;p[A0]&&p[A0](!0);const y=x[T];y&&hn(e,y)&&y.el[A0]&&y.el[A0](),O(u,[p])},enter(p){let u=S,y=M,i=_;if(!n.isMounted)if(l)u=E||S,y=o||M,i=s||_;else return;let h=!1;const v=p[Br]=R=>{h||(h=!0,R?O(i,[p]):O(y,[p]),m.delayedLeave&&m.delayedLeave(),p[Br]=void 0)};u?w(u,[p,v]):v()},leave(p,u){const y=String(e.key);if(p[Br]&&p[Br](!0),n.isUnmounting)return u();O(H,[p]);let i=!1;const h=p[A0]=v=>{i||(i=!0,u(),v?O(Y,[p]):O(C,[p]),p[A0]=void 0,x[y]===e&&delete x[y])};x[y]=e,I?w(I,[p,h]):h()},clone(p){const u=ca(p,t,n,r,a);return a&&a(u),u}};return m}function Ns(e){if(ls(e))return e=Y0(e),e.children=null,e}function ii(e){if(!ls(e))return ul(e.type)&&e.children?hl(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&Pe(n.default))return n.default()}}function _r(e,t){e.shapeFlag&6&&e.component?(e.transition=t,_r(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function vl(e,t=!1,n){let r=[],a=0;for(let l=0;l<e.length;l++){let f=e[l];const d=n==null?f.key:String(n)+String(f.key!=null?f.key:l);f.type===r0?(f.patchFlag&128&&a++,r=r.concat(vl(f.children,t,d))):(t||f.type!==Ot)&&r.push(d!=null?Y0(f,{key:d}):f)}if(a>1)for(let l=0;l<r.length;l++)r[l].patchFlag=-2;return r}function ml(e,t){return Pe(e)?bt({name:e.name},t,{setup:e}):e}function pl(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const jr=new WeakMap;function tr(e,t,n,r,a=!1){if(Ne(e)){e.forEach((C,Y)=>tr(C,t&&(Ne(t)?t[Y]:t),n,r,a));return}if(nr(r)&&!a){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&tr(e,t,n,r.component.subTree);return}const l=r.shapeFlag&4?hs(r.component):r.el,f=a?null:l,{i:d,r:b}=e,S=t&&t.r,M=d.refs===We?d.refs={}:d.refs,_=d.setupState,H=Ye(_),I=_===We?B1:C=>je(H,C);if(S!=null&&S!==b){if(li(t),ht(S))M[S]=null,I(S)&&(_[S]=null);else if(_t(S)){S.value=null;const C=t;C.k&&(M[C.k]=null)}}if(Pe(b))yr(b,d,12,[f,M]);else{const C=ht(b),Y=_t(b);if(C||Y){const N=()=>{if(e.f){const E=C?I(b)?_[b]:M[b]:b.value;if(a)Ne(E)&&Ea(E,l);else if(Ne(E))E.includes(l)||E.push(l);else if(C)M[b]=[l],I(b)&&(_[b]=M[b]);else{const o=[l];b.value=o,e.k&&(M[e.k]=o)}}else C?(M[b]=f,I(b)&&(_[b]=f)):Y&&(b.value=f,e.k&&(M[e.k]=f))};if(f){const E=()=>{N(),jr.delete(e)};E.id=-1,jr.set(e,E),qt(E,n)}else li(e),N()}}}function li(e){const t=jr.get(e);t&&(t.flags|=8,jr.delete(e))}rs().requestIdleCallback;rs().cancelIdleCallback;const nr=e=>!!e.type.__asyncLoader,ls=e=>e.type.__isKeepAlive;function Bc(e,t){bl(e,"a",t)}function Cc(e,t){bl(e,"da",t)}function bl(e,t,n=Bt){const r=e.__wdc||(e.__wdc=()=>{let a=n;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(os(t,r,n),n){let a=n.parent;for(;a&&a.parent;)ls(a.parent.vnode)&&Ic(r,t,n,a),a=a.parent}}function Ic(e,t,n,r){const a=os(t,e,r,!0);us(()=>{Ea(r[t],a)},n)}function os(e,t,n=Bt,r=!1){if(n){const a=n[e]||(n[e]=[]),l=t.__weh||(t.__weh=(...f)=>{C0();const d=Rr(n),b=i0(t,n,e,f);return d(),I0(),b});return r?a.unshift(l):a.push(l),l}}const L0=e=>(t,n=Bt)=>{(!dr||e==="sp")&&os(e,(...r)=>t(...r),n)},gc=L0("bm"),cs=L0("m"),Lc=L0("bu"),Oc=L0("u"),Sl=L0("bum"),us=L0("um"),Nc=L0("sp"),Hc=L0("rtg"),Vc=L0("rtc");function kc(e,t=Bt){os("ec",e,t)}const Fc="components";function Pc(e,t){return Dc(Fc,e,!0,t)||e}const $c=Symbol.for("v-ndc");function Dc(e,t,n=!0,r=!1){const a=Gt||Bt;if(a){const l=a.type;{const d=L2(l,!1);if(d&&(d===t||d===Jt(t)||d===ns(Jt(t))))return l}const f=oi(a[e]||l[e],t)||oi(a.appContext[e],t);return!f&&r?l:f}}function oi(e,t){return e&&(e[t]||e[Jt(t)]||e[ns(Jt(t))])}function Xc(e,t,n,r){let a;const l=n,f=Ne(e);if(f||ht(e)){const d=f&&q0(e);let b=!1,S=!1;d&&(b=!Zt(e),S=G0(e),e=as(e)),a=new Array(e.length);for(let M=0,_=e.length;M<_;M++)a[M]=t(b?S?qr(At(e[M])):At(e[M]):e[M],M,void 0,l)}else if(typeof e=="number"){a=new Array(e);for(let d=0;d<e;d++)a[d]=t(d+1,d,void 0,l)}else if(Je(e))if(e[Symbol.iterator])a=Array.from(e,(d,b)=>t(d,b,void 0,l));else{const d=Object.keys(e);a=new Array(d.length);for(let b=0,S=d.length;b<S;b++){const M=d[b];a[b]=t(e[M],M,b,l)}}else a=[];return a}const ua=e=>e?Pl(e)?hs(e):ua(e.parent):null,rr=bt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ua(e.parent),$root:e=>ua(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Rl(e),$forceUpdate:e=>e.f||(e.f=()=>{Ha(e.update)}),$nextTick:e=>e.n||(e.n=Na.bind(e.proxy)),$watch:e=>u2.bind(e)}),Hs=(e,t)=>e!==We&&!e.__isScriptSetup&&je(e,t),qc={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:a,props:l,accessCache:f,type:d,appContext:b}=e;let S;if(t[0]!=="$"){const I=f[t];if(I!==void 0)switch(I){case 1:return r[t];case 2:return a[t];case 4:return n[t];case 3:return l[t]}else{if(Hs(r,t))return f[t]=1,r[t];if(a!==We&&je(a,t))return f[t]=2,a[t];if((S=e.propsOptions[0])&&je(S,t))return f[t]=3,l[t];if(n!==We&&je(n,t))return f[t]=4,n[t];fa&&(f[t]=0)}}const M=rr[t];let _,H;if(M)return t==="$attrs"&&Tt(e.attrs,"get",""),M(e);if((_=d.__cssModules)&&(_=_[t]))return _;if(n!==We&&je(n,t))return f[t]=4,n[t];if(H=b.config.globalProperties,je(H,t))return H[t]},set({_:e},t,n){const{data:r,setupState:a,ctx:l}=e;return Hs(a,t)?(a[t]=n,!0):r!==We&&je(r,t)?(r[t]=n,!0):je(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(l[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:a,propsOptions:l,type:f}},d){let b,S;return!!(n[d]||e!==We&&d[0]!=="$"&&je(e,d)||Hs(t,d)||(b=l[0])&&je(b,d)||je(r,d)||je(rr,d)||je(a.config.globalProperties,d)||(S=f.__cssModules)&&S[d])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:je(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function ci(e){return Ne(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let fa=!0;function Gc(e){const t=Rl(e),n=e.proxy,r=e.ctx;fa=!1,t.beforeCreate&&ui(t.beforeCreate,e,"bc");const{data:a,computed:l,methods:f,watch:d,provide:b,inject:S,created:M,beforeMount:_,mounted:H,beforeUpdate:I,updated:C,activated:Y,deactivated:N,beforeDestroy:E,beforeUnmount:o,destroyed:s,unmounted:T,render:x,renderTracked:O,renderTriggered:w,errorCaptured:m,serverPrefetch:p,expose:u,inheritAttrs:y,components:i,directives:h,filters:v}=t;if(S&&Yc(S,r,null),f)for(const G in f){const V=f[G];Pe(V)&&(r[G]=V.bind(n))}if(a){const G=a.call(n,n);Je(G)&&(e.data=Sr(G))}if(fa=!0,l)for(const G in l){const V=l[G],X=Pe(V)?V.bind(n,n):Pe(V.get)?V.get.bind(n,n):m0,c=!Pe(V)&&Pe(V.set)?V.set.bind(n):m0,A=zt({get:X,set:c});Object.defineProperty(r,G,{enumerable:!0,configurable:!0,get:()=>A.value,set:q=>A.value=q})}if(d)for(const G in d)yl(d[G],r,n,G);if(b){const G=Pe(b)?b.call(n):b;Reflect.ownKeys(G).forEach(V=>{Pr(V,G[V])})}M&&ui(M,e,"c");function B(G,V){Ne(V)?V.forEach(X=>G(X.bind(n))):V&&G(V.bind(n))}if(B(gc,_),B(cs,H),B(Lc,I),B(Oc,C),B(Bc,Y),B(Cc,N),B(kc,m),B(Vc,O),B(Hc,w),B(Sl,o),B(us,T),B(Nc,p),Ne(u))if(u.length){const G=e.exposed||(e.exposed={});u.forEach(V=>{Object.defineProperty(G,V,{get:()=>n[V],set:X=>n[V]=X,enumerable:!0})})}else e.exposed||(e.exposed={});x&&e.render===m0&&(e.render=x),y!=null&&(e.inheritAttrs=y),i&&(e.components=i),h&&(e.directives=h),p&&pl(e)}function Yc(e,t,n=m0){Ne(e)&&(e=_a(e));for(const r in e){const a=e[r];let l;Je(a)?"default"in a?l=p0(a.from||r,a.default,!0):l=p0(a.from||r):l=p0(a),_t(l)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>l.value,set:f=>l.value=f}):t[r]=l}}function ui(e,t,n){i0(Ne(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function yl(e,t,n,r){let a=r.includes(".")?Nl(n,r):()=>n[r];if(ht(e)){const l=t[e];Pe(l)&&sr(a,l)}else if(Pe(e))sr(a,e.bind(n));else if(Je(e))if(Ne(e))e.forEach(l=>yl(l,t,n,r));else{const l=Pe(e.handler)?e.handler.bind(n):t[e.handler];Pe(l)&&sr(a,l,e)}}function Rl(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:a,optionsCache:l,config:{optionMergeStrategies:f}}=e.appContext,d=l.get(t);let b;return d?b=d:!a.length&&!n&&!r?b=t:(b={},a.length&&a.forEach(S=>Kr(b,S,f,!0)),Kr(b,t,f)),Je(t)&&l.set(t,b),b}function Kr(e,t,n,r=!1){const{mixins:a,extends:l}=t;l&&Kr(e,l,n,!0),a&&a.forEach(f=>Kr(e,f,n,!0));for(const f in t)if(!(r&&f==="expose")){const d=Uc[f]||n&&n[f];e[f]=d?d(e[f],t[f]):t[f]}return e}const Uc={data:fi,props:_i,emits:_i,methods:zn,computed:zn,beforeCreate:It,created:It,beforeMount:It,mounted:It,beforeUpdate:It,updated:It,beforeDestroy:It,beforeUnmount:It,destroyed:It,unmounted:It,activated:It,deactivated:It,errorCaptured:It,serverPrefetch:It,components:zn,directives:zn,watch:Kc,provide:fi,inject:jc};function fi(e,t){return t?e?function(){return bt(Pe(e)?e.call(this,this):e,Pe(t)?t.call(this,this):t)}:t:e}function jc(e,t){return zn(_a(e),_a(t))}function _a(e){if(Ne(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function It(e,t){return e?[...new Set([].concat(e,t))]:t}function zn(e,t){return e?bt(Object.create(null),e,t):t}function _i(e,t){return e?Ne(e)&&Ne(t)?[...new Set([...e,...t])]:bt(Object.create(null),ci(e),ci(t??{})):t}function Kc(e,t){if(!e)return t;if(!t)return e;const n=bt(Object.create(null),e);for(const r in t)n[r]=It(e[r],t[r]);return n}function xl(){return{app:null,config:{isNativeTag:B1,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Wc=0;function zc(e,t){return function(r,a=null){Pe(r)||(r=bt({},r)),a!=null&&!Je(a)&&(a=null);const l=xl(),f=new WeakSet,d=[];let b=!1;const S=l.app={_uid:Wc++,_component:r,_props:a,_container:null,_context:l,_instance:null,version:N2,get config(){return l.config},set config(M){},use(M,..._){return f.has(M)||(M&&Pe(M.install)?(f.add(M),M.install(S,..._)):Pe(M)&&(f.add(M),M(S,..._))),S},mixin(M){return l.mixins.includes(M)||l.mixins.push(M),S},component(M,_){return _?(l.components[M]=_,S):l.components[M]},directive(M,_){return _?(l.directives[M]=_,S):l.directives[M]},mount(M,_,H){if(!b){const I=S._ceVNode||Qt(r,a);return I.appContext=l,H===!0?H="svg":H===!1&&(H=void 0),e(I,M,H),b=!0,S._container=M,M.__vue_app__=S,hs(I.component)}},onUnmount(M){d.push(M)},unmount(){b&&(i0(d,S._instance,16),e(null,S._container),delete S._container.__vue_app__)},provide(M,_){return l.provides[M]=_,S},runWithContext(M){const _=mn;mn=S;try{return M()}finally{mn=_}}};return S}}let mn=null;function Pr(e,t){if(Bt){let n=Bt.provides;const r=Bt.parent&&Bt.parent.provides;r===n&&(n=Bt.provides=Object.create(r)),n[e]=t}}function p0(e,t,n=!1){const r=Pa();if(r||mn){let a=mn?mn._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return n&&Pe(t)?t.call(r&&r.proxy):t}}function Zc(){return!!(Pa()||mn)}const Al={},El=()=>Object.create(Al),Ml=e=>Object.getPrototypeOf(e)===Al;function Qc(e,t,n,r=!1){const a={},l=El();e.propsDefaults=Object.create(null),wl(e,t,a,l);for(const f in e.propsOptions[0])f in a||(a[f]=void 0);n?e.props=r?a:el(a):e.type.props?e.props=a:e.props=l,e.attrs=l}function Jc(e,t,n,r){const{props:a,attrs:l,vnode:{patchFlag:f}}=e,d=Ye(a),[b]=e.propsOptions;let S=!1;if((r||f>0)&&!(f&16)){if(f&8){const M=e.vnode.dynamicProps;for(let _=0;_<M.length;_++){let H=M[_];if(fs(e.emitsOptions,H))continue;const I=t[H];if(b)if(je(l,H))I!==l[H]&&(l[H]=I,S=!0);else{const C=Jt(H);a[C]=ha(b,d,C,I,e,!1)}else I!==l[H]&&(l[H]=I,S=!0)}}}else{wl(e,t,a,l)&&(S=!0);let M;for(const _ in d)(!t||!je(t,_)&&((M=j0(_))===_||!je(t,M)))&&(b?n&&(n[_]!==void 0||n[M]!==void 0)&&(a[_]=ha(b,d,_,void 0,e,!0)):delete a[_]);if(l!==d)for(const _ in l)(!t||!je(t,_))&&(delete l[_],S=!0)}S&&E0(e.attrs,"set","")}function wl(e,t,n,r){const[a,l]=e.propsOptions;let f=!1,d;if(t)for(let b in t){if(Qn(b))continue;const S=t[b];let M;a&&je(a,M=Jt(b))?!l||!l.includes(M)?n[M]=S:(d||(d={}))[M]=S:fs(e.emitsOptions,b)||(!(b in r)||S!==r[b])&&(r[b]=S,f=!0)}if(l){const b=Ye(n),S=d||We;for(let M=0;M<l.length;M++){const _=l[M];n[_]=ha(a,b,_,S[_],e,!je(S,_))}}return f}function ha(e,t,n,r,a,l){const f=e[n];if(f!=null){const d=je(f,"default");if(d&&r===void 0){const b=f.default;if(f.type!==Function&&!f.skipFactory&&Pe(b)){const{propsDefaults:S}=a;if(n in S)r=S[n];else{const M=Rr(a);r=S[n]=b.call(null,t),M()}}else r=b;a.ce&&a.ce._setProp(n,r)}f[0]&&(l&&!d?r=!1:f[1]&&(r===""||r===j0(n))&&(r=!0))}return r}const e2=new WeakMap;function Tl(e,t,n=!1){const r=n?e2:t.propsCache,a=r.get(e);if(a)return a;const l=e.props,f={},d=[];let b=!1;if(!Pe(e)){const M=_=>{b=!0;const[H,I]=Tl(_,t,!0);bt(f,H),I&&d.push(...I)};!n&&t.mixins.length&&t.mixins.forEach(M),e.extends&&M(e.extends),e.mixins&&e.mixins.forEach(M)}if(!l&&!b)return Je(e)&&r.set(e,Cn),Cn;if(Ne(l))for(let M=0;M<l.length;M++){const _=Jt(l[M]);hi(_)&&(f[_]=We)}else if(l)for(const M in l){const _=Jt(M);if(hi(_)){const H=l[M],I=f[_]=Ne(H)||Pe(H)?{type:H}:bt({},H),C=I.type;let Y=!1,N=!0;if(Ne(C))for(let E=0;E<C.length;++E){const o=C[E],s=Pe(o)&&o.name;if(s==="Boolean"){Y=!0;break}else s==="String"&&(N=!1)}else Y=Pe(C)&&C.name==="Boolean";I[0]=Y,I[1]=N,(Y||je(I,"default"))&&d.push(_)}}const S=[f,d];return Je(e)&&r.set(e,S),S}function hi(e){return e[0]!=="$"&&!Qn(e)}const Va=e=>e==="_"||e==="_ctx"||e==="$stable",ka=e=>Ne(e)?e.map(v0):[v0(e)],t2=(e,t,n)=>{if(t._n)return t;const r=cl((...a)=>ka(t(...a)),n);return r._c=!1,r},Bl=(e,t,n)=>{const r=e._ctx;for(const a in e){if(Va(a))continue;const l=e[a];if(Pe(l))t[a]=t2(a,l,r);else if(l!=null){const f=ka(l);t[a]=()=>f}}},Cl=(e,t)=>{const n=ka(t);e.slots.default=()=>n},Il=(e,t,n)=>{for(const r in t)(n||!Va(r))&&(e[r]=t[r])},n2=(e,t,n)=>{const r=e.slots=El();if(e.vnode.shapeFlag&32){const a=t._;a?(Il(r,t,n),n&&O1(r,"_",a,!0)):Bl(t,r)}else t&&Cl(e,t)},r2=(e,t,n)=>{const{vnode:r,slots:a}=e;let l=!0,f=We;if(r.shapeFlag&32){const d=t._;d?n&&d===1?l=!1:Il(a,t,n):(l=!t.$stable,Bl(t,a)),f=t}else t&&(Cl(e,t),f={default:1});if(l)for(const d in a)!Va(d)&&f[d]==null&&delete a[d]},qt=b2;function s2(e){return a2(e)}function a2(e,t){const n=rs();n.__VUE__=!0;const{insert:r,remove:a,patchProp:l,createElement:f,createText:d,createComment:b,setText:S,setElementText:M,parentNode:_,nextSibling:H,setScopeId:I=m0,insertStaticContent:C}=e,Y=(P,F,K,ne=null,oe=null,le=null,Re=void 0,be=null,pe=!!F.dynamicChildren)=>{if(P===F)return;P&&!hn(P,F)&&(ne=U(P),q(P,oe,le,!0),P=null),F.patchFlag===-2&&(pe=!1,F.dynamicChildren=null);const{type:de,ref:Ie,shapeFlag:Ae}=F;switch(de){case _s:N(P,F,K,ne);break;case Ot:E(P,F,K,ne);break;case ks:P==null&&o(F,K,ne,Re);break;case r0:i(P,F,K,ne,oe,le,Re,be,pe);break;default:Ae&1?x(P,F,K,ne,oe,le,Re,be,pe):Ae&6?h(P,F,K,ne,oe,le,Re,be,pe):(Ae&64||Ae&128)&&de.process(P,F,K,ne,oe,le,Re,be,pe,ee)}Ie!=null&&oe?tr(Ie,P&&P.ref,le,F||P,!F):Ie==null&&P&&P.ref!=null&&tr(P.ref,null,le,P,!0)},N=(P,F,K,ne)=>{if(P==null)r(F.el=d(F.children),K,ne);else{const oe=F.el=P.el;F.children!==P.children&&S(oe,F.children)}},E=(P,F,K,ne)=>{P==null?r(F.el=b(F.children||""),K,ne):F.el=P.el},o=(P,F,K,ne)=>{[P.el,P.anchor]=C(P.children,F,K,ne,P.el,P.anchor)},s=({el:P,anchor:F},K,ne)=>{let oe;for(;P&&P!==F;)oe=H(P),r(P,K,ne),P=oe;r(F,K,ne)},T=({el:P,anchor:F})=>{let K;for(;P&&P!==F;)K=H(P),a(P),P=K;a(F)},x=(P,F,K,ne,oe,le,Re,be,pe)=>{F.type==="svg"?Re="svg":F.type==="math"&&(Re="mathml"),P==null?O(F,K,ne,oe,le,Re,be,pe):p(P,F,oe,le,Re,be,pe)},O=(P,F,K,ne,oe,le,Re,be)=>{let pe,de;const{props:Ie,shapeFlag:Ae,transition:we,dirs:Oe}=P;if(pe=P.el=f(P.type,le,Ie&&Ie.is,Ie),Ae&8?M(pe,P.children):Ae&16&&m(P.children,pe,null,ne,oe,Vs(P,le),Re,be),Oe&&z0(P,null,ne,"created"),w(pe,P,P.scopeId,Re,ne),Ie){for(const De in Ie)De!=="value"&&!Qn(De)&&l(pe,De,null,Ie[De],le,ne);"value"in Ie&&l(pe,"value",null,Ie.value,le),(de=Ie.onVnodeBeforeMount)&&u0(de,ne,P)}Oe&&z0(P,null,ne,"beforeMount");const ke=i2(oe,we);ke&&we.beforeEnter(pe),r(pe,F,K),((de=Ie&&Ie.onVnodeMounted)||ke||Oe)&&qt(()=>{de&&u0(de,ne,P),ke&&we.enter(pe),Oe&&z0(P,null,ne,"mounted")},oe)},w=(P,F,K,ne,oe)=>{if(K&&I(P,K),ne)for(let le=0;le<ne.length;le++)I(P,ne[le]);if(oe){let le=oe.subTree;if(F===le||Vl(le.type)&&(le.ssContent===F||le.ssFallback===F)){const Re=oe.vnode;w(P,Re,Re.scopeId,Re.slotScopeIds,oe.parent)}}},m=(P,F,K,ne,oe,le,Re,be,pe=0)=>{for(let de=pe;de<P.length;de++){const Ie=P[de]=be?$0(P[de]):v0(P[de]);Y(null,Ie,F,K,ne,oe,le,Re,be)}},p=(P,F,K,ne,oe,le,Re)=>{const be=F.el=P.el;let{patchFlag:pe,dynamicChildren:de,dirs:Ie}=F;pe|=P.patchFlag&16;const Ae=P.props||We,we=F.props||We;let Oe;if(K&&Z0(K,!1),(Oe=we.onVnodeBeforeUpdate)&&u0(Oe,K,F,P),Ie&&z0(F,P,K,"beforeUpdate"),K&&Z0(K,!0),(Ae.innerHTML&&we.innerHTML==null||Ae.textContent&&we.textContent==null)&&M(be,""),de?u(P.dynamicChildren,de,be,K,ne,Vs(F,oe),le):Re||V(P,F,be,null,K,ne,Vs(F,oe),le,!1),pe>0){if(pe&16)y(be,Ae,we,K,oe);else if(pe&2&&Ae.class!==we.class&&l(be,"class",null,we.class,oe),pe&4&&l(be,"style",Ae.style,we.style,oe),pe&8){const ke=F.dynamicProps;for(let De=0;De<ke.length;De++){const Xe=ke[De],St=Ae[Xe],yt=we[Xe];(yt!==St||Xe==="value")&&l(be,Xe,St,yt,oe,K)}}pe&1&&P.children!==F.children&&M(be,F.children)}else!Re&&de==null&&y(be,Ae,we,K,oe);((Oe=we.onVnodeUpdated)||Ie)&&qt(()=>{Oe&&u0(Oe,K,F,P),Ie&&z0(F,P,K,"updated")},ne)},u=(P,F,K,ne,oe,le,Re)=>{for(let be=0;be<F.length;be++){const pe=P[be],de=F[be],Ie=pe.el&&(pe.type===r0||!hn(pe,de)||pe.shapeFlag&198)?_(pe.el):K;Y(pe,de,Ie,null,ne,oe,le,Re,!0)}},y=(P,F,K,ne,oe)=>{if(F!==K){if(F!==We)for(const le in F)!Qn(le)&&!(le in K)&&l(P,le,F[le],null,oe,ne);for(const le in K){if(Qn(le))continue;const Re=K[le],be=F[le];Re!==be&&le!=="value"&&l(P,le,be,Re,oe,ne)}"value"in K&&l(P,"value",F.value,K.value,oe)}},i=(P,F,K,ne,oe,le,Re,be,pe)=>{const de=F.el=P?P.el:d(""),Ie=F.anchor=P?P.anchor:d("");let{patchFlag:Ae,dynamicChildren:we,slotScopeIds:Oe}=F;Oe&&(be=be?be.concat(Oe):Oe),P==null?(r(de,K,ne),r(Ie,K,ne),m(F.children||[],K,Ie,oe,le,Re,be,pe)):Ae>0&&Ae&64&&we&&P.dynamicChildren?(u(P.dynamicChildren,we,K,oe,le,Re,be),(F.key!=null||oe&&F===oe.subTree)&&gl(P,F,!0)):V(P,F,K,Ie,oe,le,Re,be,pe)},h=(P,F,K,ne,oe,le,Re,be,pe)=>{F.slotScopeIds=be,P==null?F.shapeFlag&512?oe.ctx.activate(F,K,ne,Re,pe):v(F,K,ne,oe,le,Re,pe):R(P,F,pe)},v=(P,F,K,ne,oe,le,Re)=>{const be=P.component=T2(P,ne,oe);if(ls(P)&&(be.ctx.renderer=ee),B2(be,!1,Re),be.asyncDep){if(oe&&oe.registerDep(be,B,Re),!P.el){const pe=be.subTree=Qt(Ot);E(null,pe,F,K),P.placeholder=pe.el}}else B(be,P,F,K,oe,le,Re)},R=(P,F,K)=>{const ne=F.component=P.component;if(m2(P,F,K))if(ne.asyncDep&&!ne.asyncResolved){G(ne,F,K);return}else ne.next=F,ne.update();else F.el=P.el,ne.vnode=F},B=(P,F,K,ne,oe,le,Re)=>{const be=()=>{if(P.isMounted){let{next:Ae,bu:we,u:Oe,parent:ke,vnode:De}=P;{const g=Ll(P);if(g){Ae&&(Ae.el=De.el,G(P,Ae,Re)),g.asyncDep.then(()=>{P.isUnmounted||be()});return}}let Xe=Ae,St;Z0(P,!1),Ae?(Ae.el=De.el,G(P,Ae,Re)):Ae=De,we&&Fr(we),(St=Ae.props&&Ae.props.onVnodeBeforeUpdate)&&u0(St,ke,Ae,De),Z0(P,!0);const yt=vi(P),Rt=P.subTree;P.subTree=yt,Y(Rt,yt,_(Rt.el),U(Rt),P,oe,le),Ae.el=yt.el,Xe===null&&p2(P,yt.el),Oe&&qt(Oe,oe),(St=Ae.props&&Ae.props.onVnodeUpdated)&&qt(()=>u0(St,ke,Ae,De),oe)}else{let Ae;const{el:we,props:Oe}=F,{bm:ke,m:De,parent:Xe,root:St,type:yt}=P,Rt=nr(F);Z0(P,!1),ke&&Fr(ke),!Rt&&(Ae=Oe&&Oe.onVnodeBeforeMount)&&u0(Ae,Xe,F),Z0(P,!0);{St.ce&&St.ce._def.shadowRoot!==!1&&St.ce._injectChildStyle(yt);const g=P.subTree=vi(P);Y(null,g,K,ne,P,oe,le),F.el=g.el}if(De&&qt(De,oe),!Rt&&(Ae=Oe&&Oe.onVnodeMounted)){const g=F;qt(()=>u0(Ae,Xe,g),oe)}(F.shapeFlag&256||Xe&&nr(Xe.vnode)&&Xe.vnode.shapeFlag&256)&&P.a&&qt(P.a,oe),P.isMounted=!0,F=K=ne=null}};P.scope.on();const pe=P.effect=new $1(be);P.scope.off();const de=P.update=pe.run.bind(pe),Ie=P.job=pe.runIfDirty.bind(pe);Ie.i=P,Ie.id=P.uid,pe.scheduler=()=>Ha(Ie),Z0(P,!0),de()},G=(P,F,K)=>{F.component=P;const ne=P.vnode.props;P.vnode=F,P.next=null,Jc(P,F.props,ne,K),r2(P,F.children,K),C0(),ai(P),I0()},V=(P,F,K,ne,oe,le,Re,be,pe=!1)=>{const de=P&&P.children,Ie=P?P.shapeFlag:0,Ae=F.children,{patchFlag:we,shapeFlag:Oe}=F;if(we>0){if(we&128){c(de,Ae,K,ne,oe,le,Re,be,pe);return}else if(we&256){X(de,Ae,K,ne,oe,le,Re,be,pe);return}}Oe&8?(Ie&16&&me(de,oe,le),Ae!==de&&M(K,Ae)):Ie&16?Oe&16?c(de,Ae,K,ne,oe,le,Re,be,pe):me(de,oe,le,!0):(Ie&8&&M(K,""),Oe&16&&m(Ae,K,ne,oe,le,Re,be,pe))},X=(P,F,K,ne,oe,le,Re,be,pe)=>{P=P||Cn,F=F||Cn;const de=P.length,Ie=F.length,Ae=Math.min(de,Ie);let we;for(we=0;we<Ae;we++){const Oe=F[we]=pe?$0(F[we]):v0(F[we]);Y(P[we],Oe,K,null,oe,le,Re,be,pe)}de>Ie?me(P,oe,le,!0,!1,Ae):m(F,K,ne,oe,le,Re,be,pe,Ae)},c=(P,F,K,ne,oe,le,Re,be,pe)=>{let de=0;const Ie=F.length;let Ae=P.length-1,we=Ie-1;for(;de<=Ae&&de<=we;){const Oe=P[de],ke=F[de]=pe?$0(F[de]):v0(F[de]);if(hn(Oe,ke))Y(Oe,ke,K,null,oe,le,Re,be,pe);else break;de++}for(;de<=Ae&&de<=we;){const Oe=P[Ae],ke=F[we]=pe?$0(F[we]):v0(F[we]);if(hn(Oe,ke))Y(Oe,ke,K,null,oe,le,Re,be,pe);else break;Ae--,we--}if(de>Ae){if(de<=we){const Oe=we+1,ke=Oe<Ie?F[Oe].el:ne;for(;de<=we;)Y(null,F[de]=pe?$0(F[de]):v0(F[de]),K,ke,oe,le,Re,be,pe),de++}}else if(de>we)for(;de<=Ae;)q(P[de],oe,le,!0),de++;else{const Oe=de,ke=de,De=new Map;for(de=ke;de<=we;de++){const D=F[de]=pe?$0(F[de]):v0(F[de]);D.key!=null&&De.set(D.key,de)}let Xe,St=0;const yt=we-ke+1;let Rt=!1,g=0;const L=new Array(yt);for(de=0;de<yt;de++)L[de]=0;for(de=Oe;de<=Ae;de++){const D=P[de];if(St>=yt){q(D,oe,le,!0);continue}let W;if(D.key!=null)W=De.get(D.key);else for(Xe=ke;Xe<=we;Xe++)if(L[Xe-ke]===0&&hn(D,F[Xe])){W=Xe;break}W===void 0?q(D,oe,le,!0):(L[W-ke]=de+1,W>=g?g=W:Rt=!0,Y(D,F[W],K,null,oe,le,Re,be,pe),St++)}const $=Rt?l2(L):Cn;for(Xe=$.length-1,de=yt-1;de>=0;de--){const D=ke+de,W=F[D],k=F[D+1],Z=D+1<Ie?k.el||k.placeholder:ne;L[de]===0?Y(null,W,K,Z,oe,le,Re,be,pe):Rt&&(Xe<0||de!==$[Xe]?A(W,K,Z,2):Xe--)}}},A=(P,F,K,ne,oe=null)=>{const{el:le,type:Re,transition:be,children:pe,shapeFlag:de}=P;if(de&6){A(P.component.subTree,F,K,ne);return}if(de&128){P.suspense.move(F,K,ne);return}if(de&64){Re.move(P,F,K,ee);return}if(Re===r0){r(le,F,K);for(let Ae=0;Ae<pe.length;Ae++)A(pe[Ae],F,K,ne);r(P.anchor,F,K);return}if(Re===ks){s(P,F,K);return}if(ne!==2&&de&1&&be)if(ne===0)be.beforeEnter(le),r(le,F,K),qt(()=>be.enter(le),oe);else{const{leave:Ae,delayLeave:we,afterLeave:Oe}=be,ke=()=>{P.ctx.isUnmounted?a(le):r(le,F,K)},De=()=>{le._isLeaving&&le[A0](!0),Ae(le,()=>{ke(),Oe&&Oe()})};we?we(le,ke,De):De()}else r(le,F,K)},q=(P,F,K,ne=!1,oe=!1)=>{const{type:le,props:Re,ref:be,children:pe,dynamicChildren:de,shapeFlag:Ie,patchFlag:Ae,dirs:we,cacheIndex:Oe}=P;if(Ae===-2&&(oe=!1),be!=null&&(C0(),tr(be,null,K,P,!0),I0()),Oe!=null&&(F.renderCache[Oe]=void 0),Ie&256){F.ctx.deactivate(P);return}const ke=Ie&1&&we,De=!nr(P);let Xe;if(De&&(Xe=Re&&Re.onVnodeBeforeUnmount)&&u0(Xe,F,P),Ie&6)Se(P.component,K,ne);else{if(Ie&128){P.suspense.unmount(K,ne);return}ke&&z0(P,null,F,"beforeUnmount"),Ie&64?P.type.remove(P,F,K,ee,ne):de&&!de.hasOnce&&(le!==r0||Ae>0&&Ae&64)?me(de,F,K,!1,!0):(le===r0&&Ae&384||!oe&&Ie&16)&&me(pe,F,K),ne&&j(P)}(De&&(Xe=Re&&Re.onVnodeUnmounted)||ke)&&qt(()=>{Xe&&u0(Xe,F,P),ke&&z0(P,null,F,"unmounted")},K)},j=P=>{const{type:F,el:K,anchor:ne,transition:oe}=P;if(F===r0){ve(K,ne);return}if(F===ks){T(P);return}const le=()=>{a(K),oe&&!oe.persisted&&oe.afterLeave&&oe.afterLeave()};if(P.shapeFlag&1&&oe&&!oe.persisted){const{leave:Re,delayLeave:be}=oe,pe=()=>Re(K,le);be?be(P.el,le,pe):pe()}else le()},ve=(P,F)=>{let K;for(;P!==F;)K=H(P),a(P),P=K;a(F)},Se=(P,F,K)=>{const{bum:ne,scope:oe,job:le,subTree:Re,um:be,m:pe,a:de}=P;di(pe),di(de),ne&&Fr(ne),oe.stop(),le&&(le.flags|=8,q(Re,P,F,K)),be&&qt(be,F),qt(()=>{P.isUnmounted=!0},F)},me=(P,F,K,ne=!1,oe=!1,le=0)=>{for(let Re=le;Re<P.length;Re++)q(P[Re],F,K,ne,oe)},U=P=>{if(P.shapeFlag&6)return U(P.component.subTree);if(P.shapeFlag&128)return P.suspense.next();const F=H(P.anchor||P.el),K=F&&F[Ec];return K?H(K):F};let ce=!1;const te=(P,F,K)=>{P==null?F._vnode&&q(F._vnode,null,null,!0):Y(F._vnode||null,P,F,null,null,null,K),F._vnode=P,ce||(ce=!0,ai(),il(),ce=!1)},ee={p:Y,um:q,m:A,r:j,mt:v,mc:m,pc:V,pbc:u,n:U,o:e};return{render:te,hydrate:void 0,createApp:zc(te)}}function Vs({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Z0({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function i2(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function gl(e,t,n=!1){const r=e.children,a=t.children;if(Ne(r)&&Ne(a))for(let l=0;l<r.length;l++){const f=r[l];let d=a[l];d.shapeFlag&1&&!d.dynamicChildren&&((d.patchFlag<=0||d.patchFlag===32)&&(d=a[l]=$0(a[l]),d.el=f.el),!n&&d.patchFlag!==-2&&gl(f,d)),d.type===_s&&d.patchFlag!==-1&&(d.el=f.el),d.type===Ot&&!d.el&&(d.el=f.el)}}function l2(e){const t=e.slice(),n=[0];let r,a,l,f,d;const b=e.length;for(r=0;r<b;r++){const S=e[r];if(S!==0){if(a=n[n.length-1],e[a]<S){t[r]=a,n.push(r);continue}for(l=0,f=n.length-1;l<f;)d=l+f>>1,e[n[d]]<S?l=d+1:f=d;S<e[n[l]]&&(l>0&&(t[r]=n[l-1]),n[l]=r)}}for(l=n.length,f=n[l-1];l-- >0;)n[l]=f,f=t[f];return n}function Ll(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ll(t)}function di(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const o2=Symbol.for("v-scx"),c2=()=>p0(o2);function sr(e,t,n){return Ol(e,t,n)}function Ol(e,t,n=We){const{immediate:r,deep:a,flush:l,once:f}=n,d=bt({},n),b=t&&r||!t&&l!=="post";let S;if(dr){if(l==="sync"){const I=c2();S=I.__watcherHandles||(I.__watcherHandles=[])}else if(!b){const I=()=>{};return I.stop=m0,I.resume=m0,I.pause=m0,I}}const M=Bt;d.call=(I,C,Y)=>i0(I,M,C,Y);let _=!1;l==="post"?d.scheduler=I=>{qt(I,M&&M.suspense)}:l!=="sync"&&(_=!0,d.scheduler=(I,C)=>{C?I():Ha(I)}),d.augmentJob=I=>{t&&(I.flags|=4),_&&(I.flags|=2,M&&(I.id=M.uid,I.i=M))};const H=Sc(e,t,d);return dr&&(S?S.push(H):b&&H()),H}function u2(e,t,n){const r=this.proxy,a=ht(e)?e.includes(".")?Nl(r,e):()=>r[e]:e.bind(r,r);let l;Pe(t)?l=t:(l=t.handler,n=t);const f=Rr(this),d=Ol(a,l.bind(r),n);return f(),d}function Nl(e,t){const n=t.split(".");return()=>{let r=e;for(let a=0;a<n.length&&r;a++)r=r[n[a]];return r}}const f2=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Jt(t)}Modifiers`]||e[`${j0(t)}Modifiers`];function _2(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||We;let a=n;const l=t.startsWith("update:"),f=l&&f2(r,t.slice(7));f&&(f.trim&&(a=n.map(M=>ht(M)?M.trim():M)),f.number&&(a=n.map(aa)));let d,b=r[d=Cs(t)]||r[d=Cs(Jt(t))];!b&&l&&(b=r[d=Cs(j0(t))]),b&&i0(b,e,6,a);const S=r[d+"Once"];if(S){if(!e.emitted)e.emitted={};else if(e.emitted[d])return;e.emitted[d]=!0,i0(S,e,6,a)}}const h2=new WeakMap;function Hl(e,t,n=!1){const r=n?h2:t.emitsCache,a=r.get(e);if(a!==void 0)return a;const l=e.emits;let f={},d=!1;if(!Pe(e)){const b=S=>{const M=Hl(S,t,!0);M&&(d=!0,bt(f,M))};!n&&t.mixins.length&&t.mixins.forEach(b),e.extends&&b(e.extends),e.mixins&&e.mixins.forEach(b)}return!l&&!d?(Je(e)&&r.set(e,null),null):(Ne(l)?l.forEach(b=>f[b]=null):bt(f,l),Je(e)&&r.set(e,f),f)}function fs(e,t){return!e||!Jr(t)?!1:(t=t.slice(2).replace(/Once$/,""),je(e,t[0].toLowerCase()+t.slice(1))||je(e,j0(t))||je(e,t))}function vi(e){const{type:t,vnode:n,proxy:r,withProxy:a,propsOptions:[l],slots:f,attrs:d,emit:b,render:S,renderCache:M,props:_,data:H,setupState:I,ctx:C,inheritAttrs:Y}=e,N=Ur(e);let E,o;try{if(n.shapeFlag&4){const T=a||r,x=T;E=v0(S.call(x,T,M,_,I,H,C)),o=d}else{const T=t;E=v0(T.length>1?T(_,{attrs:d,slots:f,emit:b}):T(_,null)),o=t.props?d:d2(d)}}catch(T){ar.length=0,is(T,e,1),E=Qt(Ot)}let s=E;if(o&&Y!==!1){const T=Object.keys(o),{shapeFlag:x}=s;T.length&&x&7&&(l&&T.some(Aa)&&(o=v2(o,l)),s=Y0(s,o,!1,!0))}return n.dirs&&(s=Y0(s,null,!1,!0),s.dirs=s.dirs?s.dirs.concat(n.dirs):n.dirs),n.transition&&_r(s,n.transition),E=s,Ur(N),E}const d2=e=>{let t;for(const n in e)(n==="class"||n==="style"||Jr(n))&&((t||(t={}))[n]=e[n]);return t},v2=(e,t)=>{const n={};for(const r in e)(!Aa(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function m2(e,t,n){const{props:r,children:a,component:l}=e,{props:f,children:d,patchFlag:b}=t,S=l.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&b>=0){if(b&1024)return!0;if(b&16)return r?mi(r,f,S):!!f;if(b&8){const M=t.dynamicProps;for(let _=0;_<M.length;_++){const H=M[_];if(f[H]!==r[H]&&!fs(S,H))return!0}}}else return(a||d)&&(!d||!d.$stable)?!0:r===f?!1:r?f?mi(r,f,S):!0:!!f;return!1}function mi(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let a=0;a<r.length;a++){const l=r[a];if(t[l]!==e[l]&&!fs(n,l))return!0}return!1}function p2({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const Vl=e=>e.__isSuspense;function b2(e,t){t&&t.pendingBranch?Ne(e)?t.effects.push(...e):t.effects.push(e):xc(e)}const r0=Symbol.for("v-fgt"),_s=Symbol.for("v-txt"),Ot=Symbol.for("v-cmt"),ks=Symbol.for("v-stc"),ar=[];let Yt=null;function xt(e=!1){ar.push(Yt=e?null:[])}function S2(){ar.pop(),Yt=ar[ar.length-1]||null}let hr=1;function Wr(e,t=!1){hr+=e,e<0&&Yt&&t&&(Yt.hasOnce=!0)}function kl(e){return e.dynamicChildren=hr>0?Yt||Cn:null,S2(),hr>0&&Yt&&Yt.push(e),e}function wt(e,t,n,r,a,l){return kl(Ce(e,t,n,r,a,l,!0))}function y2(e,t,n,r,a){return kl(Qt(e,t,n,r,a,!0))}function zr(e){return e?e.__v_isVNode===!0:!1}function hn(e,t){return e.type===t.type&&e.key===t.key}const Fl=({key:e})=>e??null,$r=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?ht(e)||_t(e)||Pe(e)?{i:Gt,r:e,k:t,f:!!n}:e:null);function Ce(e,t=null,n=null,r=0,a=null,l=e===r0?0:1,f=!1,d=!1){const b={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Fl(t),ref:t&&$r(t),scopeId:ol,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:r,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:Gt};return d?(Fa(b,n),l&128&&e.normalize(b)):n&&(b.shapeFlag|=ht(n)?8:16),hr>0&&!f&&Yt&&(b.patchFlag>0||l&6)&&b.patchFlag!==32&&Yt.push(b),b}const Qt=R2;function R2(e,t=null,n=null,r=0,a=null,l=!1){if((!e||e===$c)&&(e=Ot),zr(e)){const d=Y0(e,t,!0);return n&&Fa(d,n),hr>0&&!l&&Yt&&(d.shapeFlag&6?Yt[Yt.indexOf(e)]=d:Yt.push(d)),d.patchFlag=-2,d}if(O2(e)&&(e=e.__vccOpts),t){t=x2(t);let{class:d,style:b}=t;d&&!ht(d)&&(t.class=w0(d)),Je(b)&&(La(b)&&!Ne(b)&&(b=bt({},b)),t.style=ss(b))}const f=ht(e)?1:Vl(e)?128:ul(e)?64:Je(e)?4:Pe(e)?2:0;return Ce(e,t,n,r,a,f,l,!0)}function x2(e){return e?La(e)||Ml(e)?bt({},e):e:null}function Y0(e,t,n=!1,r=!1){const{props:a,ref:l,patchFlag:f,children:d,transition:b}=e,S=t?E2(a||{},t):a,M={__v_isVNode:!0,__v_skip:!0,type:e.type,props:S,key:S&&Fl(S),ref:t&&t.ref?n&&l?Ne(l)?l.concat($r(t)):[l,$r(t)]:$r(t):l,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:d,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==r0?f===-1?16:f|16:f,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:b,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Y0(e.ssContent),ssFallback:e.ssFallback&&Y0(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return b&&r&&_r(M,b.clone(M)),M}function A2(e=" ",t=0){return Qt(_s,null,e,t)}function Zn(e="",t=!1){return t?(xt(),y2(Ot,null,e)):Qt(Ot,null,e)}function v0(e){return e==null||typeof e=="boolean"?Qt(Ot):Ne(e)?Qt(r0,null,e.slice()):zr(e)?$0(e):Qt(_s,null,String(e))}function $0(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Y0(e)}function Fa(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Ne(t))n=16;else if(typeof t=="object")if(r&65){const a=t.default;a&&(a._c&&(a._d=!1),Fa(e,a()),a._c&&(a._d=!0));return}else{n=32;const a=t._;!a&&!Ml(t)?t._ctx=Gt:a===3&&Gt&&(Gt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Pe(t)?(t={default:t,_ctx:Gt},n=32):(t=String(t),r&64?(n=16,t=[A2(t)]):n=8);e.children=t,e.shapeFlag|=n}function E2(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const a in r)if(a==="class")t.class!==r.class&&(t.class=w0([t.class,r.class]));else if(a==="style")t.style=ss([t.style,r.style]);else if(Jr(a)){const l=t[a],f=r[a];f&&l!==f&&!(Ne(l)&&l.includes(f))&&(t[a]=l?[].concat(l,f):f)}else a!==""&&(t[a]=r[a])}return t}function u0(e,t,n,r=null){i0(e,t,7,[n,r])}const M2=xl();let w2=0;function T2(e,t,n){const r=e.type,a=(t?t.appContext:e.appContext)||M2,l={uid:w2++,vnode:e,type:r,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new k1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Tl(r,a),emitsOptions:Hl(r,a),emit:null,emitted:null,propsDefaults:We,inheritAttrs:r.inheritAttrs,ctx:We,data:We,props:We,attrs:We,slots:We,refs:We,setupState:We,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=t?t.root:l,l.emit=_2.bind(null,l),e.ce&&e.ce(l),l}let Bt=null;const Pa=()=>Bt||Gt;let Zr,da;{const e=rs(),t=(n,r)=>{let a;return(a=e[n])||(a=e[n]=[]),a.push(r),l=>{a.length>1?a.forEach(f=>f(l)):a[0](l)}};Zr=t("__VUE_INSTANCE_SETTERS__",n=>Bt=n),da=t("__VUE_SSR_SETTERS__",n=>dr=n)}const Rr=e=>{const t=Bt;return Zr(e),e.scope.on(),()=>{e.scope.off(),Zr(t)}},pi=()=>{Bt&&Bt.scope.off(),Zr(null)};function Pl(e){return e.vnode.shapeFlag&4}let dr=!1;function B2(e,t=!1,n=!1){t&&da(t);const{props:r,children:a}=e.vnode,l=Pl(e);Qc(e,r,l,t),n2(e,a,n||t);const f=l?C2(e,t):void 0;return t&&da(!1),f}function C2(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,qc);const{setup:r}=n;if(r){C0();const a=e.setupContext=r.length>1?g2(e):null,l=Rr(e),f=yr(r,e,0,[e.props,a]),d=I1(f);if(I0(),l(),(d||e.sp)&&!nr(e)&&pl(e),d){if(f.then(pi,pi),t)return f.then(b=>{bi(e,b)}).catch(b=>{is(b,e,0)});e.asyncDep=f}else bi(e,f)}else $l(e)}function bi(e,t,n){Pe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Je(t)&&(e.setupState=rl(t)),$l(e)}function $l(e,t,n){const r=e.type;e.render||(e.render=r.render||m0);{const a=Rr(e);C0();try{Gc(e)}finally{I0(),a()}}}const I2={get(e,t){return Tt(e,"get",""),e[t]}};function g2(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,I2),slots:e.slots,emit:e.emit,expose:t}}function hs(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(rl(Oa(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in rr)return rr[n](e)},has(t,n){return n in t||n in rr}})):e.proxy}function L2(e,t=!0){return Pe(e)?e.displayName||e.name:e.name||t&&e.__name}function O2(e){return Pe(e)&&"__vccOpts"in e}const zt=(e,t)=>pc(e,t,dr);function $a(e,t,n){const r=(l,f,d)=>{Wr(-1);try{return Qt(l,f,d)}finally{Wr(1)}},a=arguments.length;return a===2?Je(t)&&!Ne(t)?zr(t)?r(e,null,[t]):r(e,t):r(e,null,t):(a>3?n=Array.prototype.slice.call(arguments,2):a===3&&zr(n)&&(n=[n]),r(e,t,n))}const N2="3.5.21";/**
* @vue/runtime-dom v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let va;const Si=typeof window<"u"&&window.trustedTypes;if(Si)try{va=Si.createPolicy("vue",{createHTML:e=>e})}catch{}const Dl=va?e=>va.createHTML(e):e=>e,H2="http://www.w3.org/2000/svg",V2="http://www.w3.org/1998/Math/MathML",x0=typeof document<"u"?document:null,yi=x0&&x0.createElement("template"),k2={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const a=t==="svg"?x0.createElementNS(H2,e):t==="mathml"?x0.createElementNS(V2,e):n?x0.createElement(e,{is:n}):x0.createElement(e);return e==="select"&&r&&r.multiple!=null&&a.setAttribute("multiple",r.multiple),a},createText:e=>x0.createTextNode(e),createComment:e=>x0.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>x0.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,a,l){const f=n?n.previousSibling:t.lastChild;if(a&&(a===l||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),n),!(a===l||!(a=a.nextSibling)););else{yi.innerHTML=Dl(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const d=yi.content;if(r==="svg"||r==="mathml"){const b=d.firstChild;for(;b.firstChild;)d.appendChild(b.firstChild);d.removeChild(b)}t.insertBefore(d,n)}return[f?f.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},N0="transition",Gn="animation",vr=Symbol("_vtc"),Xl={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},F2=bt({},fl,Xl),P2=e=>(e.displayName="Transition",e.props=F2,e),$2=P2((e,{slots:t})=>$a(Tc,D2(e),t)),Q0=(e,t=[])=>{Ne(e)?e.forEach(n=>n(...t)):e&&e(...t)},Ri=e=>e?Ne(e)?e.some(t=>t.length>1):e.length>1:!1;function D2(e){const t={};for(const i in e)i in Xl||(t[i]=e[i]);if(e.css===!1)return t;const{name:n="v",type:r,duration:a,enterFromClass:l=`${n}-enter-from`,enterActiveClass:f=`${n}-enter-active`,enterToClass:d=`${n}-enter-to`,appearFromClass:b=l,appearActiveClass:S=f,appearToClass:M=d,leaveFromClass:_=`${n}-leave-from`,leaveActiveClass:H=`${n}-leave-active`,leaveToClass:I=`${n}-leave-to`}=e,C=X2(a),Y=C&&C[0],N=C&&C[1],{onBeforeEnter:E,onEnter:o,onEnterCancelled:s,onLeave:T,onLeaveCancelled:x,onBeforeAppear:O=E,onAppear:w=o,onAppearCancelled:m=s}=t,p=(i,h,v,R)=>{i._enterCancelled=R,J0(i,h?M:d),J0(i,h?S:f),v&&v()},u=(i,h)=>{i._isLeaving=!1,J0(i,_),J0(i,I),J0(i,H),h&&h()},y=i=>(h,v)=>{const R=i?w:o,B=()=>p(h,i,v);Q0(R,[h,B]),xi(()=>{J0(h,i?b:l),S0(h,i?M:d),Ri(R)||Ai(h,r,Y,B)})};return bt(t,{onBeforeEnter(i){Q0(E,[i]),S0(i,l),S0(i,f)},onBeforeAppear(i){Q0(O,[i]),S0(i,b),S0(i,S)},onEnter:y(!1),onAppear:y(!0),onLeave(i,h){i._isLeaving=!0;const v=()=>u(i,h);S0(i,_),i._enterCancelled?(S0(i,H),wi()):(wi(),S0(i,H)),xi(()=>{i._isLeaving&&(J0(i,_),S0(i,I),Ri(T)||Ai(i,r,N,v))}),Q0(T,[i,v])},onEnterCancelled(i){p(i,!1,void 0,!0),Q0(s,[i])},onAppearCancelled(i){p(i,!0,void 0,!0),Q0(m,[i])},onLeaveCancelled(i){u(i),Q0(x,[i])}})}function X2(e){if(e==null)return null;if(Je(e))return[Fs(e.enter),Fs(e.leave)];{const t=Fs(e);return[t,t]}}function Fs(e){return ko(e)}function S0(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[vr]||(e[vr]=new Set)).add(t)}function J0(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[vr];n&&(n.delete(t),n.size||(e[vr]=void 0))}function xi(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let q2=0;function Ai(e,t,n,r){const a=e._endId=++q2,l=()=>{a===e._endId&&r()};if(n!=null)return setTimeout(l,n);const{type:f,timeout:d,propCount:b}=G2(e,t);if(!f)return r();const S=f+"end";let M=0;const _=()=>{e.removeEventListener(S,H),l()},H=I=>{I.target===e&&++M>=b&&_()};setTimeout(()=>{M<b&&_()},d+1),e.addEventListener(S,H)}function G2(e,t){const n=window.getComputedStyle(e),r=C=>(n[C]||"").split(", "),a=r(`${N0}Delay`),l=r(`${N0}Duration`),f=Ei(a,l),d=r(`${Gn}Delay`),b=r(`${Gn}Duration`),S=Ei(d,b);let M=null,_=0,H=0;t===N0?f>0&&(M=N0,_=f,H=l.length):t===Gn?S>0&&(M=Gn,_=S,H=b.length):(_=Math.max(f,S),M=_>0?f>S?N0:Gn:null,H=M?M===N0?l.length:b.length:0);const I=M===N0&&/\b(?:transform|all)(?:,|$)/.test(r(`${N0}Property`).toString());return{type:M,timeout:_,propCount:H,hasTransform:I}}function Ei(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>Mi(n)+Mi(e[r])))}function Mi(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function wi(){return document.body.offsetHeight}function Y2(e,t,n){const r=e[vr];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Ti=Symbol("_vod"),U2=Symbol("_vsh"),j2=Symbol(""),K2=/(?:^|;)\s*display\s*:/;function W2(e,t,n){const r=e.style,a=ht(n);let l=!1;if(n&&!a){if(t)if(ht(t))for(const f of t.split(";")){const d=f.slice(0,f.indexOf(":")).trim();n[d]==null&&Dr(r,d,"")}else for(const f in t)n[f]==null&&Dr(r,f,"");for(const f in n)f==="display"&&(l=!0),Dr(r,f,n[f])}else if(a){if(t!==n){const f=r[j2];f&&(n+=";"+f),r.cssText=n,l=K2.test(n)}}else t&&e.removeAttribute("style");Ti in e&&(e[Ti]=l?r.display:"",e[U2]&&(r.display="none"))}const Bi=/\s*!important$/;function Dr(e,t,n){if(Ne(n))n.forEach(r=>Dr(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=z2(e,t);Bi.test(n)?e.setProperty(j0(r),n.replace(Bi,""),"important"):e[r]=n}}const Ci=["Webkit","Moz","ms"],Ps={};function z2(e,t){const n=Ps[t];if(n)return n;let r=Jt(t);if(r!=="filter"&&r in e)return Ps[t]=r;r=ns(r);for(let a=0;a<Ci.length;a++){const l=Ci[a]+r;if(l in e)return Ps[t]=l}return t}const Ii="http://www.w3.org/1999/xlink";function gi(e,t,n,r,a,l=qo(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Ii,t.slice(6,t.length)):e.setAttributeNS(Ii,t,n):n==null||l&&!N1(n)?e.removeAttribute(t):e.setAttribute(t,l?"":U0(n)?String(n):n)}function Li(e,t,n,r,a){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Dl(n):n);return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){const d=l==="OPTION"?e.getAttribute("value")||"":e.value,b=n==null?e.type==="checkbox"?"on":"":String(n);(d!==b||!("_value"in e))&&(e.value=b),n==null&&e.removeAttribute(t),e._value=n;return}let f=!1;if(n===""||n==null){const d=typeof e[t];d==="boolean"?n=N1(n):n==null&&d==="string"?(n="",f=!0):d==="number"&&(n=0,f=!0)}try{e[t]=n}catch{}f&&e.removeAttribute(a||t)}function wn(e,t,n,r){e.addEventListener(t,n,r)}function Z2(e,t,n,r){e.removeEventListener(t,n,r)}const Oi=Symbol("_vei");function Q2(e,t,n,r,a=null){const l=e[Oi]||(e[Oi]={}),f=l[t];if(r&&f)f.value=r;else{const[d,b]=J2(t);if(r){const S=l[t]=nu(r,a);wn(e,d,S,b)}else f&&(Z2(e,d,f,b),l[t]=void 0)}}const Ni=/(?:Once|Passive|Capture)$/;function J2(e){let t;if(Ni.test(e)){t={};let r;for(;r=e.match(Ni);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):j0(e.slice(2)),t]}let $s=0;const eu=Promise.resolve(),tu=()=>$s||(eu.then(()=>$s=0),$s=Date.now());function nu(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;i0(ru(r,n.value),t,5,[r])};return n.value=e,n.attached=tu(),n}function ru(e,t){if(Ne(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>a=>!a._stopped&&r&&r(a))}else return t}const Hi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,su=(e,t,n,r,a,l)=>{const f=a==="svg";t==="class"?Y2(e,r,f):t==="style"?W2(e,n,r):Jr(t)?Aa(t)||Q2(e,t,n,r,l):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):au(e,t,r,f))?(Li(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&gi(e,t,r,f,l,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!ht(r))?Li(e,Jt(t),r,l,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),gi(e,t,r,f))};function au(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Hi(t)&&Pe(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return Hi(t)&&ht(n)?!1:t in e}const Vi=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ne(t)?n=>Fr(t,n):t};function iu(e){e.target.composing=!0}function ki(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ds=Symbol("_assign"),lu={created(e,{modifiers:{lazy:t,trim:n,number:r}},a){e[Ds]=Vi(a);const l=r||a.props&&a.props.type==="number";wn(e,t?"change":"input",f=>{if(f.target.composing)return;let d=e.value;n&&(d=d.trim()),l&&(d=aa(d)),e[Ds](d)}),n&&wn(e,"change",()=>{e.value=e.value.trim()}),t||(wn(e,"compositionstart",iu),wn(e,"compositionend",ki),wn(e,"change",ki))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:a,number:l}},f){if(e[Ds]=Vi(f),e.composing)return;const d=(l||e.type==="number")&&!/^0\d/.test(e.value)?aa(e.value):e.value,b=t??"";d!==b&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||a&&e.value.trim()===b)||(e.value=b))}},ou=["ctrl","shift","alt","meta"],cu={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>ou.some(n=>e[`${n}Key`]&&!t.includes(n))},uu=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(a,...l)=>{for(let f=0;f<t.length;f++){const d=cu[t[f]];if(d&&d(a,t))return}return e(a,...l)})},fu={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},_u=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=a=>{if(!("key"in a))return;const l=j0(a.key);if(t.some(f=>f===l||fu[f]===l))return e(a)})},hu=bt({patchProp:su},k2);let Fi;function du(){return Fi||(Fi=s2(hu))}const vu=(...e)=>{const t=du().createApp(...e),{mount:n}=t;return t.mount=r=>{const a=pu(r);if(!a)return;const l=t._component;!Pe(l)&&!l.render&&!l.template&&(l.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const f=n(a,!1,mu(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),f},t};function mu(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function pu(e){return ht(e)?document.querySelector(e):e}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let ql;const ds=e=>ql=e,Gl=Symbol();function ma(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var ir;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(ir||(ir={}));function bu(){const e=F1(!0),t=e.run(()=>gt({}));let n=[],r=[];const a=Oa({install(l){ds(a),a._a=l,l.provide(Gl,a),l.config.globalProperties.$pinia=a,r.forEach(f=>n.push(f)),r=[]},use(l){return this._a?n.push(l):r.push(l),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return a}const Yl=()=>{};function Pi(e,t,n,r=Yl){e.push(t);const a=()=>{const l=e.indexOf(t);l>-1&&(e.splice(l,1),r())};return!n&&P1()&&Go(a),a}function yn(e,...t){e.slice().forEach(n=>{n(...t)})}const Su=e=>e(),$i=Symbol(),Xs=Symbol();function pa(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,r)=>e.set(r,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],a=e[n];ma(a)&&ma(r)&&e.hasOwnProperty(n)&&!_t(r)&&!q0(r)?e[n]=pa(a,r):e[n]=r}return e}const yu=Symbol();function Ru(e){return!ma(e)||!e.hasOwnProperty(yu)}const{assign:F0}=Object;function xu(e){return!!(_t(e)&&e.effect)}function Au(e,t,n,r){const{state:a,actions:l,getters:f}=t,d=n.state.value[e];let b;function S(){d||(n.state.value[e]=a?a():{});const M=hc(n.state.value[e]);return F0(M,l,Object.keys(f||{}).reduce((_,H)=>(_[H]=Oa(zt(()=>{ds(n);const I=n._s.get(e);return f[H].call(I,I)})),_),{}))}return b=Ul(e,S,t,n,r,!0),b}function Ul(e,t,n={},r,a,l){let f;const d=F0({actions:{}},n),b={deep:!0};let S,M,_=[],H=[],I;const C=r.state.value[e];!l&&!C&&(r.state.value[e]={}),gt({});let Y;function N(m){let p;S=M=!1,typeof m=="function"?(m(r.state.value[e]),p={type:ir.patchFunction,storeId:e,events:I}):(pa(r.state.value[e],m),p={type:ir.patchObject,payload:m,storeId:e,events:I});const u=Y=Symbol();Na().then(()=>{Y===u&&(S=!0)}),M=!0,yn(_,p,r.state.value[e])}const E=l?function(){const{state:p}=n,u=p?p():{};this.$patch(y=>{F0(y,u)})}:Yl;function o(){f.stop(),_=[],H=[],r._s.delete(e)}const s=(m,p="")=>{if($i in m)return m[Xs]=p,m;const u=function(){ds(r);const y=Array.from(arguments),i=[],h=[];function v(G){i.push(G)}function R(G){h.push(G)}yn(H,{args:y,name:u[Xs],store:x,after:v,onError:R});let B;try{B=m.apply(this&&this.$id===e?this:x,y)}catch(G){throw yn(h,G),G}return B instanceof Promise?B.then(G=>(yn(i,G),G)).catch(G=>(yn(h,G),Promise.reject(G))):(yn(i,B),B)};return u[$i]=!0,u[Xs]=p,u},T={_p:r,$id:e,$onAction:Pi.bind(null,H),$patch:N,$reset:E,$subscribe(m,p={}){const u=Pi(_,m,p.detached,()=>y()),y=f.run(()=>sr(()=>r.state.value[e],i=>{(p.flush==="sync"?M:S)&&m({storeId:e,type:ir.direct,events:I},i)},F0({},b,p)));return u},$dispose:o},x=Sr(T);r._s.set(e,x);const w=(r._a&&r._a.runWithContext||Su)(()=>r._e.run(()=>(f=F1()).run(()=>t({action:s}))));for(const m in w){const p=w[m];if(_t(p)&&!xu(p)||q0(p))l||(C&&Ru(p)&&(_t(p)?p.value=C[m]:pa(p,C[m])),r.state.value[e][m]=p);else if(typeof p=="function"){const u=s(p,m);w[m]=u,d.actions[m]=p}}return F0(x,w),F0(Ye(x),w),Object.defineProperty(x,"$state",{get:()=>r.state.value[e],set:m=>{N(p=>{F0(p,m)})}}),r._p.forEach(m=>{F0(x,f.run(()=>m({store:x,app:r._a,pinia:r,options:d})))}),C&&l&&n.hydrate&&n.hydrate(x.$state,C),S=!0,M=!0,x}/*! #__NO_SIDE_EFFECTS__ */function Eu(e,t,n){let r,a;const l=typeof t=="function";r=e,a=l?n:t;function f(d,b){const S=Zc();return d=d||(S?p0(Gl,null):null),d&&ds(d),d=ql,d._s.has(r)||(l?Ul(r,t,a,d):Au(r,a,d)),d._s.get(r)}return f.$id=r,f}const Da=Eu("recorder",{state:()=>({isRecording:!1,isPaused:!1,recordingTime:0,currentRecording:null,recordings:[],currentPlayingId:null,isPlaying:!1,settings:{audioQuality:"high",maxRecordingTime:300,autoSave:!0,showNotifications:!0,inputSource:"mix",downloadDir:"recordings",echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,gain:1},hasPermission:!1,permissionError:null}),getters:{formattedRecordingTime:e=>{const t=Math.floor(e.recordingTime/60),n=e.recordingTime%60;return`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`},totalRecordings:e=>e.recordings.length,totalRecordingTime:e=>e.recordings.reduce((t,n)=>t+n.duration,0),currentRecordingData:e=>e.recordings.find(t=>t.id===e.currentPlayingId)},actions:{setRecordingState(e,t=!1){this.isRecording=e,this.isPaused=t},updateRecordingTime(e){this.recordingTime=e},addRecording(e){const t={id:Date.now().toString(),name:e.name||`录音 ${this.recordings.length+1}`,duration:e.duration||0,size:e.size||0,createdAt:new Date().toISOString(),audioUrl:e.audioUrl,audioBlob:e.audioBlob};this.recordings.unshift(t),this.saveToStorage()},deleteRecording(e){const t=this.recordings.findIndex(n=>n.id===e);t>-1&&(this.currentPlayingId===e&&this.stopPlaying(),this.recordings.splice(t,1),this.saveToStorage())},renameRecording(e,t){const n=this.recordings.find(r=>r.id===e);n&&(n.name=t,this.saveToStorage())},setPlayingState(e,t){this.currentPlayingId=t?e:null,this.isPlaying=t},stopPlaying(){this.currentPlayingId=null,this.isPlaying=!1},updateSettings(e){this.settings={...this.settings,...e},this.saveToStorage()},setPermission(e,t=null){this.hasPermission=e,this.permissionError=t},resetRecordingTime(){this.recordingTime=0},async saveToStorage(){try{const e={recordings:this.recordings.map(t=>({...t,audioBlob:void 0})),settings:this.settings};await chrome.storage.local.set({voiceRecorderData:e})}catch(e){console.error("保存数据失败:",e)}},async loadFromStorage(){try{const e=await chrome.storage.local.get(["voiceRecorderData"]);if(e.voiceRecorderData){const t=e.voiceRecorderData;t.recordings&&(this.recordings=t.recordings),t.settings&&(this.settings={...this.settings,...t.settings})}}catch(e){console.error("加载数据失败:",e)}},clearAllRecordings(){this.recordings=[],this.stopPlaying(),this.saveToStorage()}}});class jl{constructor(){this.mediaRecorder=null,this.stream=null,this.micStream=null,this.tabStream=null,this.chunks=[],this.isRecording=!1,this.isPaused=!1,this.audioContext=null,this.analyser=null,this.levelDataArray=null,this.levelCallback=null}isSupported(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&window.MediaRecorder)}async requestPermissionAndStart(t="mix"){if(!this.isSupported())throw new Error("您的浏览器不支持录音功能");console.log("🎤 正在获取麦克风输入...");try{if((t==="mic"||t==="mix")&&(this.micStream=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,sampleRate:44100}})),t==="tab"||t==="mix")try{const n=await navigator.mediaDevices.getUserMedia({audio:{mandatory:{chromeMediaSource:"tab"}}});this.tabStream=n}catch(n){console.warn("获取标签页音频失败:",n)}if(t==="tab")this.stream=this.tabStream||this.micStream;else if(t==="mic")this.stream=this.micStream||this.tabStream;else if(this.tabStream&&this.micStream){const n=new(window.AudioContext||window.webkitAudioContext),r=n.createMediaStreamDestination(),a=[];a.push(n.createMediaStreamSource(this.micStream)),a[a.length-1].connect(r),a.push(n.createMediaStreamSource(this.tabStream)),a[a.length-1].connect(r),this.stream=r.stream,this.audioContext=n}else this.stream=this.micStream||this.tabStream;try{const n=this.audioContext||new(window.AudioContext||window.webkitAudioContext),r=n.createMediaStreamSource(this.stream),a=n.createAnalyser();a.fftSize=256;const l=a.frequencyBinCount,f=new Uint8Array(l);r.connect(a),this.analyser=a,this.levelDataArray=f,this.audioContext=n}catch{}return console.log("✅ 录音输入已就绪"),console.log("🔊 音频轨道信息:",this.stream.getAudioTracks().map(n=>({label:n.label,enabled:n.enabled,readyState:n.readyState}))),!0}catch(n){throw console.error("❌ 获取麦克风失败:",n),n&&n.name==="NotAllowedError"&&(n._dismissed=/dismissed/i.test(String(n.message))),n}}async startRecording(t="mix"){if(console.log("SimpleRecorder: 开始录音流程"),this.isRecording)throw new Error("已在录音中");this.stream?console.log("SimpleRecorder: 使用现有音频流"):(console.log("SimpleRecorder: 需要请求麦克风权限"),await this.requestPermissionAndStart(t)),console.log("SimpleRecorder: 初始化MediaRecorder"),this.chunks=[];try{this.mediaRecorder=new MediaRecorder(this.stream,{mimeType:"audio/webm;codecs=opus"}),console.log("SimpleRecorder: MediaRecorder创建成功")}catch(n){throw console.error("SimpleRecorder: MediaRecorder创建失败:",n),new Error(`MediaRecorder创建失败: ${n.message}`)}this.mediaRecorder.ondataavailable=n=>{n.data.size>0&&(console.log("SimpleRecorder: 接收到音频数据块:",n.data.size,"bytes"),this.chunks.push(n.data))},this.mediaRecorder.onstart=()=>{console.log("SimpleRecorder: MediaRecorder已启动"),this.isRecording=!0,this.isPaused=!1},this.mediaRecorder.onpause=()=>{console.log("录音暂停"),this.isPaused=!0},this.mediaRecorder.onresume=()=>{console.log("录音恢复"),this.isPaused=!1},this.mediaRecorder.onstop=()=>{console.log("SimpleRecorder: MediaRecorder已停止"),this.isRecording=!1,this.isPaused=!1},this.mediaRecorder.onerror=n=>{console.error("SimpleRecorder: MediaRecorder错误:",n.error)},console.log("SimpleRecorder: 准备启动MediaRecorder...");try{this.mediaRecorder.start(1e3),console.log("SimpleRecorder: MediaRecorder.start()调用成功")}catch(n){throw console.error("SimpleRecorder: MediaRecorder.start()调用失败:",n),n}return!0}async stopRecording(){if(!this.isRecording)throw new Error("当前没有录音");return new Promise((t,n)=>{this.mediaRecorder.onstop=()=>{try{const r=new Blob(this.chunks,{type:"audio/webm"}),a=URL.createObjectURL(r),l={blob:r,url:a,duration:this.chunks.length,size:r.size,timestamp:Date.now()};this.isRecording=!1,this.isPaused=!1,t(l)}catch(r){n(r)}},this.mediaRecorder.stop()})}pauseRecording(){if(!this.isRecording||this.isPaused)throw new Error("无法暂停录音");this.mediaRecorder.pause()}resumeRecording(){if(!this.isRecording||!this.isPaused)throw new Error("无法恢复录音");this.mediaRecorder.resume()}getState(){return this.mediaRecorder?this.mediaRecorder.state:"inactive"}onLevel(t){if(this.levelCallback=t,!this.analyser||!this.levelDataArray)return;const n=()=>{if(!this.levelCallback)return;this.analyser.getByteTimeDomainData(this.levelDataArray);let r=0;for(let l=0;l<this.levelDataArray.length;l++){const f=(this.levelDataArray[l]-128)/128;r+=f*f}const a=Math.sqrt(r/this.levelDataArray.length);this.levelCallback(Math.min(1,a*1.5)),requestAnimationFrame(n)};requestAnimationFrame(n)}offLevel(){this.levelCallback=null}cleanup(){const t=n=>{try{n&&n.getTracks().forEach(r=>r.stop())}catch{}};t(this.stream),t(this.micStream),t(this.tabStream),this.stream=null,this.micStream=null,this.tabStream=null,this.mediaRecorder&&this.mediaRecorder.state!=="inactive"&&this.mediaRecorder.stop(),this.mediaRecorder=null,this.chunks=[],this.isRecording=!1,this.isPaused=!1,this.levelCallback=null}}var Xa={};function Mu(e){return new Int8Array(e)}function wu(e){return new Int16Array(e)}function Kl(e){return new Int32Array(e)}function Wl(e){return new Float32Array(e)}function Tu(e){return new Float64Array(e)}function zl(e){if(e.length==1)return Wl(e[0]);var t=e[0];e=e.slice(1);for(var n=[],r=0;r<t;r++)n.push(zl(e));return n}function Zl(e){if(e.length==1)return Kl(e[0]);var t=e[0];e=e.slice(1);for(var n=[],r=0;r<t;r++)n.push(Zl(e));return n}function Ql(e){if(e.length==1)return wu(e[0]);var t=e[0];e=e.slice(1);for(var n=[],r=0;r<t;r++)n.push(Ql(e));return n}function Jl(e){if(e.length==1)return new Array(e[0]);var t=e[0];e=e.slice(1);for(var n=[],r=0;r<t;r++)n.push(Jl(e));return n}var eo={};eo.fill=function(e,t,n,r){if(arguments.length==2)for(var a=0;a<e.length;a++)e[a]=arguments[1];else for(var a=t;a<n;a++)e[a]=r};var xr={};xr.arraycopy=function(e,t,n,r,a){for(var l=t+a;t<l;)n[r++]=e[t++]};xr.out={};xr.out.println=function(e){console.log(e)};xr.out.printf=function(){console.log.apply(console,arguments)};var vs={};vs.SQRT2=1.4142135623730951;vs.FAST_LOG10=function(e){return Math.log10(e)};vs.FAST_LOG10_X=function(e,t){return Math.log10(e)*t};function g0(e){this.ordinal=e}g0.short_block_allowed=new g0(0);g0.short_block_coupled=new g0(1);g0.short_block_dispensed=new g0(2);g0.short_block_forced=new g0(3);var to={};to.MAX_VALUE=34028235e31;function Ut(e){this.ordinal=e}Ut.vbr_off=new Ut(0);Ut.vbr_mt=new Ut(1);Ut.vbr_rh=new Ut(2);Ut.vbr_abr=new Ut(3);Ut.vbr_mtrh=new Ut(4);Ut.vbr_default=Ut.vbr_mtrh;var Bu=function(e){},rt={System:xr,VbrMode:Ut,Float:to,ShortBlock:g0,Util:vs,Arrays:eo,new_array_n:Jl,new_byte:Mu,new_double:Tu,new_float:Wl,new_float_n:zl,new_int:Kl,new_int_n:Zl,new_short_n:Ql,assert:Bu},qs,Di;function Cu(){if(Di)return qs;Di=1;var e=rt,t=e.System,n=e.Util,r=e.Arrays,a=e.new_float,l=Ct();function f(){var d=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*n.SQRT2*.5/2384e-9,.017876148*n.SQRT2*.5/2384e-9,.003134727*n.SQRT2*.5/2384e-9,.002457142*n.SQRT2*.5/2384e-9,971317e-9*n.SQRT2*.5/2384e-9,218868e-9*n.SQRT2*.5/2384e-9,101566e-9*n.SQRT2*.5/2384e-9,13828e-9*n.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],b=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],S=b[l.SHORT_TYPE],M=b[l.SHORT_TYPE],_=b[l.SHORT_TYPE],H=b[l.SHORT_TYPE],I=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function C(E,o,s){for(var T=10,x=o+238-14-286,O=-15;O<0;O++){var w,m,p;w=d[T+-10],m=E[x+-224]*w,p=E[o+224]*w,w=d[T+-9],m+=E[x+-160]*w,p+=E[o+160]*w,w=d[T+-8],m+=E[x+-96]*w,p+=E[o+96]*w,w=d[T+-7],m+=E[x+-32]*w,p+=E[o+32]*w,w=d[T+-6],m+=E[x+32]*w,p+=E[o+-32]*w,w=d[T+-5],m+=E[x+96]*w,p+=E[o+-96]*w,w=d[T+-4],m+=E[x+160]*w,p+=E[o+-160]*w,w=d[T+-3],m+=E[x+224]*w,p+=E[o+-224]*w,w=d[T+-2],m+=E[o+-256]*w,p-=E[x+256]*w,w=d[T+-1],m+=E[o+-192]*w,p-=E[x+192]*w,w=d[T+0],m+=E[o+-128]*w,p-=E[x+128]*w,w=d[T+1],m+=E[o+-64]*w,p-=E[x+64]*w,w=d[T+2],m+=E[o+0]*w,p-=E[x+0]*w,w=d[T+3],m+=E[o+64]*w,p-=E[x+-64]*w,w=d[T+4],m+=E[o+128]*w,p-=E[x+-128]*w,w=d[T+5],m+=E[o+192]*w,p-=E[x+-192]*w,m*=d[T+6],w=p-m,s[30+O*2]=p+m,s[31+O*2]=d[T+7]*w,T+=18,o--,x++}{var m,p,u,y;p=E[o+-16]*d[T+-10],m=E[o+-32]*d[T+-2],p+=(E[o+-48]-E[o+16])*d[T+-9],m+=E[o+-96]*d[T+-1],p+=(E[o+-80]+E[o+48])*d[T+-8],m+=E[o+-160]*d[T+0],p+=(E[o+-112]-E[o+80])*d[T+-7],m+=E[o+-224]*d[T+1],p+=(E[o+-144]+E[o+112])*d[T+-6],m-=E[o+32]*d[T+2],p+=(E[o+-176]-E[o+144])*d[T+-5],m-=E[o+96]*d[T+3],p+=(E[o+-208]+E[o+176])*d[T+-4],m-=E[o+160]*d[T+4],p+=(E[o+-240]-E[o+208])*d[T+-3],m-=E[o+224],u=m-p,y=m+p,p=s[14],m=s[15]-p,s[31]=y+p,s[30]=u+m,s[15]=u-m,s[14]=y-p}{var i;i=s[28]-s[0],s[0]+=s[28],s[28]=i*d[T+-2*18+7],i=s[29]-s[1],s[1]+=s[29],s[29]=i*d[T+-2*18+7],i=s[26]-s[2],s[2]+=s[26],s[26]=i*d[T+-4*18+7],i=s[27]-s[3],s[3]+=s[27],s[27]=i*d[T+-4*18+7],i=s[24]-s[4],s[4]+=s[24],s[24]=i*d[T+-6*18+7],i=s[25]-s[5],s[5]+=s[25],s[25]=i*d[T+-6*18+7],i=s[22]-s[6],s[6]+=s[22],s[22]=i*n.SQRT2,i=s[23]-s[7],s[7]+=s[23],s[23]=i*n.SQRT2-s[7],s[7]-=s[6],s[22]-=s[7],s[23]-=s[22],i=s[6],s[6]=s[31]-i,s[31]=s[31]+i,i=s[7],s[7]=s[30]-i,s[30]=s[30]+i,i=s[22],s[22]=s[15]-i,s[15]=s[15]+i,i=s[23],s[23]=s[14]-i,s[14]=s[14]+i,i=s[20]-s[8],s[8]+=s[20],s[20]=i*d[T+-10*18+7],i=s[21]-s[9],s[9]+=s[21],s[21]=i*d[T+-10*18+7],i=s[18]-s[10],s[10]+=s[18],s[18]=i*d[T+-12*18+7],i=s[19]-s[11],s[11]+=s[19],s[19]=i*d[T+-12*18+7],i=s[16]-s[12],s[12]+=s[16],s[16]=i*d[T+-14*18+7],i=s[17]-s[13],s[13]+=s[17],s[17]=i*d[T+-14*18+7],i=-s[20]+s[24],s[20]+=s[24],s[24]=i*d[T+-12*18+7],i=-s[21]+s[25],s[21]+=s[25],s[25]=i*d[T+-12*18+7],i=s[4]-s[8],s[4]+=s[8],s[8]=i*d[T+-12*18+7],i=s[5]-s[9],s[5]+=s[9],s[9]=i*d[T+-12*18+7],i=s[0]-s[12],s[0]+=s[12],s[12]=i*d[T+-4*18+7],i=s[1]-s[13],s[1]+=s[13],s[13]=i*d[T+-4*18+7],i=s[16]-s[28],s[16]+=s[28],s[28]=i*d[T+-4*18+7],i=-s[17]+s[29],s[17]+=s[29],s[29]=i*d[T+-4*18+7],i=n.SQRT2*(s[2]-s[10]),s[2]+=s[10],s[10]=i,i=n.SQRT2*(s[3]-s[11]),s[3]+=s[11],s[11]=i,i=n.SQRT2*(-s[18]+s[26]),s[18]+=s[26],s[26]=i-s[18],i=n.SQRT2*(-s[19]+s[27]),s[19]+=s[27],s[27]=i-s[19],i=s[2],s[19]-=s[3],s[3]-=i,s[2]=s[31]-i,s[31]+=i,i=s[3],s[11]-=s[19],s[18]-=i,s[3]=s[30]-i,s[30]+=i,i=s[18],s[27]-=s[11],s[19]-=i,s[18]=s[15]-i,s[15]+=i,i=s[19],s[10]-=i,s[19]=s[14]-i,s[14]+=i,i=s[10],s[11]-=i,s[10]=s[23]-i,s[23]+=i,i=s[11],s[26]-=i,s[11]=s[22]-i,s[22]+=i,i=s[26],s[27]-=i,s[26]=s[7]-i,s[7]+=i,i=s[27],s[27]=s[6]-i,s[6]+=i,i=n.SQRT2*(s[0]-s[4]),s[0]+=s[4],s[4]=i,i=n.SQRT2*(s[1]-s[5]),s[1]+=s[5],s[5]=i,i=n.SQRT2*(s[16]-s[20]),s[16]+=s[20],s[20]=i,i=n.SQRT2*(s[17]-s[21]),s[17]+=s[21],s[21]=i,i=-n.SQRT2*(s[8]-s[12]),s[8]+=s[12],s[12]=i-s[8],i=-n.SQRT2*(s[9]-s[13]),s[9]+=s[13],s[13]=i-s[9],i=-n.SQRT2*(s[25]-s[29]),s[25]+=s[29],s[29]=i-s[25],i=-n.SQRT2*(s[24]+s[28]),s[24]-=s[28],s[28]=i-s[24],i=s[24]-s[16],s[24]=i,i=s[20]-i,s[20]=i,i=s[28]-i,s[28]=i,i=s[25]-s[17],s[25]=i,i=s[21]-i,s[21]=i,i=s[29]-i,s[29]=i,i=s[17]-s[1],s[17]=i,i=s[9]-i,s[9]=i,i=s[25]-i,s[25]=i,i=s[5]-i,s[5]=i,i=s[21]-i,s[21]=i,i=s[13]-i,s[13]=i,i=s[29]-i,s[29]=i,i=s[1]-s[0],s[1]=i,i=s[16]-i,s[16]=i,i=s[17]-i,s[17]=i,i=s[8]-i,s[8]=i,i=s[9]-i,s[9]=i,i=s[24]-i,s[24]=i,i=s[25]-i,s[25]=i,i=s[4]-i,s[4]=i,i=s[5]-i,s[5]=i,i=s[20]-i,s[20]=i,i=s[21]-i,s[21]=i,i=s[12]-i,s[12]=i,i=s[13]-i,s[13]=i,i=s[28]-i,s[28]=i,i=s[29]-i,s[29]=i,i=s[0],s[0]+=s[31],s[31]-=i,i=s[1],s[1]+=s[30],s[30]-=i,i=s[16],s[16]+=s[15],s[15]-=i,i=s[17],s[17]+=s[14],s[14]-=i,i=s[8],s[8]+=s[23],s[23]-=i,i=s[9],s[9]+=s[22],s[22]-=i,i=s[24],s[24]+=s[7],s[7]-=i,i=s[25],s[25]+=s[6],s[6]-=i,i=s[4],s[4]+=s[27],s[27]-=i,i=s[5],s[5]+=s[26],s[26]-=i,i=s[20],s[20]+=s[11],s[11]-=i,i=s[21],s[21]+=s[10],s[10]-=i,i=s[12],s[12]+=s[19],s[19]-=i,i=s[13],s[13]+=s[18],s[18]-=i,i=s[28],s[28]+=s[3],s[3]-=i,i=s[29],s[29]+=s[2],s[2]-=i}}function Y(E,o){for(var s=0;s<3;s++){var T,x,O,w,m,p;w=E[o+2*3]*b[l.SHORT_TYPE][0]-E[o+5*3],T=E[o+0*3]*b[l.SHORT_TYPE][2]-E[o+3*3],x=w+T,O=w-T,w=E[o+5*3]*b[l.SHORT_TYPE][0]+E[o+2*3],T=E[o+3*3]*b[l.SHORT_TYPE][2]+E[o+0*3],m=w+T,p=-w+T,T=(E[o+1*3]*b[l.SHORT_TYPE][1]-E[o+4*3])*2069978111953089e-26,w=(E[o+4*3]*b[l.SHORT_TYPE][1]+E[o+1*3])*2069978111953089e-26,E[o+3*0]=x*190752519173728e-25+T,E[o+3*5]=-m*190752519173728e-25+w,O=O*.8660254037844387*1907525191737281e-26,m=m*.5*1907525191737281e-26+w,E[o+3*1]=O-m,E[o+3*2]=O+m,x=x*.5*1907525191737281e-26-T,p=p*.8660254037844387*1907525191737281e-26,E[o+3*3]=x+p,E[o+3*4]=x-p,o++}}function N(E,o,s){var T,x;{var O,w,m,p,u,y,i,h;O=s[17]-s[9],m=s[15]-s[11],p=s[14]-s[12],u=s[0]+s[8],y=s[1]+s[7],i=s[2]+s[6],h=s[3]+s[5],E[o+17]=u+i-h-(y-s[4]),x=(u+i-h)*M[19]+(y-s[4]),T=(O-m-p)*M[18],E[o+5]=T+x,E[o+6]=T-x,w=(s[16]-s[10])*M[18],y=y*M[19]+s[4],T=O*M[12]+w+m*M[13]+p*M[14],x=-u*M[16]+y-i*M[17]+h*M[15],E[o+1]=T+x,E[o+2]=T-x,T=O*M[13]-w-m*M[14]+p*M[12],x=-u*M[17]+y-i*M[15]+h*M[16],E[o+9]=T+x,E[o+10]=T-x,T=O*M[14]-w+m*M[12]-p*M[13],x=u*M[15]-y+i*M[16]-h*M[17],E[o+13]=T+x,E[o+14]=T-x}{var v,R,B,G,V,X,c,A;v=s[8]-s[0],B=s[6]-s[2],G=s[5]-s[3],V=s[17]+s[9],X=s[16]+s[10],c=s[15]+s[11],A=s[14]+s[12],E[o+0]=V+c+A+(X+s[13]),T=(V+c+A)*M[19]-(X+s[13]),x=(v-B+G)*M[18],E[o+11]=T+x,E[o+12]=T-x,R=(s[7]-s[1])*M[18],X=s[13]-X*M[19],T=V*M[15]-X+c*M[16]+A*M[17],x=v*M[14]+R+B*M[12]+G*M[13],E[o+3]=T+x,E[o+4]=T-x,T=-V*M[17]+X-c*M[15]-A*M[16],x=v*M[13]+R-B*M[14]-G*M[12],E[o+7]=T+x,E[o+8]=T-x,T=-V*M[16]+X-c*M[17]-A*M[15],x=v*M[12]-R+B*M[13]-G*M[14],E[o+15]=T+x,E[o+16]=T-x}}this.mdct_sub48=function(E,o,s){for(var T=o,x=286,O=0;O<E.channels_out;O++){for(var w=0;w<E.mode_gr;w++){for(var m,p=E.l3_side.tt[w][O],u=p.xr,y=0,i=E.sb_sample[O][1-w],h=0,v=0;v<18/2;v++)for(C(T,x,i[h]),C(T,x+32,i[h+1]),h+=2,x+=64,m=1;m<32;m+=2)i[h-1][m]*=-1;for(m=0;m<32;m++,y+=18){var R=p.block_type,B=E.sb_sample[O][w],G=E.sb_sample[O][1-w];if(p.mixed_block_flag!=0&&m<2&&(R=0),E.amp_filter[m]<1e-12)r.fill(u,y+0,y+18,0);else{if(E.amp_filter[m]<1)for(var v=0;v<18;v++)G[v][I[m]]*=E.amp_filter[m];if(R==l.SHORT_TYPE){for(var v=-12/4;v<0;v++){var V=b[l.SHORT_TYPE][v+3];u[y+v*3+9]=B[9+v][I[m]]*V-B[8-v][I[m]],u[y+v*3+18]=B[14-v][I[m]]*V+B[15+v][I[m]],u[y+v*3+10]=B[15+v][I[m]]*V-B[14-v][I[m]],u[y+v*3+19]=G[2-v][I[m]]*V+G[3+v][I[m]],u[y+v*3+11]=G[3+v][I[m]]*V-G[2-v][I[m]],u[y+v*3+20]=G[8-v][I[m]]*V+G[9+v][I[m]]}Y(u,y)}else{for(var X=a(18),v=-36/4;v<0;v++){var c,A;c=b[R][v+27]*G[v+9][I[m]]+b[R][v+36]*G[8-v][I[m]],A=b[R][v+9]*B[v+9][I[m]]-b[R][v+18]*B[8-v][I[m]],X[v+9]=c-A*S[3+v+9],X[v+18]=c*S[3+v+9]+A}N(u,y,X)}}if(R!=l.SHORT_TYPE&&m!=0)for(var v=7;v>=0;--v){var q,j;q=u[y+v]*_[20+v]+u[y+-1-v]*H[28+v],j=u[y+v]*H[28+v]-u[y+-1-v]*_[20+v],u[y+-1-v]=q,u[y+v]=j}}}if(T=s,x=286,E.mode_gr==1)for(var ve=0;ve<18;ve++)t.arraycopy(E.sb_sample[O][1][ve],0,E.sb_sample[O][0][ve],0,32)}}}return qs=f,qs}var Gs,Xi;function no(){if(Xi)return Gs;Xi=1;var e=Ct(),t=rt,n=t.System,r=t.new_float,a=t.new_float_n;function l(){this.l=r(e.SBMAX_l),this.s=a([e.SBMAX_s,3]);var f=this;this.assign=function(d){n.arraycopy(d.l,0,f.l,0,e.SBMAX_l);for(var b=0;b<e.SBMAX_s;b++)for(var S=0;S<3;S++)f.s[b][S]=d.s[b][S]}}return Gs=l,Gs}var Ys,qi;function Iu(){if(qi)return Ys;qi=1;var e=no();function t(){this.thm=new e,this.en=new e}return Ys=t,Ys}var Us,Gi;function Ct(){if(Gi)return Us;Gi=1;var e=rt,t=e.System,n=e.VbrMode,r=e.new_array_n,a=e.new_float,l=e.new_float_n,f=e.new_int,d=e.assert;b.ENCDELAY=576,b.POSTDELAY=1152,b.MDCTDELAY=48,b.FFTOFFSET=224+b.MDCTDELAY,b.DECDELAY=528,b.SBLIMIT=32,b.CBANDS=64,b.SBPSY_l=21,b.SBPSY_s=12,b.SBMAX_l=22,b.SBMAX_s=13,b.PSFB21=6,b.PSFB12=6,b.BLKSIZE=1024,b.HBLKSIZE=b.BLKSIZE/2+1,b.BLKSIZE_s=256,b.HBLKSIZE_s=b.BLKSIZE_s/2+1,b.NORM_TYPE=0,b.START_TYPE=1,b.SHORT_TYPE=2,b.STOP_TYPE=3,b.MPG_MD_LR_LR=0,b.MPG_MD_LR_I=1,b.MPG_MD_MS_LR=2,b.MPG_MD_MS_I=3,b.fircoef=[-.0207887*5,-.0378413*5,-.0432472*5,-.031183*5,779609e-23*5,.0467745*5,.10091*5,.151365*5,.187098*5];function b(){var S=Cu(),M=Iu(),_=b.FFTOFFSET,H=b.MPG_MD_MS_LR,I=null;this.psy=null;var C=null,Y=null,N=null;this.setModules=function(x,O,w,m){I=x,this.psy=O,C=O,Y=m,N=w};var E=new S;function o(x){var O,w;if(x.ATH.useAdjust==0){x.ATH.adjust=1;return}if(w=x.loudness_sq[0][0],O=x.loudness_sq[1][0],x.channels_out==2?(w+=x.loudness_sq[0][1],O+=x.loudness_sq[1][1]):(w+=w,O+=O),x.mode_gr==2&&(w=Math.max(w,O)),w*=.5,w*=x.ATH.aaSensitivityP,w>.03125)x.ATH.adjust>=1?x.ATH.adjust=1:x.ATH.adjust<x.ATH.adjustLimit&&(x.ATH.adjust=x.ATH.adjustLimit),x.ATH.adjustLimit=1;else{var m=31.98*w+625e-6;x.ATH.adjust>=m?(x.ATH.adjust*=m*.075+.925,x.ATH.adjust<m&&(x.ATH.adjust=m)):x.ATH.adjustLimit>=m?x.ATH.adjust=m:x.ATH.adjust<x.ATH.adjustLimit&&(x.ATH.adjust=x.ATH.adjustLimit),x.ATH.adjustLimit=m}}function s(x){var O,w;for(d(0<=x.bitrate_index&&x.bitrate_index<16),d(0<=x.mode_ext&&x.mode_ext<4),x.bitrate_stereoMode_Hist[x.bitrate_index][4]++,x.bitrate_stereoMode_Hist[15][4]++,x.channels_out==2&&(x.bitrate_stereoMode_Hist[x.bitrate_index][x.mode_ext]++,x.bitrate_stereoMode_Hist[15][x.mode_ext]++),O=0;O<x.mode_gr;++O)for(w=0;w<x.channels_out;++w){var m=x.l3_side.tt[O][w].block_type|0;x.l3_side.tt[O][w].mixed_block_flag!=0&&(m=4),x.bitrate_blockType_Hist[x.bitrate_index][m]++,x.bitrate_blockType_Hist[x.bitrate_index][5]++,x.bitrate_blockType_Hist[15][m]++,x.bitrate_blockType_Hist[15][5]++}}function T(x,O){var w=x.internal_flags,m,p;if(w.lame_encode_frame_init==0){var u,y,i=a(2014),h=a(2014);for(w.lame_encode_frame_init=1,u=0,y=0;u<286+576*(1+w.mode_gr);++u)u<576*w.mode_gr?(i[u]=0,w.channels_out==2&&(h[u]=0)):(i[u]=O[0][y],w.channels_out==2&&(h[u]=O[1][y]),++y);for(p=0;p<w.mode_gr;p++)for(m=0;m<w.channels_out;m++)w.l3_side.tt[p][m].block_type=b.SHORT_TYPE;E.mdct_sub48(w,i,h),d(576>=b.FFTOFFSET),d(w.mf_size>=b.BLKSIZE+x.framesize-b.FFTOFFSET),d(w.mf_size>=512+x.framesize-32)}}this.lame_encode_mp3_frame=function(x,O,w,m,p,u){var y,i=r([2,2]);i[0][0]=new M,i[0][1]=new M,i[1][0]=new M,i[1][1]=new M;var h=r([2,2]);h[0][0]=new M,h[0][1]=new M,h[1][0]=new M,h[1][1]=new M;var v,R=[null,null],B=x.internal_flags,G=l([2,4]),V=[.5,.5],X=[[0,0],[0,0]],c=[[0,0],[0,0]],A,q,j;if(R[0]=O,R[1]=w,B.lame_encode_frame_init==0&&T(x,R),B.padding=0,(B.slot_lag-=B.frac_SpF)<0&&(B.slot_lag+=x.out_samplerate,B.padding=1),B.psymodel!=0){var ve,Se=[null,null],me=0,U=f(2);for(j=0;j<B.mode_gr;j++){for(q=0;q<B.channels_out;q++)Se[q]=R[q],me=576+j*576-b.FFTOFFSET;if(x.VBR==n.vbr_mtrh||x.VBR==n.vbr_mt?ve=C.L3psycho_anal_vbr(x,Se,me,j,i,h,X[j],c[j],G[j],U):ve=C.L3psycho_anal_ns(x,Se,me,j,i,h,X[j],c[j],G[j],U),ve!=0)return-4;for(x.mode==MPEGMode.JOINT_STEREO&&(V[j]=G[j][2]+G[j][3],V[j]>0&&(V[j]=G[j][3]/V[j])),q=0;q<B.channels_out;q++){var ce=B.l3_side.tt[j][q];ce.block_type=U[q],ce.mixed_block_flag=0}}}else for(j=0;j<B.mode_gr;j++)for(q=0;q<B.channels_out;q++)B.l3_side.tt[j][q].block_type=b.NORM_TYPE,B.l3_side.tt[j][q].mixed_block_flag=0,c[j][q]=X[j][q]=700;if(o(B),E.mdct_sub48(B,R[0],R[1]),B.mode_ext=b.MPG_MD_LR_LR,x.force_ms)B.mode_ext=b.MPG_MD_MS_LR;else if(x.mode==MPEGMode.JOINT_STEREO){var te=0,ee=0;for(j=0;j<B.mode_gr;j++)for(q=0;q<B.channels_out;q++)te+=c[j][q],ee+=X[j][q];if(te<=1*ee){var Te=B.l3_side.tt[0],P=B.l3_side.tt[B.mode_gr-1];Te[0].block_type==Te[1].block_type&&P[0].block_type==P[1].block_type&&(B.mode_ext=b.MPG_MD_MS_LR)}}if(B.mode_ext==H?(v=h,A=c):(v=i,A=X),x.analysis&&B.pinfo!=null)for(j=0;j<B.mode_gr;j++)for(q=0;q<B.channels_out;q++)B.pinfo.ms_ratio[j]=B.ms_ratio[j],B.pinfo.ms_ener_ratio[j]=V[j],B.pinfo.blocktype[j][q]=B.l3_side.tt[j][q].block_type,B.pinfo.pe[j][q]=A[j][q],t.arraycopy(B.l3_side.tt[j][q].xr,0,B.pinfo.xr[j][q],0,576),B.mode_ext==H&&(B.pinfo.ers[j][q]=B.pinfo.ers[j][q+2],t.arraycopy(B.pinfo.energy[j][q+2],0,B.pinfo.energy[j][q],0,B.pinfo.energy[j][q].length));if(x.VBR==n.vbr_off||x.VBR==n.vbr_abr){var F,K;for(F=0;F<18;F++)B.nsPsy.pefirbuf[F]=B.nsPsy.pefirbuf[F+1];for(K=0,j=0;j<B.mode_gr;j++)for(q=0;q<B.channels_out;q++)K+=A[j][q];for(B.nsPsy.pefirbuf[18]=K,K=B.nsPsy.pefirbuf[9],F=0;F<9;F++)K+=(B.nsPsy.pefirbuf[F]+B.nsPsy.pefirbuf[18-F])*b.fircoef[F];for(K=670*5*B.mode_gr*B.channels_out/K,j=0;j<B.mode_gr;j++)for(q=0;q<B.channels_out;q++)A[j][q]*=K}if(B.iteration_loop.iteration_loop(x,A,V,v),I.format_bitstream(x),y=I.copy_buffer(B,m,p,u,1),x.bWriteVbrTag&&Y.addVbrFrame(x),x.analysis&&B.pinfo!=null){for(q=0;q<B.channels_out;q++){var ne;for(ne=0;ne<_;ne++)B.pinfo.pcmdata[q][ne]=B.pinfo.pcmdata[q][ne+x.framesize];for(ne=_;ne<1600;ne++)B.pinfo.pcmdata[q][ne]=R[q][ne-_]}N.set_frame_pinfo(x,v)}return s(B),y}}return Us=b,Us}var ro=rt,Yi=ro.Util,Ui=ro.new_float,ft=Ct();function gu(){var e=Ui(ft.BLKSIZE),t=Ui(ft.BLKSIZE_s/2),n=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function r(l,f,d){var b=0,S,M,_;d<<=1;var H=f+d;S=4;do{var I,C,Y,N,E,o,s;s=S>>1,N=S,E=S<<1,o=E+N,S=E<<1,M=f,_=M+s;do{var T,x,O,w;x=l[M+0]-l[M+N],T=l[M+0]+l[M+N],w=l[M+E]-l[M+o],O=l[M+E]+l[M+o],l[M+E]=T-O,l[M+0]=T+O,l[M+o]=x-w,l[M+N]=x+w,x=l[_+0]-l[_+N],T=l[_+0]+l[_+N],w=Yi.SQRT2*l[_+o],O=Yi.SQRT2*l[_+E],l[_+E]=T-O,l[_+0]=T+O,l[_+o]=x-w,l[_+N]=x+w,_+=S,M+=S}while(M<H);for(C=n[b+0],I=n[b+1],Y=1;Y<s;Y++){var m,p;m=1-2*I*I,p=2*I*C,M=f+Y,_=f+N-Y;do{var u,y,i,T,x,h,O,v,w,R;y=p*l[M+N]-m*l[_+N],u=m*l[M+N]+p*l[_+N],x=l[M+0]-u,T=l[M+0]+u,h=l[_+0]-y,i=l[_+0]+y,y=p*l[M+o]-m*l[_+o],u=m*l[M+o]+p*l[_+o],w=l[M+E]-u,O=l[M+E]+u,R=l[_+E]-y,v=l[_+E]+y,y=I*O-C*R,u=C*O+I*R,l[M+E]=T-u,l[M+0]=T+u,l[_+o]=h-y,l[_+N]=h+y,y=C*v-I*w,u=I*v+C*w,l[_+E]=i-u,l[_+0]=i+u,l[M+o]=x-y,l[M+N]=x+y,_+=S,M+=S}while(M<H);m=C,C=m*n[b+0]-I*n[b+1],I=m*n[b+1]+I*n[b+0]}b+=2}while(S<d)}var a=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(l,f,d,b,S){for(var M=0;M<3;M++){var _=ft.BLKSIZE_s/2,H=65535&576/3*(M+1),I=ft.BLKSIZE_s/8-1;do{var C,Y,N,E,o,s=a[I<<2]&255;C=t[s]*b[d][S+s+H],o=t[127-s]*b[d][S+s+H+128],Y=C-o,C=C+o,N=t[s+64]*b[d][S+s+H+64],o=t[63-s]*b[d][S+s+H+192],E=N-o,N=N+o,_-=4,f[M][_+0]=C+N,f[M][_+2]=C-N,f[M][_+1]=Y+E,f[M][_+3]=Y-E,C=t[s+1]*b[d][S+s+H+1],o=t[126-s]*b[d][S+s+H+129],Y=C-o,C=C+o,N=t[s+65]*b[d][S+s+H+65],o=t[62-s]*b[d][S+s+H+193],E=N-o,N=N+o,f[M][_+ft.BLKSIZE_s/2+0]=C+N,f[M][_+ft.BLKSIZE_s/2+2]=C-N,f[M][_+ft.BLKSIZE_s/2+1]=Y+E,f[M][_+ft.BLKSIZE_s/2+3]=Y-E}while(--I>=0);r(f[M],_,ft.BLKSIZE_s/2)}},this.fft_long=function(l,f,d,b,S){var M=ft.BLKSIZE/8-1,_=ft.BLKSIZE/2;do{var H,I,C,Y,N,E=a[M]&255;H=e[E]*b[d][S+E],N=e[E+512]*b[d][S+E+512],I=H-N,H=H+N,C=e[E+256]*b[d][S+E+256],N=e[E+768]*b[d][S+E+768],Y=C-N,C=C+N,_-=4,f[_+0]=H+C,f[_+2]=H-C,f[_+1]=I+Y,f[_+3]=I-Y,H=e[E+1]*b[d][S+E+1],N=e[E+513]*b[d][S+E+513],I=H-N,H=H+N,C=e[E+257]*b[d][S+E+257],N=e[E+769]*b[d][S+E+769],Y=C-N,C=C+N,f[_+ft.BLKSIZE/2+0]=H+C,f[_+ft.BLKSIZE/2+2]=H-C,f[_+ft.BLKSIZE/2+1]=I+Y,f[_+ft.BLKSIZE/2+3]=I-Y}while(--M>=0);r(f,_,ft.BLKSIZE/2)},this.init_fft=function(l){for(var f=0;f<ft.BLKSIZE;f++)e[f]=.42-.5*Math.cos(2*Math.PI*(f+.5)/ft.BLKSIZE)+.08*Math.cos(4*Math.PI*(f+.5)/ft.BLKSIZE);for(var f=0;f<ft.BLKSIZE_s/2;f++)t[f]=.5*(1-Math.cos(2*Math.PI*(f+.5)/ft.BLKSIZE_s))}}var Lu=gu,O0=rt,Rn=O0.VbrMode,ji=O0.Float,xn=O0.ShortBlock,Vt=O0.Util,Ou=O0.Arrays,dt=O0.new_float,Kt=O0.new_float_n,en=O0.new_int,Ve=O0.assert,Nu=Lu,se=Ct();function Hu(){var e=new Nu,t=2.302585092994046,n=2,r=16,a=2,l=16,f=.34,d=1/(14752*14752)/(se.BLKSIZE/2),b=.01,S=.8,M=.6,_=.3,H=3.5,I=21,C=.2302585093;function Y(g){return g}function N(g,L){for(var $=0,D=0;D<se.BLKSIZE/2;++D)$+=g[D]*L.ATH.eql_w[D];return $*=d,$}function E(g,L,$,D,W,k,Z,Q,z,ae,J){var ie=g.internal_flags;if(z<2)e.fft_long(ie,D[W],z,ae,J),e.fft_short(ie,k[Z],z,ae,J);else if(z==2){for(var ye=se.BLKSIZE-1;ye>=0;--ye){var ge=D[W+0][ye],ue=D[W+1][ye];D[W+0][ye]=(ge+ue)*Vt.SQRT2*.5,D[W+1][ye]=(ge-ue)*Vt.SQRT2*.5}for(var Be=2;Be>=0;--Be)for(var ye=se.BLKSIZE_s-1;ye>=0;--ye){var ge=k[Z+0][Be][ye],ue=k[Z+1][Be][ye];k[Z+0][Be][ye]=(ge+ue)*Vt.SQRT2*.5,k[Z+1][Be][ye]=(ge-ue)*Vt.SQRT2*.5}}L[0]=D[W+0][0],L[0]*=L[0];for(var ye=se.BLKSIZE/2-1;ye>=0;--ye){var re=D[W+0][se.BLKSIZE/2-ye],Ee=D[W+0][se.BLKSIZE/2+ye];L[se.BLKSIZE/2-ye]=(re*re+Ee*Ee)*.5}for(var Be=2;Be>=0;--Be){$[Be][0]=k[Z+0][Be][0],$[Be][0]*=$[Be][0];for(var ye=se.BLKSIZE_s/2-1;ye>=0;--ye){var re=k[Z+0][Be][se.BLKSIZE_s/2-ye],Ee=k[Z+0][Be][se.BLKSIZE_s/2+ye];$[Be][se.BLKSIZE_s/2-ye]=(re*re+Ee*Ee)*.5}}{for(var Fe=0,ye=11;ye<se.HBLKSIZE;ye++)Fe+=L[ye];ie.tot_ener[z]=Fe}if(g.analysis){for(var ye=0;ye<se.HBLKSIZE;ye++)ie.pinfo.energy[Q][z][ye]=ie.pinfo.energy_save[z][ye],ie.pinfo.energy_save[z][ye]=L[ye];ie.pinfo.pe[Q][z]=ie.pe[z]}g.athaa_loudapprox==2&&z<2&&(ie.loudness_sq[Q][z]=ie.loudness_sq_save[z],ie.loudness_sq_save[z]=N(L,ie))}var o=8,s=23,T=15,x,O,w,m=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];function p(){x=Math.pow(10,(o+1)/16),O=Math.pow(10,(s+1)/16),w=Math.pow(10,T/10)}var u=[3.3246*3.3246,3.23837*3.23837,3.15437*3.15437,3.00412*3.00412,2.86103*2.86103,2.65407*2.65407,2.46209*2.46209,2.284*2.284,2.11879*2.11879,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,1.56911*1.56911,1.46658*1.46658,1.37074*1.37074,1.31036*1.31036,1.25264*1.25264,1.20648*1.20648,1.16203*1.16203,1.12765*1.12765,1.09428*1.09428,1.0659*1.0659,1.03826*1.03826,1.01895*1.01895,1],y=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1],i=[2.35364*2.35364,2.29259*2.29259,2.23313*2.23313,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,1.49999*1.49999,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.11084*1.11084,1.03826*1.03826];function h(g,L,$,D,W,k){var Z;if(L>g)if(L<g*O)Z=L/g;else return g+L;else{if(g>=L*O)return g+L;Z=g/L}if(g+=L,D+3<=6){if(Z>=x)return g;var Q=0|Vt.FAST_LOG10_X(Z,16);return g*y[Q]}var Q=0|Vt.FAST_LOG10_X(Z,16);if(L=W.ATH.cb_l[$]*W.ATH.adjust,g<w*L){if(g>L){var z,ae;return z=1,Q<=13&&(z=i[Q]),ae=Vt.FAST_LOG10_X(g/L,10/15),g*((u[Q]-z)*ae+z)}return Q>13?g:g*i[Q]}return g*u[Q]}var v=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1];function R(g,L,$){var D;if(g<0&&(g=0),L<0&&(L=0),g<=0)return L;if(L<=0)return g;if(L>g?D=L/g:D=g/L,-2<=$&&$<=2){if(D>=x)return g+L;var W=0|Vt.FAST_LOG10_X(D,16);return(g+L)*v[W]}return D<O?g+L:(g<L&&(g=L),g)}function B(g,L){var $=g.internal_flags;if($.channels_out>1){for(var D=0;D<se.SBMAX_l;D++){var W=$.thm[0].l[D],k=$.thm[1].l[D];$.thm[0].l[D]+=k*L,$.thm[1].l[D]+=W*L}for(var D=0;D<se.SBMAX_s;D++)for(var Z=0;Z<3;Z++){var W=$.thm[0].s[D][Z],k=$.thm[1].s[D][Z];$.thm[0].s[D][Z]+=k*L,$.thm[1].s[D][Z]+=W*L}}}function G(g){for(var L=0;L<se.SBMAX_l;L++)if(!(g.thm[0].l[L]>1.58*g.thm[1].l[L]||g.thm[1].l[L]>1.58*g.thm[0].l[L])){var $=g.mld_l[L]*g.en[3].l[L],D=Math.max(g.thm[2].l[L],Math.min(g.thm[3].l[L],$));$=g.mld_l[L]*g.en[2].l[L];var W=Math.max(g.thm[3].l[L],Math.min(g.thm[2].l[L],$));g.thm[2].l[L]=D,g.thm[3].l[L]=W}for(var L=0;L<se.SBMAX_s;L++)for(var k=0;k<3;k++)if(!(g.thm[0].s[L][k]>1.58*g.thm[1].s[L][k]||g.thm[1].s[L][k]>1.58*g.thm[0].s[L][k])){var $=g.mld_s[L]*g.en[3].s[L][k],D=Math.max(g.thm[2].s[L][k],Math.min(g.thm[3].s[L][k],$));$=g.mld_s[L]*g.en[2].s[L][k];var W=Math.max(g.thm[3].s[L][k],Math.min(g.thm[2].s[L][k],$));g.thm[2].s[L][k]=D,g.thm[3].s[L][k]=W}}function V(g,L,$){var D=L,W=Math.pow(10,$);L*=2,D*=2;for(var k=0;k<se.SBMAX_l;k++){var Z,Q,z,ae;if(ae=g.ATH.cb_l[g.bm_l[k]]*W,Z=Math.min(Math.max(g.thm[0].l[k],ae),Math.max(g.thm[1].l[k],ae)),Q=Math.max(g.thm[2].l[k],ae),z=Math.max(g.thm[3].l[k],ae),Z*L<Q+z){var J=Z*D/(Q+z);Q*=J,z*=J}g.thm[2].l[k]=Math.min(Q,g.thm[2].l[k]),g.thm[3].l[k]=Math.min(z,g.thm[3].l[k])}W*=se.BLKSIZE_s/se.BLKSIZE;for(var k=0;k<se.SBMAX_s;k++)for(var ie=0;ie<3;ie++){var Z,Q,z,ae;if(ae=g.ATH.cb_s[g.bm_s[k]]*W,Z=Math.min(Math.max(g.thm[0].s[k][ie],ae),Math.max(g.thm[1].s[k][ie],ae)),Q=Math.max(g.thm[2].s[k][ie],ae),z=Math.max(g.thm[3].s[k][ie],ae),Z*L<Q+z){var J=Z*L/(Q+z);Q*=J,z*=J}g.thm[2].s[k][ie]=Math.min(g.thm[2].s[k][ie],Q),g.thm[3].s[k][ie]=Math.min(g.thm[3].s[k][ie],z)}}function X(g,L,$,D,W){var k,Z,Q=0,z=0;for(k=Z=0;k<se.SBMAX_s;++Z,++k){for(var ae=g.bo_s[k],J=g.npart_s,ie=ae<J?ae:J;Z<ie;)Ve(L[Z]>=0),Ve($[Z]>=0),Q+=L[Z],z+=$[Z],Z++;if(g.en[D].s[k][W]=Q,g.thm[D].s[k][W]=z,Z>=J){++k;break}Ve(L[Z]>=0),Ve($[Z]>=0);{var ye=g.PSY.bo_s_weight[k],ge=1-ye;Q=ye*L[Z],z=ye*$[Z],g.en[D].s[k][W]+=Q,g.thm[D].s[k][W]+=z,Q=ge*L[Z],z=ge*$[Z]}}for(;k<se.SBMAX_s;++k)g.en[D].s[k][W]=0,g.thm[D].s[k][W]=0}function c(g,L,$,D){var W,k,Z=0,Q=0;for(W=k=0;W<se.SBMAX_l;++k,++W){for(var z=g.bo_l[W],ae=g.npart_l,J=z<ae?z:ae;k<J;)Ve(L[k]>=0),Ve($[k]>=0),Z+=L[k],Q+=$[k],k++;if(g.en[D].l[W]=Z,g.thm[D].l[W]=Q,k>=ae){++W;break}Ve(L[k]>=0),Ve($[k]>=0);{var ie=g.PSY.bo_l_weight[W],ye=1-ie;Z=ie*L[k],Q=ie*$[k],g.en[D].l[W]+=Z,g.thm[D].l[W]+=Q,Z=ye*L[k],Q=ye*$[k]}}for(;W<se.SBMAX_l;++W)g.en[D].l[W]=0,g.thm[D].l[W]=0}function A(g,L,$,D,W,k){var Z=g.internal_flags,Q,z;for(z=Q=0;z<Z.npart_s;++z){for(var ae=0,J=Z.numlines_s[z],ie=0;ie<J;++ie,++Q){var ye=L[k][Q];ae+=ye}$[z]=ae}for(Ve(z==Z.npart_s),Q=z=0;z<Z.npart_s;z++){var ge=Z.s3ind_s[z][0],ue=Z.s3_ss[Q++]*$[ge];for(++ge;ge<=Z.s3ind_s[z][1];)ue+=Z.s3_ss[Q]*$[ge],++Q,++ge;{var Be=a*Z.nb_s1[W][z];D[z]=Math.min(ue,Be)}if(Z.blocktype_old[W&1]==se.SHORT_TYPE){var Be=l*Z.nb_s2[W][z],re=D[z];D[z]=Math.min(Be,re)}Z.nb_s2[W][z]=Z.nb_s1[W][z],Z.nb_s1[W][z]=ue,Ve(D[z]>=0)}for(;z<=se.CBANDS;++z)$[z]=0,D[z]=0}function q(g,L,$,D){var W=g.internal_flags;g.short_blocks==xn.short_block_coupled&&!(L[0]!=0&&L[1]!=0)&&(L[0]=L[1]=0);for(var k=0;k<W.channels_out;k++)D[k]=se.NORM_TYPE,g.short_blocks==xn.short_block_dispensed&&(L[k]=1),g.short_blocks==xn.short_block_forced&&(L[k]=0),L[k]!=0?(Ve(W.blocktype_old[k]!=se.START_TYPE),W.blocktype_old[k]==se.SHORT_TYPE&&(D[k]=se.STOP_TYPE)):(D[k]=se.SHORT_TYPE,W.blocktype_old[k]==se.NORM_TYPE&&(W.blocktype_old[k]=se.START_TYPE),W.blocktype_old[k]==se.STOP_TYPE&&(W.blocktype_old[k]=se.SHORT_TYPE)),$[k]=W.blocktype_old[k],W.blocktype_old[k]=D[k]}function j(g,L,$){return $>=1?g:$<=0?L:L>0?Math.pow(g/L,$)*L:0}var ve=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function Se(g,L){for(var $=309.07,D=0;D<se.SBMAX_s-1;D++)for(var W=0;W<3;W++){var k=g.thm.s[D][W];if(k>0){var Z=k*L,Q=g.en.s[D][W];Q>Z&&(Q>Z*1e10?$+=ve[D]*(10*t):$+=ve[D]*Vt.FAST_LOG10(Q/Z))}}return $}var me=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function U(g,L){for(var $=281.0575,D=0;D<se.SBMAX_l-1;D++){var W=g.thm.l[D];if(W>0){var k=W*L,Z=g.en.l[D];Z>k&&(Z>k*1e10?$+=me[D]*(10*t):$+=me[D]*Vt.FAST_LOG10(Z/k))}}return $}function ce(g,L,$,D,W){var k,Z;for(k=Z=0;k<g.npart_l;++k){var Q=0,z=0,ae;for(ae=0;ae<g.numlines_l[k];++ae,++Z){var J=L[Z];Q+=J,z<J&&(z=J)}$[k]=Q,D[k]=z,W[k]=Q*g.rnumlines_l[k],Ve(g.rnumlines_l[k]>=0),Ve($[k]>=0),Ve(D[k]>=0),Ve(W[k]>=0)}}function te(g,L,$,D){var W=m.length-1,k=0,Z=$[k]+$[k+1];if(Z>0){var Q=L[k];Q<L[k+1]&&(Q=L[k+1]),Ve(g.numlines_l[k]+g.numlines_l[k+1]-1>0),Z=20*(Q*2-Z)/(Z*(g.numlines_l[k]+g.numlines_l[k+1]-1));var z=0|Z;z>W&&(z=W),D[k]=z}else D[k]=0;for(k=1;k<g.npart_l-1;k++)if(Z=$[k-1]+$[k]+$[k+1],Z>0){var Q=L[k-1];Q<L[k]&&(Q=L[k]),Q<L[k+1]&&(Q=L[k+1]),Ve(g.numlines_l[k-1]+g.numlines_l[k]+g.numlines_l[k+1]-1>0),Z=20*(Q*3-Z)/(Z*(g.numlines_l[k-1]+g.numlines_l[k]+g.numlines_l[k+1]-1));var z=0|Z;z>W&&(z=W),D[k]=z}else D[k]=0;if(Ve(k==g.npart_l-1),Z=$[k-1]+$[k],Z>0){var Q=L[k-1];Q<L[k]&&(Q=L[k]),Ve(g.numlines_l[k-1]+g.numlines_l[k]-1>0),Z=20*(Q*2-Z)/(Z*(g.numlines_l[k-1]+g.numlines_l[k]-1));var z=0|Z;z>W&&(z=W),D[k]=z}else D[k]=0;Ve(k==g.npart_l-1)}var ee=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];this.L3psycho_anal_ns=function(g,L,$,D,W,k,Z,Q,z,ae){var J=g.internal_flags,ie=Kt([2,se.BLKSIZE]),ye=Kt([2,3,se.BLKSIZE_s]),ge=dt(se.CBANDS+1),ue=dt(se.CBANDS+1),Be=dt(se.CBANDS+2),re=en(2),Ee=en(2),Fe,fe,Me,_e,Le,ze,xe,He,$e=Kt([2,576]),et,Pt=en(se.CBANDS+2),ut=en(se.CBANDS+2);for(Ou.fill(ut,0),Fe=J.channels_out,g.mode==MPEGMode.JOINT_STEREO&&(Fe=4),g.VBR==Rn.vbr_off?et=J.ResvMax==0?0:J.ResvSize/J.ResvMax*.5:g.VBR==Rn.vbr_rh||g.VBR==Rn.vbr_mtrh||g.VBR==Rn.vbr_mt?et=.6:et=1,fe=0;fe<J.channels_out;fe++){var tt=L[fe],Nt=$+576-350-I+192;for(_e=0;_e<576;_e++){var $t,Dt;for($t=tt[Nt+_e+10],Dt=0,Le=0;Le<(I-1)/2-1;Le+=2)$t+=ee[Le]*(tt[Nt+_e+Le]+tt[Nt+_e+I-Le]),Dt+=ee[Le+1]*(tt[Nt+_e+Le+1]+tt[Nt+_e+I-Le-1]);$e[fe][_e]=$t+Dt}W[D][fe].en.assign(J.en[fe]),W[D][fe].thm.assign(J.thm[fe]),Fe>2&&(k[D][fe].en.assign(J.en[fe+2]),k[D][fe].thm.assign(J.thm[fe+2]))}for(fe=0;fe<Fe;fe++){var e0,t0,Et=dt(12),c0=[0,0,0,0],bn=dt(12),Rs=1,za,Za=dt(se.CBANDS),Qa=dt(se.CBANDS),nt=[0,0,0,0],Ja=dt(se.HBLKSIZE),ei=Kt([3,se.HBLKSIZE_s]);for(Ve(J.npart_s<=se.CBANDS),Ve(J.npart_l<=se.CBANDS),_e=0;_e<3;_e++)Et[_e]=J.nsPsy.last_en_subshort[fe][_e+6],Ve(J.nsPsy.last_en_subshort[fe][_e+4]>0),bn[_e]=Et[_e]/J.nsPsy.last_en_subshort[fe][_e+4],c0[0]+=Et[_e];if(fe==2)for(_e=0;_e<576;_e++){var xs,As;xs=$e[0][_e],As=$e[1][_e],$e[0][_e]=xs+As,$e[1][_e]=xs-As}{var ti=$e[fe&1],Pn=0;for(_e=0;_e<9;_e++){for(var Lo=Pn+64,mt=1;Pn<Lo;Pn++)mt<Math.abs(ti[Pn])&&(mt=Math.abs(ti[Pn]));J.nsPsy.last_en_subshort[fe][_e]=Et[_e+3]=mt,c0[1+_e/3]+=mt,mt>Et[_e+3-2]?(Ve(Et[_e+3-2]>0),mt=mt/Et[_e+3-2]):Et[_e+3-2]>mt*10?mt=Et[_e+3-2]/(mt*10):mt=0,bn[_e+3]=mt}}if(g.analysis){var Es=bn[0];for(_e=1;_e<12;_e++)Es<bn[_e]&&(Es=bn[_e]);J.pinfo.ers[D][fe]=J.pinfo.ers_save[fe],J.pinfo.ers_save[fe]=Es}for(za=fe==3?J.nsPsy.attackthre_s:J.nsPsy.attackthre,_e=0;_e<12;_e++)nt[_e/3]==0&&bn[_e]>za&&(nt[_e/3]=_e%3+1);for(_e=1;_e<4;_e++){var Ms;c0[_e-1]>c0[_e]?(Ve(c0[_e]>0),Ms=c0[_e-1]/c0[_e]):(Ve(c0[_e-1]>0),Ms=c0[_e]/c0[_e-1]),Ms<1.7&&(nt[_e]=0,_e==1&&(nt[0]=0))}for(nt[0]!=0&&J.nsPsy.lastAttacks[fe]!=0&&(nt[0]=0),(J.nsPsy.lastAttacks[fe]==3||nt[0]+nt[1]+nt[2]+nt[3]!=0)&&(Rs=0,nt[1]!=0&&nt[0]!=0&&(nt[1]=0),nt[2]!=0&&nt[1]!=0&&(nt[2]=0),nt[3]!=0&&nt[2]!=0&&(nt[3]=0)),fe<2?Ee[fe]=Rs:Rs==0&&(Ee[0]=Ee[1]=0),z[fe]=J.tot_ener[fe],t0=ye,e0=ie,E(g,Ja,ei,e0,fe&1,t0,fe&1,D,fe,L,$),ce(J,Ja,ge,Za,Qa),te(J,Za,Qa,Pt),He=0;He<3;He++){var ws,Ht;for(A(g,ei,ue,Be,fe,He),X(J,ue,Be,fe,He),xe=0;xe<se.SBMAX_s;xe++){if(Ht=J.thm[fe].s[xe][He],Ht*=S,nt[He]>=2||nt[He+1]==1){var $n=He!=0?He-1:2,mt=j(J.thm[fe].s[xe][$n],Ht,M*et);Ht=Math.min(Ht,mt)}if(nt[He]==1){var $n=He!=0?He-1:2,mt=j(J.thm[fe].s[xe][$n],Ht,_*et);Ht=Math.min(Ht,mt)}else if(He!=0&&nt[He-1]==3||He==0&&J.nsPsy.lastAttacks[fe]==3){var $n=He!=2?He+1:0,mt=j(J.thm[fe].s[xe][$n],Ht,_*et);Ht=Math.min(Ht,mt)}ws=Et[He*3+3]+Et[He*3+4]+Et[He*3+5],Et[He*3+5]*6<ws&&(Ht*=.5,Et[He*3+4]*6<ws&&(Ht*=.5)),J.thm[fe].s[xe][He]=Ht}}for(J.nsPsy.lastAttacks[fe]=nt[2],ze=0,Me=0;Me<J.npart_l;Me++){for(var K0=J.s3ind[Me][0],Ts=ge[K0]*m[Pt[K0]],W0=J.s3_ll[ze++]*Ts;++K0<=J.s3ind[Me][1];)Ts=ge[K0]*m[Pt[K0]],W0=h(W0,J.s3_ll[ze++]*Ts,K0,K0-Me,J);W0*=.158489319246111,J.blocktype_old[fe&1]==se.SHORT_TYPE?Be[Me]=W0:Be[Me]=j(Math.min(W0,Math.min(n*J.nb_1[fe][Me],r*J.nb_2[fe][Me])),W0,et),J.nb_2[fe][Me]=J.nb_1[fe][Me],J.nb_1[fe][Me]=W0}for(;Me<=se.CBANDS;++Me)ge[Me]=0,Be[Me]=0;c(J,ge,Be,fe)}if((g.mode==MPEGMode.STEREO||g.mode==MPEGMode.JOINT_STEREO)&&g.interChRatio>0&&B(g,g.interChRatio),g.mode==MPEGMode.JOINT_STEREO){var Bs;G(J),Bs=g.msfix,Math.abs(Bs)>0&&V(J,Bs,g.ATHlower*J.ATH.adjust)}for(q(g,Ee,ae,re),fe=0;fe<Fe;fe++){var Dn,Xn=0,Ar,Er;fe>1?(Dn=Q,Xn=-2,Ar=se.NORM_TYPE,(ae[0]==se.SHORT_TYPE||ae[1]==se.SHORT_TYPE)&&(Ar=se.SHORT_TYPE),Er=k[D][fe-2]):(Dn=Z,Xn=0,Ar=ae[fe],Er=W[D][fe]),Ar==se.SHORT_TYPE?Dn[Xn+fe]=Se(Er,J.masking_lower):Dn[Xn+fe]=U(Er,J.masking_lower),g.analysis&&(J.pinfo.pe[D][fe]=Dn[Xn+fe])}return 0};function Te(g,L,$,D,W,k,Z,Q){var z=g.internal_flags;if(D<2)e.fft_long(z,Z[Q],D,L,$);else if(D==2)for(var ae=se.BLKSIZE-1;ae>=0;--ae){var J=Z[Q+0][ae],ie=Z[Q+1][ae];Z[Q+0][ae]=(J+ie)*Vt.SQRT2*.5,Z[Q+1][ae]=(J-ie)*Vt.SQRT2*.5}k[0]=Z[Q+0][0],k[0]*=k[0];for(var ae=se.BLKSIZE/2-1;ae>=0;--ae){var ye=Z[Q+0][se.BLKSIZE/2-ae],ge=Z[Q+0][se.BLKSIZE/2+ae];k[se.BLKSIZE/2-ae]=(ye*ye+ge*ge)*.5}{for(var ue=0,ae=11;ae<se.HBLKSIZE;ae++)ue+=k[ae];z.tot_ener[D]=ue}if(g.analysis){for(var ae=0;ae<se.HBLKSIZE;ae++)z.pinfo.energy[W][D][ae]=z.pinfo.energy_save[D][ae],z.pinfo.energy_save[D][ae]=k[ae];z.pinfo.pe[W][D]=z.pe[D]}}function P(g,L,$,D,W,k,Z,Q){var z=g.internal_flags;if(W==0&&D<2&&e.fft_short(z,Z[Q],D,L,$),D==2)for(var ae=se.BLKSIZE_s-1;ae>=0;--ae){var J=Z[Q+0][W][ae],ie=Z[Q+1][W][ae];Z[Q+0][W][ae]=(J+ie)*Vt.SQRT2*.5,Z[Q+1][W][ae]=(J-ie)*Vt.SQRT2*.5}k[W][0]=Z[Q+0][W][0],k[W][0]*=k[W][0];for(var ae=se.BLKSIZE_s/2-1;ae>=0;--ae){var ye=Z[Q+0][W][se.BLKSIZE_s/2-ae],ge=Z[Q+0][W][se.BLKSIZE_s/2+ae];k[W][se.BLKSIZE_s/2-ae]=(ye*ye+ge*ge)*.5}}function F(g,L,$,D){var W=g.internal_flags;g.athaa_loudapprox==2&&$<2&&(W.loudness_sq[L][$]=W.loudness_sq_save[$],W.loudness_sq_save[$]=N(D,W))}var K=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];function ne(g,L,$,D,W,k,Z,Q,z,ae){for(var J=Kt([2,576]),ie=g.internal_flags,ye=ie.channels_out,ge=g.mode==MPEGMode.JOINT_STEREO?4:ye,ue=0;ue<ye;ue++){firbuf=L[ue];for(var Be=$+576-350-I+192,re=0;re<576;re++){var Ee,Fe;Ee=firbuf[Be+re+10],Fe=0;for(var fe=0;fe<(I-1)/2-1;fe+=2)Ee+=K[fe]*(firbuf[Be+re+fe]+firbuf[Be+re+I-fe]),Fe+=K[fe+1]*(firbuf[Be+re+fe+1]+firbuf[Be+re+I-fe-1]);J[ue][re]=Ee+Fe}W[D][ue].en.assign(ie.en[ue]),W[D][ue].thm.assign(ie.thm[ue]),ge>2&&(k[D][ue].en.assign(ie.en[ue+2]),k[D][ue].thm.assign(ie.thm[ue+2]))}for(var ue=0;ue<ge;ue++){var Me=dt(12),_e=dt(12),Le=[0,0,0,0],ze=J[ue&1],xe=0,He=ue==3?ie.nsPsy.attackthre_s:ie.nsPsy.attackthre,$e=1;if(ue==2)for(var re=0,fe=576;fe>0;++re,--fe){var et=J[0][re],Pt=J[1][re];J[0][re]=et+Pt,J[1][re]=et-Pt}for(var re=0;re<3;re++)_e[re]=ie.nsPsy.last_en_subshort[ue][re+6],Ve(ie.nsPsy.last_en_subshort[ue][re+4]>0),Me[re]=_e[re]/ie.nsPsy.last_en_subshort[ue][re+4],Le[0]+=_e[re];for(var re=0;re<9;re++){for(var ut=xe+64,tt=1;xe<ut;xe++)tt<Math.abs(ze[xe])&&(tt=Math.abs(ze[xe]));ie.nsPsy.last_en_subshort[ue][re]=_e[re+3]=tt,Le[1+re/3]+=tt,tt>_e[re+3-2]?(Ve(_e[re+3-2]>0),tt=tt/_e[re+3-2]):_e[re+3-2]>tt*10?tt=_e[re+3-2]/(tt*10):tt=0,Me[re+3]=tt}for(var re=0;re<3;++re){var Nt=_e[re*3+3]+_e[re*3+4]+_e[re*3+5],$t=1;_e[re*3+5]*6<Nt&&($t*=.5,_e[re*3+4]*6<Nt&&($t*=.5)),Q[ue][re]=$t}if(g.analysis){for(var Dt=Me[0],re=1;re<12;re++)Dt<Me[re]&&(Dt=Me[re]);ie.pinfo.ers[D][ue]=ie.pinfo.ers_save[ue],ie.pinfo.ers_save[ue]=Dt}for(var re=0;re<12;re++)z[ue][re/3]==0&&Me[re]>He&&(z[ue][re/3]=re%3+1);for(var re=1;re<4;re++){var e0=Le[re-1],t0=Le[re],Et=Math.max(e0,t0);Et<4e4&&e0<1.7*t0&&t0<1.7*e0&&(re==1&&z[ue][0]<=z[ue][re]&&(z[ue][0]=0),z[ue][re]=0)}z[ue][0]<=ie.nsPsy.lastAttacks[ue]&&(z[ue][0]=0),(ie.nsPsy.lastAttacks[ue]==3||z[ue][0]+z[ue][1]+z[ue][2]+z[ue][3]!=0)&&($e=0,z[ue][1]!=0&&z[ue][0]!=0&&(z[ue][1]=0),z[ue][2]!=0&&z[ue][1]!=0&&(z[ue][2]=0),z[ue][3]!=0&&z[ue][2]!=0&&(z[ue][3]=0)),ue<2?ae[ue]=$e:$e==0&&(ae[0]=ae[1]=0),Z[ue]=ie.tot_ener[ue]}}function oe(g,L,$){if($==0)for(var D=0;D<g.npart_s;D++)g.nb_s2[L][D]=g.nb_s1[L][D],g.nb_s1[L][D]=0}function le(g,L){for(var $=0;$<g.npart_l;$++)g.nb_2[L][$]=g.nb_1[L][$],g.nb_1[L][$]=0}function Re(g,L,$,D){var W=m.length-1,k=0,Z=$[k]+$[k+1];if(Z>0){var Q=L[k];Q<L[k+1]&&(Q=L[k+1]),Ve(g.numlines_s[k]+g.numlines_s[k+1]-1>0),Z=20*(Q*2-Z)/(Z*(g.numlines_s[k]+g.numlines_s[k+1]-1));var z=0|Z;z>W&&(z=W),D[k]=z}else D[k]=0;for(k=1;k<g.npart_s-1;k++)if(Z=$[k-1]+$[k]+$[k+1],Ve(k+1<g.npart_s),Z>0){var Q=L[k-1];Q<L[k]&&(Q=L[k]),Q<L[k+1]&&(Q=L[k+1]),Ve(g.numlines_s[k-1]+g.numlines_s[k]+g.numlines_s[k+1]-1>0),Z=20*(Q*3-Z)/(Z*(g.numlines_s[k-1]+g.numlines_s[k]+g.numlines_s[k+1]-1));var z=0|Z;z>W&&(z=W),D[k]=z}else D[k]=0;if(Ve(k==g.npart_s-1),Z=$[k-1]+$[k],Z>0){var Q=L[k-1];Q<L[k]&&(Q=L[k]),Ve(g.numlines_s[k-1]+g.numlines_s[k]-1>0),Z=20*(Q*2-Z)/(Z*(g.numlines_s[k-1]+g.numlines_s[k]-1));var z=0|Z;z>W&&(z=W),D[k]=z}else D[k]=0;Ve(k==g.npart_s-1)}function be(g,L,$,D,W,k){var Z=g.internal_flags,Q=new float[se.CBANDS],z=dt(se.CBANDS),ae,J,ie,ye=new int[se.CBANDS];for(ie=J=0;ie<Z.npart_s;++ie){var ge=0,ue=0,Be=Z.numlines_s[ie];for(ae=0;ae<Be;++ae,++J){var re=L[k][J];ge+=re,ue<re&&(ue=re)}$[ie]=ge,Q[ie]=ue,z[ie]=ge/Be,Ve(z[ie]>=0)}for(Ve(ie==Z.npart_s);ie<se.CBANDS;++ie)Q[ie]=0,z[ie]=0;for(Re(Z,Q,z,ye),J=ie=0;ie<Z.npart_s;ie++){var Ee=Z.s3ind_s[ie][0],Fe=Z.s3ind_s[ie][1],fe,Me,_e,Le,ze;for(fe=ye[Ee],Me=1,Le=Z.s3_ss[J]*$[Ee]*m[ye[Ee]],++J,++Ee;Ee<=Fe;)fe+=ye[Ee],Me+=1,_e=Z.s3_ss[J]*$[Ee]*m[ye[Ee]],Le=R(Le,_e,Ee-ie),++J,++Ee;fe=(1+2*fe)/(2*Me),ze=m[fe]*.5,Le*=ze,D[ie]=Le,Z.nb_s2[W][ie]=Z.nb_s1[W][ie],Z.nb_s1[W][ie]=Le,_e=Q[ie],_e*=Z.minval_s[ie],_e*=ze,D[ie]>_e&&(D[ie]=_e),Z.masking_lower>1&&(D[ie]*=Z.masking_lower),D[ie]>$[ie]&&(D[ie]=$[ie]),Z.masking_lower<1&&(D[ie]*=Z.masking_lower),Ve(D[ie]>=0)}for(;ie<se.CBANDS;++ie)$[ie]=0,D[ie]=0}function pe(g,L,$,D,W){var k=dt(se.CBANDS),Z=dt(se.CBANDS),Q=en(se.CBANDS+2),z;ce(g,L,$,k,Z),te(g,k,Z,Q);var ae=0;for(z=0;z<g.npart_l;z++){var J,ie,ye,ge,ue=g.s3ind[z][0],Be=g.s3ind[z][1],re=0,Ee=0;for(re=Q[ue],Ee+=1,ie=g.s3_ll[ae]*$[ue]*m[Q[ue]],++ae,++ue;ue<=Be;)re+=Q[ue],Ee+=1,J=g.s3_ll[ae]*$[ue]*m[Q[ue]],ge=R(ie,J,ue-z),ie=ge,++ae,++ue;if(re=(1+2*re)/(2*Ee),ye=m[re]*.5,ie*=ye,g.blocktype_old[W&1]==se.SHORT_TYPE){var Fe=n*g.nb_1[W][z];Fe>0?D[z]=Math.min(ie,Fe):D[z]=Math.min(ie,$[z]*_)}else{var fe=r*g.nb_2[W][z],Me=n*g.nb_1[W][z],Fe;fe<=0&&(fe=ie),Me<=0&&(Me=ie),g.blocktype_old[W&1]==se.NORM_TYPE?Fe=Math.min(Me,fe):Fe=Me,D[z]=Math.min(ie,Fe)}g.nb_2[W][z]=g.nb_1[W][z],g.nb_1[W][z]=ie,J=k[z],J*=g.minval_l[z],J*=ye,D[z]>J&&(D[z]=J),g.masking_lower>1&&(D[z]*=g.masking_lower),D[z]>$[z]&&(D[z]=$[z]),g.masking_lower<1&&(D[z]*=g.masking_lower),Ve(D[z]>=0)}for(;z<se.CBANDS;++z)$[z]=0,D[z]=0}function de(g,L){var $=g.internal_flags;g.short_blocks==xn.short_block_coupled&&!(L[0]!=0&&L[1]!=0)&&(L[0]=L[1]=0);for(var D=0;D<$.channels_out;D++)g.short_blocks==xn.short_block_dispensed&&(L[D]=1),g.short_blocks==xn.short_block_forced&&(L[D]=0)}function Ie(g,L,$){for(var D=g.internal_flags,W=0;W<D.channels_out;W++){var k=se.NORM_TYPE;L[W]!=0?(Ve(D.blocktype_old[W]!=se.START_TYPE),D.blocktype_old[W]==se.SHORT_TYPE&&(k=se.STOP_TYPE)):(k=se.SHORT_TYPE,D.blocktype_old[W]==se.NORM_TYPE&&(D.blocktype_old[W]=se.START_TYPE),D.blocktype_old[W]==se.STOP_TYPE&&(D.blocktype_old[W]=se.SHORT_TYPE)),$[W]=D.blocktype_old[W],D.blocktype_old[W]=k}}function Ae(g,L,$,D,W,k,Z){for(var Q=k*2,z=k>0?Math.pow(10,W):1,ae,J,ie=0;ie<Z;++ie){var ye=g[2][ie],ge=g[3][ie],ue=L[0][ie],Be=L[1][ie],re=L[2][ie],Ee=L[3][ie];if(ue<=1.58*Be&&Be<=1.58*ue){var Fe=$[ie]*ge,fe=$[ie]*ye;J=Math.max(re,Math.min(Ee,Fe)),ae=Math.max(Ee,Math.min(re,fe))}else J=re,ae=Ee;if(k>0){var Me,_e,Le=D[ie]*z;if(Me=Math.min(Math.max(ue,Le),Math.max(Be,Le)),re=Math.max(J,Le),Ee=Math.max(ae,Le),_e=re+Ee,_e>0&&Me*Q<_e){var ze=Me*Q/_e;re*=ze,Ee*=ze}J=Math.min(re,J),ae=Math.min(Ee,ae)}J>ye&&(J=ye),ae>ge&&(ae=ge),L[2][ie]=J,L[3][ie]=ae}}this.L3psycho_anal_vbr=function(g,L,$,D,W,k,Z,Q,z,ae){var J=g.internal_flags,ie,ye,ge=dt(se.HBLKSIZE),ue=Kt([3,se.HBLKSIZE_s]),Be=Kt([2,se.BLKSIZE]),re=Kt([2,3,se.BLKSIZE_s]),Ee=Kt([4,se.CBANDS]),Fe=Kt([4,se.CBANDS]),fe=Kt([4,3]),Me=.6,_e=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],Le=en(2),ze=g.mode==MPEGMode.JOINT_STEREO?4:J.channels_out;ne(g,L,$,D,W,k,z,fe,_e,Le),de(g,Le);{for(var xe=0;xe<ze;xe++){var He=xe&1;ie=Be,Te(g,L,$,xe,D,ge,ie,He),F(g,D,xe,ge),Le[He]!=0?pe(J,ge,Ee[xe],Fe[xe],xe):le(J,xe)}Le[0]+Le[1]==2&&g.mode==MPEGMode.JOINT_STEREO&&Ae(Ee,Fe,J.mld_cb_l,J.ATH.cb_l,g.ATHlower*J.ATH.adjust,g.msfix,J.npart_l);for(var xe=0;xe<ze;xe++){var He=xe&1;Le[He]!=0&&c(J,Ee[xe],Fe[xe],xe)}}{for(var $e=0;$e<3;$e++){for(var xe=0;xe<ze;++xe){var He=xe&1;Le[He]!=0?oe(J,xe,$e):(ye=re,P(g,L,$,xe,$e,ue,ye,He),be(g,ue,Ee[xe],Fe[xe],xe,$e))}Le[0]+Le[1]==0&&g.mode==MPEGMode.JOINT_STEREO&&Ae(Ee,Fe,J.mld_cb_s,J.ATH.cb_s,g.ATHlower*J.ATH.adjust,g.msfix,J.npart_s);for(var xe=0;xe<ze;++xe){var He=xe&1;Le[He]==0&&X(J,Ee[xe],Fe[xe],xe,$e)}}for(var xe=0;xe<ze;xe++){var He=xe&1;if(Le[He]==0)for(var et=0;et<se.SBMAX_s;et++){for(var Pt=dt(3),$e=0;$e<3;$e++){var ut=J.thm[xe].s[et][$e];if(ut*=S,_e[xe][$e]>=2||_e[xe][$e+1]==1){var tt=$e!=0?$e-1:2,Nt=j(J.thm[xe].s[et][tt],ut,M*Me);ut=Math.min(ut,Nt)}else if(_e[xe][$e]==1){var tt=$e!=0?$e-1:2,Nt=j(J.thm[xe].s[et][tt],ut,_*Me);ut=Math.min(ut,Nt)}else if($e!=0&&_e[xe][$e-1]==3||$e==0&&J.nsPsy.lastAttacks[xe]==3){var tt=$e!=2?$e+1:0,Nt=j(J.thm[xe].s[et][tt],ut,_*Me);ut=Math.min(ut,Nt)}ut*=fe[xe][$e],Pt[$e]=ut}for(var $e=0;$e<3;$e++)J.thm[xe].s[et][$e]=Pt[$e]}}}for(var xe=0;xe<ze;xe++)J.nsPsy.lastAttacks[xe]=_e[xe][2];Ie(g,Le,ae);for(var xe=0;xe<ze;xe++){var $t,Dt,e0,t0;xe>1?($t=Q,Dt=-2,e0=se.NORM_TYPE,(ae[0]==se.SHORT_TYPE||ae[1]==se.SHORT_TYPE)&&(e0=se.SHORT_TYPE),t0=k[D][xe-2]):($t=Z,Dt=0,e0=ae[xe],t0=W[D][xe]),e0==se.SHORT_TYPE?$t[Dt+xe]=Se(t0,J.masking_lower):$t[Dt+xe]=U(t0,J.masking_lower),g.analysis&&(J.pinfo.pe[D][xe]=$t[Dt+xe])}return 0};function we(g,L){var $=g,D;return $>=0?D=-$*27:D=$*L,D<=-72?0:Math.exp(D*C)}function Oe(g){var L=0,$=0;{var D=0,W,k;for(D=0;we(D,g)>1e-20;D-=1);for(W=D,k=0;Math.abs(k-W)>1e-12;)D=(k+W)/2,we(D,g)>0?k=D:W=D;L=W}{var D=0,W,k;for(D=0;we(D,g)>1e-20;D+=1);for(W=0,k=D;Math.abs(k-W)>1e-12;)D=(k+W)/2,we(D,g)>0?W=D:k=D;$=k}{var Z=0,Q=1e3,z;for(z=0;z<=Q;++z){var D=L+z*($-L)/Q,ae=we(D,g);Z+=ae}{var J=(Q+1)/(Z*($-L));return J}}}function ke(g){var L,$,D,W;return L=g,L>=0?L*=3:L*=1.5,L>=.5&&L<=2.5?(W=L-.5,$=8*(W*W-2*W)):$=0,L+=.474,D=15.811389+7.5*L-17.5*Math.sqrt(1+L*L),D<=-60?0:(L=Math.exp(($+D)*C),L/=.6609193,L)}function De(g){return g<0&&(g=0),g=g*.001,13*Math.atan(.76*g)+3.5*Math.atan(g*g/(7.5*7.5))}function Xe(g,L,$,D,W,k,Z,Q,z,ae,J,ie){var ye=dt(se.CBANDS+1),ge=Q/(ie>15?2*576:2*192),ue=en(se.HBLKSIZE),Be;Q/=z;var re=0,Ee=0;for(Be=0;Be<se.CBANDS;Be++){var Fe,fe;for(Fe=De(Q*re),ye[Be]=Q*re,fe=re;De(Q*fe)-Fe<f&&fe<=z/2;fe++);for(g[Be]=fe-re,Ee=Be+1;re<fe;)Ve(re<se.HBLKSIZE),ue[re++]=Be;if(re>z/2){re=z/2,++Be;break}}Ve(Be<se.CBANDS),ye[Be]=Q*re;for(var Me=0;Me<ie;Me++){var _e,Le,ze,xe,He;ze=ae[Me],xe=ae[Me+1],_e=0|Math.floor(.5+J*(ze-.5)),_e<0&&(_e=0),Le=0|Math.floor(.5+J*(xe-.5)),Le>z/2&&(Le=z/2),$[Me]=(ue[_e]+ue[Le])/2,L[Me]=ue[Le];var $e=ge*xe;Z[Me]=($e-ye[L[Me]])/(ye[L[Me]+1]-ye[L[Me]]),Z[Me]<0?Z[Me]=0:Z[Me]>1&&(Z[Me]=1),He=De(Q*ae[Me]*J),He=Math.min(He,15.5)/15.5,k[Me]=Math.pow(10,1.25*(1-Math.cos(Math.PI*He))-2.5)}re=0;for(var et=0;et<Ee;et++){var Pt=g[et],Fe,ut;Fe=De(Q*re),ut=De(Q*(re+Pt-1)),D[et]=.5*(Fe+ut),Fe=De(Q*(re-.5)),ut=De(Q*(re+Pt-.5)),W[et]=ut-Fe,re+=Pt}return Ee}function St(g,L,$,D,W,k){var Z=Kt([se.CBANDS,se.CBANDS]),Q,z=0;if(k)for(var ae=0;ae<L;ae++)for(Q=0;Q<L;Q++){var J=ke($[ae]-$[Q])*D[Q];Z[ae][Q]=J*W[ae]}else for(Q=0;Q<L;Q++)for(var ie=15+Math.min(21/$[Q],12),ye=Oe(ie),ae=0;ae<L;ae++){var J=ye*we($[ae]-$[Q],ie)*D[Q];Z[ae][Q]=J*W[ae]}for(var ae=0;ae<L;ae++){for(Q=0;Q<L&&!(Z[ae][Q]>0);Q++);for(g[ae][0]=Q,Q=L-1;Q>0&&!(Z[ae][Q]>0);Q--);g[ae][1]=Q,z+=g[ae][1]-g[ae][0]+1}for(var ge=dt(z),ue=0,ae=0;ae<L;ae++)for(Q=g[ae][0];Q<=g[ae][1];Q++)ge[ue++]=Z[ae][Q];return ge}function yt(g){var L=De(g);return L=Math.min(L,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*L))-2.5)}this.psymodel_init=function(g){var L=g.internal_flags,$,D=!0,W=13,k=24,Z=0,Q=0,z=-8.25,ae=-4.5,J=dt(se.CBANDS),ie=dt(se.CBANDS),ye=dt(se.CBANDS),ge=g.out_samplerate;switch(g.experimentalZ){default:case 0:D=!0;break;case 1:D=!(g.VBR==Rn.vbr_mtrh||g.VBR==Rn.vbr_mt);break;case 2:D=!1;break;case 3:W=8,Z=-1.75,Q=-.0125,z=-8.25,ae=-2.25;break}for(L.ms_ener_ratio_old=.25,L.blocktype_old[0]=L.blocktype_old[1]=se.NORM_TYPE,$=0;$<4;++$){for(var re=0;re<se.CBANDS;++re)L.nb_1[$][re]=1e20,L.nb_2[$][re]=1e20,L.nb_s1[$][re]=L.nb_s2[$][re]=1;for(var ue=0;ue<se.SBMAX_l;ue++)L.en[$].l[ue]=1e20,L.thm[$].l[ue]=1e20;for(var re=0;re<3;++re){for(var ue=0;ue<se.SBMAX_s;ue++)L.en[$].s[ue][re]=1e20,L.thm[$].s[ue][re]=1e20;L.nsPsy.lastAttacks[$]=0}for(var re=0;re<9;re++)L.nsPsy.last_en_subshort[$][re]=10}for(L.loudness_sq_save[0]=L.loudness_sq_save[1]=0,L.npart_l=Xe(L.numlines_l,L.bo_l,L.bm_l,J,ie,L.mld_l,L.PSY.bo_l_weight,ge,se.BLKSIZE,L.scalefac_band.l,se.BLKSIZE/(2*576),se.SBMAX_l),Ve(L.npart_l<se.CBANDS),$=0;$<L.npart_l;$++){var Be=Z;J[$]>=W&&(Be=Q*(J[$]-W)/(k-W)+Z*(k-J[$])/(k-W)),ye[$]=Math.pow(10,Be/10),L.numlines_l[$]>0?L.rnumlines_l[$]=1/L.numlines_l[$]:L.rnumlines_l[$]=0}L.s3_ll=St(L.s3ind,L.npart_l,J,ie,ye,D);var re=0;for($=0;$<L.npart_l;$++){var Ee;Ee=ji.MAX_VALUE;for(var Fe=0;Fe<L.numlines_l[$];Fe++,re++){var fe=ge*re/(1e3*se.BLKSIZE),Me;Me=this.ATHformula(fe*1e3,g)-20,Me=Math.pow(10,.1*Me),Me*=L.numlines_l[$],Ee>Me&&(Ee=Me)}L.ATH.cb_l[$]=Ee,Ee=-20+J[$]*20/10,Ee>6&&(Ee=100),Ee<-15&&(Ee=-15),Ee-=8,L.minval_l[$]=Math.pow(10,Ee/10)*L.numlines_l[$]}for(L.npart_s=Xe(L.numlines_s,L.bo_s,L.bm_s,J,ie,L.mld_s,L.PSY.bo_s_weight,ge,se.BLKSIZE_s,L.scalefac_band.s,se.BLKSIZE_s/(2*192),se.SBMAX_s),Ve(L.npart_s<se.CBANDS),re=0,$=0;$<L.npart_s;$++){var Ee,Be=z;J[$]>=W&&(Be=ae*(J[$]-W)/(k-W)+z*(k-J[$])/(k-W)),ye[$]=Math.pow(10,Be/10),Ee=ji.MAX_VALUE;for(var Fe=0;Fe<L.numlines_s[$];Fe++,re++){var fe=ge*re/(1e3*se.BLKSIZE_s),Me;Me=this.ATHformula(fe*1e3,g)-20,Me=Math.pow(10,.1*Me),Me*=L.numlines_s[$],Ee>Me&&(Ee=Me)}L.ATH.cb_s[$]=Ee,Ee=-7+J[$]*7/12,J[$]>12&&(Ee*=1+Math.log(1+Ee)*3.1),J[$]<12&&(Ee*=1+Math.log(1-Ee)*2.3),Ee<-15&&(Ee=-15),Ee-=8,L.minval_s[$]=Math.pow(10,Ee/10)*L.numlines_s[$]}L.s3_ss=St(L.s3ind_s,L.npart_s,J,ie,ye,D),p(),e.init_fft(L),L.decay=Math.exp(-1*t/(b*ge/192));{var _e;_e=H,g.exp_nspsytune&2&&(_e=1),Math.abs(g.msfix)>0&&(_e=g.msfix),g.msfix=_e;for(var Le=0;Le<L.npart_l;Le++)L.s3ind[Le][1]>L.npart_l-1&&(L.s3ind[Le][1]=L.npart_l-1)}var ze=576*L.mode_gr/ge;if(L.ATH.decay=Math.pow(10,-12/10*ze),L.ATH.adjust=.01,L.ATH.adjustLimit=1,Ve(L.bo_l[se.SBMAX_l-1]<=L.npart_l),Ve(L.bo_s[se.SBMAX_s-1]<=L.npart_s),g.ATHtype!=-1){var fe,xe=g.out_samplerate/se.BLKSIZE,He=0;for(fe=0,$=0;$<se.BLKSIZE/2;++$)fe+=xe,L.ATH.eql_w[$]=1/Math.pow(10,this.ATHformula(fe,g)/10),He+=L.ATH.eql_w[$];for(He=1/He,$=se.BLKSIZE/2;--$>=0;)L.ATH.eql_w[$]*=He}{for(var Le=re=0;Le<L.npart_s;++Le)for($=0;$<L.numlines_s[Le];++$)++re;for(var Le=re=0;Le<L.npart_l;++Le)for($=0;$<L.numlines_l[Le];++$)++re}for(re=0,$=0;$<L.npart_l;$++){var fe=ge*(re+L.numlines_l[$]/2)/(1*se.BLKSIZE);L.mld_cb_l[$]=yt(fe),re+=L.numlines_l[$]}for(;$<se.CBANDS;++$)L.mld_cb_l[$]=1;for(re=0,$=0;$<L.npart_s;$++){var fe=ge*(re+L.numlines_s[$]/2)/(1*se.BLKSIZE_s);L.mld_cb_s[$]=yt(fe),re+=L.numlines_s[$]}for(;$<se.CBANDS;++$)L.mld_cb_s[$]=1;return 0};function Rt(g,L){g<-.3&&(g=3410),g/=1e3,g=Math.max(.1,g);var $=3.64*Math.pow(g,-.8)-6.8*Math.exp(-.6*Math.pow(g-3.4,2))+6*Math.exp(-.15*Math.pow(g-8.7,2))+(.6+.04*L)*.001*Math.pow(g,4);return $}this.ATHformula=function(g,L){var $;switch(L.ATHtype){case 0:$=Rt(g,9);break;case 1:$=Rt(g,-1);break;case 2:$=Rt(g,0);break;case 3:$=Rt(g,1)+6;break;case 4:$=Rt(g,L.ATHcurve);break;default:$=Rt(g,0);break}return $}}var Vu=Hu;function l0(e){var t=e;this.ordinal=function(){return t}}l0.STEREO=new l0(0);l0.JOINT_STEREO=new l0(1);l0.DUAL_CHANNEL=new l0(2);l0.MONO=new l0(3);l0.NOT_SET=new l0(4);var so=l0,ku=so;function Fu(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=ku.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}var Pu=Fu,$u=Ct(),ao={};ao.SFBMAX=$u.SBMAX_s*3;var ms=ao,io=rt,Du=io.new_float,tn=io.new_int,js=ms;function Xu(){this.xr=Du(576),this.l3_enc=tn(576),this.scalefac=tn(js.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=tn(3),this.subblock_gain=tn(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=tn(js.SFBMAX),this.window=tn(js.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=tn(4),this.max_nonzero_coeff=0;var e=this;function t(r){return new Int32Array(r)}function n(r){return new Float32Array(r)}this.assign=function(r){e.xr=n(r.xr),e.l3_enc=t(r.l3_enc),e.scalefac=t(r.scalefac),e.xrpow_max=r.xrpow_max,e.part2_3_length=r.part2_3_length,e.big_values=r.big_values,e.count1=r.count1,e.global_gain=r.global_gain,e.scalefac_compress=r.scalefac_compress,e.block_type=r.block_type,e.mixed_block_flag=r.mixed_block_flag,e.table_select=t(r.table_select),e.subblock_gain=t(r.subblock_gain),e.region0_count=r.region0_count,e.region1_count=r.region1_count,e.preflag=r.preflag,e.scalefac_scale=r.scalefac_scale,e.count1table_select=r.count1table_select,e.part2_length=r.part2_length,e.sfb_lmax=r.sfb_lmax,e.sfb_smin=r.sfb_smin,e.psy_lmax=r.psy_lmax,e.sfbmax=r.sfbmax,e.psymax=r.psymax,e.sfbdivide=r.sfbdivide,e.width=t(r.width),e.window=t(r.window),e.count1bits=r.count1bits,e.sfb_partition_table=r.sfb_partition_table.slice(0),e.slen=t(r.slen),e.max_nonzero_coeff=r.max_nonzero_coeff}}var qa=Xu,qu=rt,Ki=qu.new_int,Gu=qa;function Yu(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[Ki(4),Ki(4)];for(var e=0;e<2;e++)for(var t=0;t<2;t++)this.tt[e][t]=new Gu}var Uu=Yu,lo=rt,Cr=lo.System,Ir=lo.new_int,gr=Ct();function ju(e,t,n,r){this.l=Ir(1+gr.SBMAX_l),this.s=Ir(1+gr.SBMAX_s),this.psfb21=Ir(1+gr.PSFB21),this.psfb12=Ir(1+gr.PSFB12);var a=this.l,l=this.s;arguments.length==4&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],Cr.arraycopy(this.arrL,0,a,0,Math.min(this.arrL.length,this.l.length)),Cr.arraycopy(this.arrS,0,l,0,Math.min(this.arrS.length,this.s.length)),Cr.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),Cr.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}var oo=ju,Ga=rt,Ks=Ga.new_float,Ku=Ga.new_float_n,Wu=Ga.new_int,Wi=Ct();function zu(){this.last_en_subshort=Ku([4,9]),this.lastAttacks=Wu(4),this.pefirbuf=Ks(19),this.longfact=Ks(Wi.SBMAX_l),this.shortfact=Ks(Wi.SBMAX_s),this.attackthre=0,this.attackthre_s=0}var Zu=zu;function Qu(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}var Ju=Qu,Nn=rt,ef=Nn.new_byte,tf=Nn.new_double,Wt=Nn.new_float,nn=Nn.new_float_n,n0=Nn.new_int,Lr=Nn.new_int_n,nf=Uu,rf=oo,sf=Zu,af=Ju,zi=no(),ot=Ct(),lf=ms;B0.MFSIZE=3*1152+ot.ENCDELAY-ot.MDCTDELAY;B0.MAX_HEADER_BUF=256;B0.MAX_BITS_PER_CHANNEL=4095;B0.MAX_BITS_PER_GRANULE=7680;B0.BPC=320;function B0(){var e=40;this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=nn([2,B0.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new nf,this.ms_ratio=Wt(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=n0(2),this.CurrentStep=n0(2),this.masking_lower=0,this.bv_scf=n0(576),this.pseudohalf=n0(lf.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*B0.BPC+1),this.itime=tf(2),this.sideinfo_len=0,this.sb_sample=nn([2,2,18,ot.SBLIMIT]),this.amp_filter=Wt(32);function t(){this.write_timing=0,this.ptr=0,this.buf=ef(e)}this.header=new Array(B0.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new rf,this.minval_l=Wt(ot.CBANDS),this.minval_s=Wt(ot.CBANDS),this.nb_1=nn([4,ot.CBANDS]),this.nb_2=nn([4,ot.CBANDS]),this.nb_s1=nn([4,ot.CBANDS]),this.nb_s2=nn([4,ot.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=Wt(4),this.loudness_sq=nn([2,2]),this.loudness_sq_save=Wt(2),this.mld_l=Wt(ot.SBMAX_l),this.mld_s=Wt(ot.SBMAX_s),this.bm_l=n0(ot.SBMAX_l),this.bo_l=n0(ot.SBMAX_l),this.bm_s=n0(ot.SBMAX_s),this.bo_s=n0(ot.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=Lr([ot.CBANDS,2]),this.s3ind_s=Lr([ot.CBANDS,2]),this.numlines_s=n0(ot.CBANDS),this.numlines_l=n0(ot.CBANDS),this.rnumlines_l=Wt(ot.CBANDS),this.mld_cb_l=Wt(ot.CBANDS),this.mld_cb_s=Wt(ot.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=Wt(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=n0(2),this.nsPsy=new sf,this.VBR_seek_table=new af,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=Lr([16,5]),this.bitrate_blockType_Hist=Lr([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var n=0;n<this.en.length;n++)this.en[n]=new zi;for(var n=0;n<this.thm.length;n++)this.thm[n]=new zi;for(var n=0;n<this.header.length;n++)this.header[n]=new t}var ps=B0,of=rt,rn=of.new_float,sn=Ct();function cf(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=rn(sn.SBMAX_l),this.s=rn(sn.SBMAX_s),this.psfb21=rn(sn.PSFB21),this.psfb12=rn(sn.PSFB12),this.cb_l=rn(sn.CBANDS),this.cb_s=rn(sn.CBANDS),this.eql_w=rn(sn.BLKSIZE/2)}var uf=cf,co=rt,kt=co.System,Zi=co.Arrays;ct.STEPS_per_dB=100;ct.MAX_dB=120;ct.GAIN_NOT_ENOUGH_SAMPLES=-24601;ct.GAIN_ANALYSIS_ERROR=0;ct.GAIN_ANALYSIS_OK=1;ct.INIT_GAIN_ANALYSIS_ERROR=0;ct.INIT_GAIN_ANALYSIS_OK=1;ct.YULE_ORDER=10;ct.MAX_ORDER=ct.YULE_ORDER;ct.MAX_SAMP_FREQ=48e3;ct.RMS_WINDOW_TIME_NUMERATOR=1;ct.RMS_WINDOW_TIME_DENOMINATOR=20;ct.MAX_SAMPLES_PER_WINDOW=ct.MAX_SAMP_FREQ*ct.RMS_WINDOW_TIME_NUMERATOR/ct.RMS_WINDOW_TIME_DENOMINATOR+1;function ct(){var e=64.82,t=.95,n=ct.RMS_WINDOW_TIME_NUMERATOR,r=ct.RMS_WINDOW_TIME_DENOMINATOR,a=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],l=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function f(_,H,I,C,Y,N){for(;Y--!=0;)I[C]=1e-10+_[H+0]*N[0]-I[C-1]*N[1]+_[H-1]*N[2]-I[C-2]*N[3]+_[H-2]*N[4]-I[C-3]*N[5]+_[H-3]*N[6]-I[C-4]*N[7]+_[H-4]*N[8]-I[C-5]*N[9]+_[H-5]*N[10]-I[C-6]*N[11]+_[H-6]*N[12]-I[C-7]*N[13]+_[H-7]*N[14]-I[C-8]*N[15]+_[H-8]*N[16]-I[C-9]*N[17]+_[H-9]*N[18]-I[C-10]*N[19]+_[H-10]*N[20],++C,++H}function d(_,H,I,C,Y,N){for(;Y--!=0;)I[C]=_[H+0]*N[0]-I[C-1]*N[1]+_[H-1]*N[2]-I[C-2]*N[3]+_[H-2]*N[4],++C,++H}function b(_,H){for(var I=0;I<MAX_ORDER;I++)_.linprebuf[I]=_.lstepbuf[I]=_.loutbuf[I]=_.rinprebuf[I]=_.rstepbuf[I]=_.routbuf[I]=0;switch(0|H){case 48e3:_.reqindex=0;break;case 44100:_.reqindex=1;break;case 32e3:_.reqindex=2;break;case 24e3:_.reqindex=3;break;case 22050:_.reqindex=4;break;case 16e3:_.reqindex=5;break;case 12e3:_.reqindex=6;break;case 11025:_.reqindex=7;break;case 8e3:_.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return _.sampleWindow=0|(H*n+r-1)/r,_.lsum=0,_.rsum=0,_.totsamp=0,Zi.ill(_.A,0),INIT_GAIN_ANALYSIS_OK}this.InitGainAnalysis=function(_,H){return b(_,H)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(_.linpre=MAX_ORDER,_.rinpre=MAX_ORDER,_.lstep=MAX_ORDER,_.rstep=MAX_ORDER,_.lout=MAX_ORDER,_.rout=MAX_ORDER,Zi.fill(_.B,0),INIT_GAIN_ANALYSIS_OK)};function S(_){return _*_}this.AnalyzeSamples=function(_,H,I,C,Y,N,E){var o,s,T,x,O,w,m;if(N==0)return GAIN_ANALYSIS_OK;switch(m=0,O=N,E){case 1:C=H,Y=I;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(N<MAX_ORDER?(kt.arraycopy(H,I,_.linprebuf,MAX_ORDER,N),kt.arraycopy(C,Y,_.rinprebuf,MAX_ORDER,N)):(kt.arraycopy(H,I,_.linprebuf,MAX_ORDER,MAX_ORDER),kt.arraycopy(C,Y,_.rinprebuf,MAX_ORDER,MAX_ORDER));O>0;){w=O>_.sampleWindow-_.totsamp?_.sampleWindow-_.totsamp:O,m<MAX_ORDER?(o=_.linpre+m,s=_.linprebuf,T=_.rinpre+m,x=_.rinprebuf,w>MAX_ORDER-m&&(w=MAX_ORDER-m)):(o=I+m,s=H,T=Y+m,x=C),f(s,o,_.lstepbuf,_.lstep+_.totsamp,w,a[_.reqindex]),f(x,T,_.rstepbuf,_.rstep+_.totsamp,w,a[_.reqindex]),d(_.lstepbuf,_.lstep+_.totsamp,_.loutbuf,_.lout+_.totsamp,w,l[_.reqindex]),d(_.rstepbuf,_.rstep+_.totsamp,_.routbuf,_.rout+_.totsamp,w,l[_.reqindex]),o=_.lout+_.totsamp,s=_.loutbuf,T=_.rout+_.totsamp,x=_.routbuf;for(var p=w%8;p--!=0;)_.lsum+=S(s[o++]),_.rsum+=S(x[T++]);for(p=w/8;p--!=0;)_.lsum+=S(s[o+0])+S(s[o+1])+S(s[o+2])+S(s[o+3])+S(s[o+4])+S(s[o+5])+S(s[o+6])+S(s[o+7]),o+=8,_.rsum+=S(x[T+0])+S(x[T+1])+S(x[T+2])+S(x[T+3])+S(x[T+4])+S(x[T+5])+S(x[T+6])+S(x[T+7]),T+=8;if(O-=w,m+=w,_.totsamp+=w,_.totsamp==_.sampleWindow){var u=ct.STEPS_per_dB*10*Math.log10((_.lsum+_.rsum)/_.totsamp*.5+1e-37),y=u<=0?0:0|u;y>=_.A.length&&(y=_.A.length-1),_.A[y]++,_.lsum=_.rsum=0,kt.arraycopy(_.loutbuf,_.totsamp,_.loutbuf,0,MAX_ORDER),kt.arraycopy(_.routbuf,_.totsamp,_.routbuf,0,MAX_ORDER),kt.arraycopy(_.lstepbuf,_.totsamp,_.lstepbuf,0,MAX_ORDER),kt.arraycopy(_.rstepbuf,_.totsamp,_.rstepbuf,0,MAX_ORDER),_.totsamp=0}if(_.totsamp>_.sampleWindow)return GAIN_ANALYSIS_ERROR}return N<MAX_ORDER?(kt.arraycopy(_.linprebuf,N,_.linprebuf,0,MAX_ORDER-N),kt.arraycopy(_.rinprebuf,N,_.rinprebuf,0,MAX_ORDER-N),kt.arraycopy(H,I,_.linprebuf,MAX_ORDER-N,N),kt.arraycopy(C,Y,_.rinprebuf,MAX_ORDER-N,N)):(kt.arraycopy(H,I+N-MAX_ORDER,_.linprebuf,0,MAX_ORDER),kt.arraycopy(C,Y+N-MAX_ORDER,_.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK};function M(_,H){var I,C=0;for(I=0;I<H;I++)C+=_[I];if(C==0)return GAIN_NOT_ENOUGH_SAMPLES;var Y=0|Math.ceil(C*(1-t));for(I=H;I-- >0&&!((Y-=_[I])<=0););return e-I/ct.STEPS_per_dB}this.GetTitleGain=function(_){for(var H=M(_.A,_.A.length),I=0;I<_.A.length;I++)_.B[I]+=_.A[I],_.A[I]=0;for(var I=0;I<MAX_ORDER;I++)_.linprebuf[I]=_.lstepbuf[I]=_.loutbuf[I]=_.rinprebuf[I]=_.rstepbuf[I]=_.routbuf[I]=0;return _.totsamp=0,_.lsum=_.rsum=0,H}}var uo=ct,fo=rt,An=fo.new_float,Qi=fo.new_int,Ft=uo;function ff(){this.linprebuf=An(Ft.MAX_ORDER*2),this.linpre=0,this.lstepbuf=An(Ft.MAX_SAMPLES_PER_WINDOW+Ft.MAX_ORDER),this.lstep=0,this.loutbuf=An(Ft.MAX_SAMPLES_PER_WINDOW+Ft.MAX_ORDER),this.lout=0,this.rinprebuf=An(Ft.MAX_ORDER*2),this.rinpre=0,this.rstepbuf=An(Ft.MAX_SAMPLES_PER_WINDOW+Ft.MAX_ORDER),this.rstep=0,this.routbuf=An(Ft.MAX_SAMPLES_PER_WINDOW+Ft.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=Qi(0|Ft.STEPS_per_dB*Ft.MAX_dB),this.B=Qi(0|Ft.STEPS_per_dB*Ft.MAX_dB)}var _f=ff;function hf(e){this.bits=e}var _o=hf,Ya=rt,Ji=Ya.new_float,df=Ya.new_int,e1=Ya.assert,vf=_o,t1=Ct(),mf=ms,pf=ps;function bf(e){var t=e;this.quantize=t,this.iteration_loop=function(n,r,a,l){var f=n.internal_flags,d=Ji(mf.SFBMAX),b=Ji(576),S=df(2),M=0,_,H=f.l3_side,I=new vf(M);this.quantize.rv.ResvFrameBegin(n,I),M=I.bits;for(var C=0;C<f.mode_gr;C++){_=this.quantize.qupvt.on_pe(n,r,S,M,C,C),f.mode_ext==t1.MPG_MD_MS_LR&&(this.quantize.ms_convert(f.l3_side,C),this.quantize.qupvt.reduce_side(S,a[C],M,_));for(var Y=0;Y<f.channels_out;Y++){var N,E,o=H.tt[C][Y];o.block_type!=t1.SHORT_TYPE?(N=0,E=f.PSY.mask_adjust-N):(N=0,E=f.PSY.mask_adjust_short-N),f.masking_lower=Math.pow(10,E*.1),this.quantize.init_outer_loop(f,o),this.quantize.init_xrpow(f,o,b)&&(this.quantize.qupvt.calc_xmin(n,l[C][Y],o,d),this.quantize.outer_loop(n,o,d,b,Y,S[Y])),this.quantize.iteration_finish_one(f,C,Y),e1(o.part2_3_length<=pf.MAX_BITS_PER_CHANNEL),e1(o.part2_3_length<=S[Y])}}this.quantize.rv.ResvFrameEnd(f,M)}}var Sf=bf;function qe(e,t,n,r){this.xlen=e,this.linmax=t,this.table=n,this.hlen=r}var he={};he.t1HB=[1,1,1,0];he.t2HB=[1,2,1,3,1,1,3,2,0];he.t3HB=[3,2,1,1,1,1,3,2,0];he.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0];he.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0];he.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0];he.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0];he.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0];he.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0];he.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0];he.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0];he.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1];he.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0];he.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3];he.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3];he.t32HB=[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16];he.t33HB=[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0];he.t1l=[1,4,3,5];he.t2l=[1,4,7,4,5,7,6,7,8];he.t3l=[2,3,7,4,4,7,6,7,8];he.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10];he.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9];he.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12];he.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13];he.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11];he.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13];he.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12];he.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12];he.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18];he.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15];he.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12];he.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10];he.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6];he.t32l=[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10];he.t33l=[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8];he.ht=[new qe(0,0,null,null),new qe(2,0,he.t1HB,he.t1l),new qe(3,0,he.t2HB,he.t2l),new qe(3,0,he.t3HB,he.t3l),new qe(0,0,null,null),new qe(4,0,he.t5HB,he.t5l),new qe(4,0,he.t6HB,he.t6l),new qe(6,0,he.t7HB,he.t7l),new qe(6,0,he.t8HB,he.t8l),new qe(6,0,he.t9HB,he.t9l),new qe(8,0,he.t10HB,he.t10l),new qe(8,0,he.t11HB,he.t11l),new qe(8,0,he.t12HB,he.t12l),new qe(16,0,he.t13HB,he.t13l),new qe(0,0,null,he.t16_5l),new qe(16,0,he.t15HB,he.t15l),new qe(1,1,he.t16HB,he.t16l),new qe(2,3,he.t16HB,he.t16l),new qe(3,7,he.t16HB,he.t16l),new qe(4,15,he.t16HB,he.t16l),new qe(6,63,he.t16HB,he.t16l),new qe(8,255,he.t16HB,he.t16l),new qe(10,1023,he.t16HB,he.t16l),new qe(13,8191,he.t16HB,he.t16l),new qe(4,15,he.t24HB,he.t24l),new qe(5,31,he.t24HB,he.t24l),new qe(6,63,he.t24HB,he.t24l),new qe(7,127,he.t24HB,he.t24l),new qe(8,255,he.t24HB,he.t24l),new qe(9,511,he.t24HB,he.t24l),new qe(11,2047,he.t24HB,he.t24l),new qe(13,8191,he.t24HB,he.t24l),new qe(0,0,he.t32HB,he.t32l),new qe(0,0,he.t33HB,he.t33l)];he.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366];he.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296];he.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369];he.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]];he.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]];he.scfsi_band=[0,6,11,16,21];var Ua=he,y0=oo,Hn=rt,an=Hn.VbrMode,Or=Hn.Float,Ws=Hn.Util,ln=Hn.new_float,yf=Hn.new_int,Yn=Hn.assert,pt=Ct(),Rf=_o,Xt=ps;T0.Q_MAX=257;T0.Q_MAX2=116;T0.LARGE_BITS=1e5;T0.IXMAX_VAL=8206;function T0(){var e=null,t=null,n=null;this.setModules=function(o,s,T){e=o,t=s,n=T};function r(o){return _[o+T0.Q_MAX2]}this.IPOW20=function(o){return H[o]};var a=2220446049250313e-31,l=T0.IXMAX_VAL,f=l+2,d=T0.Q_MAX,b=T0.Q_MAX2,S=100;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var M=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=M,this.sfBandIndex=[new y0([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new y0([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new y0([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new y0([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new y0([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new y0([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new y0([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new y0([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new y0([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0/3,24/3,48/3,72/3,108/3,156/3,216/3,288/3,372/3,480/3,486/3,492/3,498/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var _=ln(d+b+1),H=ln(d),I=ln(f),C=ln(f);this.adj43=C;function Y(o,s){var T=n.ATHformula(s,o);return T-=S,T=Math.pow(10,T/10+o.ATHlower),T}function N(o){for(var s=o.internal_flags.ATH.l,T=o.internal_flags.ATH.psfb21,x=o.internal_flags.ATH.s,O=o.internal_flags.ATH.psfb12,w=o.internal_flags,m=o.out_samplerate,p=0;p<pt.SBMAX_l;p++){var u=w.scalefac_band.l[p],y=w.scalefac_band.l[p+1];s[p]=Or.MAX_VALUE;for(var i=u;i<y;i++){var h=i*m/1152,v=Y(o,h);s[p]=Math.min(s[p],v)}}for(var p=0;p<pt.PSFB21;p++){var u=w.scalefac_band.psfb21[p],y=w.scalefac_band.psfb21[p+1];T[p]=Or.MAX_VALUE;for(var i=u;i<y;i++){var h=i*m/1152,v=Y(o,h);T[p]=Math.min(T[p],v)}}for(var p=0;p<pt.SBMAX_s;p++){var u=w.scalefac_band.s[p],y=w.scalefac_band.s[p+1];x[p]=Or.MAX_VALUE;for(var i=u;i<y;i++){var h=i*m/384,v=Y(o,h);x[p]=Math.min(x[p],v)}x[p]*=w.scalefac_band.s[p+1]-w.scalefac_band.s[p]}for(var p=0;p<pt.PSFB12;p++){var u=w.scalefac_band.psfb12[p],y=w.scalefac_band.psfb12[p+1];O[p]=Or.MAX_VALUE;for(var i=u;i<y;i++){var h=i*m/384,v=Y(o,h);O[p]=Math.min(O[p],v)}O[p]*=w.scalefac_band.s[13]-w.scalefac_band.s[12]}if(o.noATH){for(var p=0;p<pt.SBMAX_l;p++)s[p]=1e-20;for(var p=0;p<pt.PSFB21;p++)T[p]=1e-20;for(var p=0;p<pt.SBMAX_s;p++)x[p]=1e-20;for(var p=0;p<pt.PSFB12;p++)O[p]=1e-20}w.ATH.floor=10*Math.log10(Y(o,-1))}this.iteration_init=function(o){var s=o.internal_flags,T=s.l3_side,x;if(s.iteration_init_init==0){for(s.iteration_init_init=1,T.main_data_begin=0,N(o),I[0]=0,x=1;x<f;x++)I[x]=Math.pow(x,4/3);for(x=0;x<f-1;x++)C[x]=x+1-Math.pow(.5*(I[x]+I[x+1]),.75);for(C[x]=.5,x=0;x<d;x++)H[x]=Math.pow(2,(x-210)*-.1875);for(x=0;x<=d+b;x++)_[x]=Math.pow(2,(x-210-b)*.25);e.huffman_init(s);{var O,w,m,p;for(x=o.exp_nspsytune>>2&63,x>=32&&(x-=64),O=Math.pow(10,x/4/10),x=o.exp_nspsytune>>8&63,x>=32&&(x-=64),w=Math.pow(10,x/4/10),x=o.exp_nspsytune>>14&63,x>=32&&(x-=64),m=Math.pow(10,x/4/10),x=o.exp_nspsytune>>20&63,x>=32&&(x-=64),p=m*Math.pow(10,x/4/10),x=0;x<pt.SBMAX_l;x++){var u;x<=6?u=O:x<=13?u=w:x<=20?u=m:u=p,s.nsPsy.longfact[x]=u}for(x=0;x<pt.SBMAX_s;x++){var u;x<=5?u=O:x<=10?u=w:x<=11?u=m:u=p,s.nsPsy.shortfact[x]=u}}}},this.on_pe=function(o,s,T,x,O,w){var m=o.internal_flags,p=0,u,y=yf(2),i,h=new Rf(p),v=t.ResvMaxBits(o,x,h,w);p=h.bits;var R=p+v;for(R>Xt.MAX_BITS_PER_GRANULE&&(R=Xt.MAX_BITS_PER_GRANULE),u=0,i=0;i<m.channels_out;++i)T[i]=Math.min(Xt.MAX_BITS_PER_CHANNEL,p/m.channels_out),y[i]=0|T[i]*s[O][i]/700-T[i],y[i]>x*3/4&&(y[i]=x*3/4),y[i]<0&&(y[i]=0),y[i]+T[i]>Xt.MAX_BITS_PER_CHANNEL&&(y[i]=Math.max(0,Xt.MAX_BITS_PER_CHANNEL-T[i])),u+=y[i];if(u>v)for(i=0;i<m.channels_out;++i)y[i]=v*y[i]/u;for(i=0;i<m.channels_out;++i)T[i]+=y[i],v-=y[i];for(u=0,i=0;i<m.channels_out;++i)u+=T[i];if(u>Xt.MAX_BITS_PER_GRANULE){var B=0;for(i=0;i<m.channels_out;++i)T[i]*=Xt.MAX_BITS_PER_GRANULE,T[i]/=u,B+=T[i]}return R},this.reduce_side=function(o,s,T,x){Yn(o[0]+o[1]<=Xt.MAX_BITS_PER_GRANULE);var O=.33*(.5-s)/.5;O<0&&(O=0),O>.5&&(O=.5);var w=0|O*.5*(o[0]+o[1]);w>Xt.MAX_BITS_PER_CHANNEL-o[0]&&(w=Xt.MAX_BITS_PER_CHANNEL-o[0]),w<0&&(w=0),o[1]>=125&&(o[1]-w>125?(o[0]<T&&(o[0]+=w),o[1]-=w):(o[0]+=o[1]-125,o[1]=125)),w=o[0]+o[1],w>x&&(o[0]=x*o[0]/w,o[1]=x*o[1]/w),Yn(o[0]<=Xt.MAX_BITS_PER_CHANNEL),Yn(o[1]<=Xt.MAX_BITS_PER_CHANNEL),Yn(o[0]+o[1]<=Xt.MAX_BITS_PER_GRANULE)},this.athAdjust=function(o,s,T){var x=90.30873362,O=94.82444863,w=Ws.FAST_LOG10_X(s,10),m=o*o,p=0;return w-=T,m>1e-20&&(p=1+Ws.FAST_LOG10_X(m,10/x)),p<0&&(p=0),w*=p,w+=T+x-O,Math.pow(10,.1*w)},this.calc_xmin=function(o,s,T,x){var O=0,w=o.internal_flags,m,p=0,u=0,y=w.ATH,i=T.xr,h=o.VBR==an.vbr_mtrh?1:0,v=w.masking_lower;for((o.VBR==an.vbr_mtrh||o.VBR==an.vbr_mt)&&(v=1),m=0;m<T.psy_lmax;m++){var R,B,G,V,X,c;o.VBR==an.vbr_rh||o.VBR==an.vbr_mtrh?B=athAdjust(y.adjust,y.l[m],y.floor):B=y.adjust*y.l[m],X=T.width[m],G=B/X,V=a,c=X>>1,R=0;do{var A,q;A=i[p]*i[p],R+=A,V+=A<G?A:G,p++,q=i[p]*i[p],R+=q,V+=q<G?q:G,p++}while(--c>0);if(R>B&&u++,m==pt.SBPSY_l){var j=B*w.nsPsy.longfact[m];V<j&&(V=j)}if(h!=0&&(B=V),!o.ATHonly){var ve=s.en.l[m];if(ve>0){var j;j=R*s.thm.l[m]*v/ve,h!=0&&(j*=w.nsPsy.longfact[m]),B<j&&(B=j)}}h!=0?x[O++]=B:x[O++]=B*w.nsPsy.longfact[m]}var Se=575;if(T.block_type!=pt.SHORT_TYPE)for(var me=576;me--!=0&&BitStream.EQ(i[me],0);)Se=me;T.max_nonzero_coeff=Se;for(var U=T.sfb_smin;m<T.psymax;U++,m+=3){var X,ce,te;for(o.VBR==an.vbr_rh||o.VBR==an.vbr_mtrh?te=athAdjust(y.adjust,y.s[U],y.floor):te=y.adjust*y.s[U],X=T.width[m],ce=0;ce<3;ce++){var R=0,B,G,V,c=X>>1;G=te/X,V=a;do{var A,q;A=i[p]*i[p],R+=A,V+=A<G?A:G,p++,q=i[p]*i[p],R+=q,V+=q<G?q:G,p++}while(--c>0);if(R>te&&u++,U==pt.SBPSY_s){var j=te*w.nsPsy.shortfact[U];V<j&&(V=j)}if(h!=0?B=V:B=te,!o.ATHonly&&!o.ATHshort){var ve=s.en.s[U][ce];if(ve>0){var j;j=R*s.thm.s[U][ce]*v/ve,h!=0&&(j*=w.nsPsy.shortfact[U]),B<j&&(B=j)}}h!=0?x[O++]=B:x[O++]=B*w.nsPsy.shortfact[U]}o.useTemporal&&(x[O-3]>x[O-3+1]&&(x[O-3+1]+=(x[O-3]-x[O-3+1])*w.decay),x[O-3+1]>x[O-3+2]&&(x[O-3+2]+=(x[O-3+1]-x[O-3+2])*w.decay))}return u};function E(o){this.s=o}this.calc_noise_core=function(o,s,T,x){var O=0,w=s.s,m=o.l3_enc;if(w>o.count1)for(;T--!=0;){var p;p=o.xr[w],w++,O+=p*p,p=o.xr[w],w++,O+=p*p}else if(w>o.big_values){var u=ln(2);for(u[0]=0,u[1]=x;T--!=0;){var p;p=Math.abs(o.xr[w])-u[m[w]],w++,O+=p*p,p=Math.abs(o.xr[w])-u[m[w]],w++,O+=p*p}}else for(;T--!=0;){var p;p=Math.abs(o.xr[w])-I[m[w]]*x,w++,O+=p*p,p=Math.abs(o.xr[w])-I[m[w]]*x,w++,O+=p*p}return s.s=w,O},this.calc_noise=function(o,s,T,x,O){var w=0,m=0,p,u,y=0,i=0,h=0,v=-20,R=0,B=o.scalefac,G=0;for(x.over_SSD=0,p=0;p<o.psymax;p++){var V=o.global_gain-(B[G++]+(o.preflag!=0?M[p]:0)<<o.scalefac_scale+1)-o.subblock_gain[o.window[p]]*8,X=0;if(O!=null&&O.step[p]==V)X=O.noise[p],R+=o.width[p],T[w++]=X/s[m++],X=O.noise_log[p];else{var c=r(V);if(u=o.width[p]>>1,R+o.width[p]>o.max_nonzero_coeff){var A;A=o.max_nonzero_coeff-R+1,A>0?u=A>>1:u=0}var q=new E(R);X=this.calc_noise_core(o,q,u,c),R=q.s,O!=null&&(O.step[p]=V,O.noise[p]=X),X=T[w++]=X/s[m++],X=Ws.FAST_LOG10(Math.max(X,1e-20)),O!=null&&(O.noise_log[p]=X)}if(O!=null&&(O.global_gain=o.global_gain),h+=X,X>0){var j;j=Math.max(0|X*10+.5,1),x.over_SSD+=j*j,y++,i+=X}v=Math.max(v,X)}return x.over_count=y,x.tot_noise=h,x.over_noise=i,x.max_noise=v,y},this.set_pinfo=function(o,s,T,x,O){var w=o.internal_flags,m,p,u,y,i,h=s.scalefac_scale==0?.5:1,v=s.scalefac,R=ln(L3Side.SFBMAX),B=ln(L3Side.SFBMAX),G=new CalcNoiseResult;calc_xmin(o,T,s,R),calc_noise(s,R,B,G,null);var V=0;for(p=s.sfb_lmax,s.block_type!=pt.SHORT_TYPE&&s.mixed_block_flag==0&&(p=22),m=0;m<p;m++){var X=w.scalefac_band.l[m],c=w.scalefac_band.l[m+1],A=c-X;for(y=0;V<c;V++)y+=s.xr[V]*s.xr[V];y/=A,i=1e15,w.pinfo.en[x][O][m]=i*y,w.pinfo.xfsf[x][O][m]=i*R[m]*B[m]/A,T.en.l[m]>0&&!o.ATHonly?y=y/T.en.l[m]:y=0,w.pinfo.thr[x][O][m]=i*Math.max(y*T.thm.l[m],w.ATH.l[m]),w.pinfo.LAMEsfb[x][O][m]=0,s.preflag!=0&&m>=11&&(w.pinfo.LAMEsfb[x][O][m]=-h*M[m]),m<pt.SBPSY_l&&(Yn(v[m]>=0),w.pinfo.LAMEsfb[x][O][m]-=h*v[m])}if(s.block_type==pt.SHORT_TYPE)for(p=m,m=s.sfb_smin;m<pt.SBMAX_s;m++)for(var X=w.scalefac_band.s[m],c=w.scalefac_band.s[m+1],A=c-X,q=0;q<3;q++){for(y=0,u=X;u<c;u++)y+=s.xr[V]*s.xr[V],V++;y=Math.max(y/A,1e-20),i=1e15,w.pinfo.en_s[x][O][3*m+q]=i*y,w.pinfo.xfsf_s[x][O][3*m+q]=i*R[p]*B[p]/A,T.en.s[m][q]>0?y=y/T.en.s[m][q]:y=0,(o.ATHonly||o.ATHshort)&&(y=0),w.pinfo.thr_s[x][O][3*m+q]=i*Math.max(y*T.thm.s[m][q],w.ATH.s[m]),w.pinfo.LAMEsfb_s[x][O][3*m+q]=-2*s.subblock_gain[q],m<pt.SBPSY_s&&(w.pinfo.LAMEsfb_s[x][O][3*m+q]-=h*v[p]),p++}w.pinfo.LAMEqss[x][O]=s.global_gain,w.pinfo.LAMEmainbits[x][O]=s.part2_3_length+s.part2_length,w.pinfo.LAMEsfbits[x][O]=s.part2_length,w.pinfo.over[x][O]=G.over_count,w.pinfo.max_noise[x][O]=G.max_noise*10,w.pinfo.over_noise[x][O]=G.over_noise*10,w.pinfo.tot_noise[x][O]=G.tot_noise*10,w.pinfo.over_SSD[x][O]=G.over_SSD}}var ho=T0,bs=rt,xf=bs.System,Af=bs.Arrays,Un=bs.new_int,Nr=bs.assert,st=Ct(),at=Ua,Ef=qa,on=ho;function ba(){var e=null;this.qupvt=null,this.setModules=function(u){this.qupvt=u,e=u};function t(u){this.bits=0|u}var n=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function r(u,y,i,h,v,R){var B=.5946/y;for(u=u>>1;u--!=0;)v[R++]=B>i[h++]?0:1,v[R++]=B>i[h++]?0:1}function a(u,y,i,h,v,R){u=u>>1;var B=u%2;for(u=u>>1;u--!=0;){var G,V,X,c,A,q,j,ve;G=i[h++]*y,V=i[h++]*y,A=0|G,X=i[h++]*y,q=0|V,c=i[h++]*y,j=0|X,G+=e.adj43[A],ve=0|c,V+=e.adj43[q],v[R++]=0|G,X+=e.adj43[j],v[R++]=0|V,c+=e.adj43[ve],v[R++]=0|X,v[R++]=0|c}if(B!=0){var G,V,A,q;G=i[h++]*y,V=i[h++]*y,A=0|G,q=0|V,G+=e.adj43[A],V+=e.adj43[q],v[R++]=0|G,v[R++]=0|V}}function l(u,y,i,h,v){var R,B,G=0,V,X=0,c=0,A=0,q=y,j=0,ve=q,Se=0,me=u,U=0;for(V=v!=null&&h.global_gain==v.global_gain,h.block_type==st.SHORT_TYPE?B=38:B=21,R=0;R<=B;R++){var ce=-1;if((V||h.block_type==st.NORM_TYPE)&&(ce=h.global_gain-(h.scalefac[R]+(h.preflag!=0?e.pretab[R]:0)<<h.scalefac_scale+1)-h.subblock_gain[h.window[R]]*8),Nr(h.width[R]>=0),V&&v.step[R]==ce)X!=0&&(a(X,i,me,U,ve,Se),X=0),c!=0&&(r(c,i,me,U,ve,Se),c=0);else{var te=h.width[R];if(G+h.width[R]>h.max_nonzero_coeff){var ee;ee=h.max_nonzero_coeff-G+1,Af.fill(y,h.max_nonzero_coeff,576,0),te=ee,te<0&&(te=0),R=B+1}if(X==0&&c==0&&(ve=q,Se=j,me=u,U=A),v!=null&&v.sfb_count1>0&&R>=v.sfb_count1&&v.step[R]>0&&ce>=v.step[R]?(X!=0&&(a(X,i,me,U,ve,Se),X=0,ve=q,Se=j,me=u,U=A),c+=te):(c!=0&&(r(c,i,me,U,ve,Se),c=0,ve=q,Se=j,me=u,U=A),X+=te),te<=0){c!=0&&(r(c,i,me,U,ve,Se),c=0),X!=0&&(a(X,i,me,U,ve,Se),X=0);break}}R<=B&&(j+=h.width[R],A+=h.width[R],G+=h.width[R])}X!=0&&(a(X,i,me,U,ve,Se),X=0),c!=0&&(r(c,i,me,U,ve,Se),c=0)}function f(u,y,i){var h=0,v=0;do{var R=u[y++],B=u[y++];h<R&&(h=R),v<B&&(v=B)}while(y<i);return h<v&&(h=v),h}function d(u,y,i,h,v,R){var B=at.ht[h].xlen*65536+at.ht[v].xlen,G=0,V;do{var X=u[y++],c=u[y++];X!=0&&(X>14&&(X=15,G+=B),X*=16),c!=0&&(c>14&&(c=15,G+=B),X+=c),G+=at.largetbl[X]}while(y<i);return V=G&65535,G>>=16,G>V&&(G=V,h=v),R.bits+=G,h}function b(u,y,i,h){var v=0,R=at.ht[1].hlen;do{var B=u[y+0]*2+u[y+1];y+=2,v+=R[B]}while(y<i);return h.bits+=v,1}function S(u,y,i,h,v){var R=0,B,G=at.ht[h].xlen,V;h==2?V=at.table23:V=at.table56;do{var X=u[y+0]*G+u[y+1];y+=2,R+=V[X]}while(y<i);return B=R&65535,R>>=16,R>B&&(R=B,h++),v.bits+=R,h}function M(u,y,i,h,v){var R=0,B=0,G=0,V=at.ht[h].xlen,X=at.ht[h].hlen,c=at.ht[h+1].hlen,A=at.ht[h+2].hlen;do{var q=u[y+0]*V+u[y+1];y+=2,R+=X[q],B+=c[q],G+=A[q]}while(y<i);var j=h;return R>B&&(R=B,j++),R>G&&(R=G,j=h+2),v.bits+=R,j}var _=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function H(u,y,i,h){var v=f(u,y,i);switch(v){case 0:return v;case 1:return b(u,y,i,h);case 2:case 3:return S(u,y,i,_[v-1],h);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return M(u,y,i,_[v-1],h);default:if(v>on.IXMAX_VAL)return h.bits=on.LARGE_BITS,-1;v-=15;var R;for(R=24;R<32&&!(at.ht[R].linmax>=v);R++);var B;for(B=R-8;B<24&&!(at.ht[B].linmax>=v);B++);return d(u,y,i,B,R,h)}}this.noquant_count_bits=function(u,y,i){var h=y.l3_enc,v=Math.min(576,y.max_nonzero_coeff+2>>1<<1);for(i!=null&&(i.sfb_count1=0);v>1&&!(h[v-1]|h[v-2]);v-=2);y.count1=v;for(var R=0,B=0;v>3;v-=4){var G;if(((h[v-1]|h[v-2]|h[v-3]|h[v-4])&2147483647)>1)break;G=((h[v-4]*2+h[v-3])*2+h[v-2])*2+h[v-1],R+=at.t32l[G],B+=at.t33l[G]}var V=R;if(y.count1table_select=0,R>B&&(V=B,y.count1table_select=1),y.count1bits=V,y.big_values=v,v==0)return V;if(y.block_type==st.SHORT_TYPE)R=3*u.scalefac_band.s[3],R>y.big_values&&(R=y.big_values),B=y.big_values;else if(y.block_type==st.NORM_TYPE){if(R=y.region0_count=u.bv_scf[v-2],B=y.region1_count=u.bv_scf[v-1],Nr(R+B+2<st.SBPSY_l),B=u.scalefac_band.l[R+B+2],R=u.scalefac_band.l[R+1],B<v){var X=new t(V);y.table_select[2]=H(h,B,v,X),V=X.bits}}else y.region0_count=7,y.region1_count=st.SBMAX_l-1-7-1,R=u.scalefac_band.l[8],B=v,R>B&&(R=B);if(R=Math.min(R,v),B=Math.min(B,v),0<R){var X=new t(V);y.table_select[0]=H(h,0,R,X),V=X.bits}if(R<B){var X=new t(V);y.table_select[1]=H(h,R,B,X),V=X.bits}if(u.use_best_huffman==2&&(y.part2_3_length=V,best_huffman_divide(u,y),V=y.part2_3_length),i!=null&&y.block_type==st.NORM_TYPE){for(var c=0;u.scalefac_band.l[c]<y.big_values;)c++;i.sfb_count1=c}return V},this.count_bits=function(u,y,i,h){var v=i.l3_enc,R=on.IXMAX_VAL/e.IPOW20(i.global_gain);if(i.xrpow_max>R)return on.LARGE_BITS;if(l(y,v,e.IPOW20(i.global_gain),i,h),u.substep_shaping&2)for(var B=0,G=i.global_gain+i.scalefac_scale,V=.634521682242439/e.IPOW20(G),X=0;X<i.sfbmax;X++){var c=i.width[X];if(u.pseudohalf[X]==0)B+=c;else{var A;for(A=B,B+=c;A<B;++A)v[A]=y[A]>=V?v[A]:0}}return this.noquant_count_bits(u,i,h)};function I(u,y,i,h,v,R,B){for(var G=y.big_values,V=0;V<=22;V++)h[V]=on.LARGE_BITS;for(var V=0;V<16;V++){var X=u.scalefac_band.l[V+1];if(X>=G)break;var c=0,A=new t(c),q=H(i,0,X,A);c=A.bits;for(var j=0;j<8;j++){var ve=u.scalefac_band.l[V+j+2];if(ve>=G)break;var Se=c;A=new t(Se);var me=H(i,X,ve,A);Se=A.bits,h[V+j]>Se&&(h[V+j]=Se,v[V+j]=V,R[V+j]=q,B[V+j]=me)}}}function C(u,y,i,h,v,R,B,G){for(var V=y.big_values,X=2;X<st.SBMAX_l+1;X++){var c=u.scalefac_band.l[X];if(c>=V)break;var A=v[X-2]+y.count1bits;if(i.part2_3_length<=A)break;var q=new t(A),j=H(h,c,V,q);A=q.bits,!(i.part2_3_length<=A)&&(i.assign(y),i.part2_3_length=A,i.region0_count=R[X-2],i.region1_count=X-2-R[X-2],i.table_select[0]=B[X-2],i.table_select[1]=G[X-2],i.table_select[2]=j)}}this.best_huffman_divide=function(u,y){var i=new Ef,h=y.l3_enc,v=Un(23),R=Un(23),B=Un(23),G=Un(23);if(!(y.block_type==st.SHORT_TYPE&&u.mode_gr==1)){i.assign(y),y.block_type==st.NORM_TYPE&&(I(u,y,h,v,R,B,G),C(u,i,y,h,v,R,B,G));var V=i.big_values;if(!(V==0||(h[V-2]|h[V-1])>1)&&(V=y.count1+2,!(V>576))){i.assign(y),i.count1=V;for(var X=0,c=0;V>i.big_values;V-=4){var A=((h[V-4]*2+h[V-3])*2+h[V-2])*2+h[V-1];X+=at.t32l[A],c+=at.t33l[A]}if(i.big_values=V,i.count1table_select=0,X>c&&(X=c,i.count1table_select=1),i.count1bits=X,i.block_type==st.NORM_TYPE)C(u,i,y,h,v,R,B,G);else{if(i.part2_3_length=X,X=u.scalefac_band.l[8],X>V&&(X=V),X>0){var q=new t(i.part2_3_length);i.table_select[0]=H(h,0,X,q),i.part2_3_length=q.bits}if(V>X){var q=new t(i.part2_3_length);i.table_select[1]=H(h,X,V,q),i.part2_3_length=q.bits}y.part2_3_length>i.part2_3_length&&y.assign(i)}}}};var Y=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],N=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],E=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],o=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];ba.slen1_tab=E,ba.slen2_tab=o;function s(u,y){for(var i,h=y.tt[1][u],v=y.tt[0][u],R=0;R<at.scfsi_band.length-1;R++){for(i=at.scfsi_band[R];i<at.scfsi_band[R+1]&&!(v.scalefac[i]!=h.scalefac[i]&&h.scalefac[i]>=0);i++);if(i==at.scfsi_band[R+1]){for(i=at.scfsi_band[R];i<at.scfsi_band[R+1];i++)h.scalefac[i]=-1;y.scfsi[u][R]=1}}var B=0,G=0;for(i=0;i<11;i++)h.scalefac[i]!=-1&&(G++,B<h.scalefac[i]&&(B=h.scalefac[i]));for(var V=0,X=0;i<st.SBPSY_l;i++)h.scalefac[i]!=-1&&(X++,V<h.scalefac[i]&&(V=h.scalefac[i]));for(var R=0;R<16;R++)if(B<Y[R]&&V<N[R]){var c=E[R]*G+o[R]*X;h.part2_length>c&&(h.part2_length=c,h.scalefac_compress=R)}}this.best_scalefac_store=function(u,y,i,h){var v=h.tt[y][i],R,B,G,V,X=0;for(G=0,R=0;R<v.sfbmax;R++){var c=v.width[R];for(G+=c,V=-c;V<0&&v.l3_enc[V+G]==0;V++);V==0&&(v.scalefac[R]=X=-2)}if(v.scalefac_scale==0&&v.preflag==0){var A=0;for(R=0;R<v.sfbmax;R++)v.scalefac[R]>0&&(A|=v.scalefac[R]);if(!(A&1)&&A!=0){for(R=0;R<v.sfbmax;R++)v.scalefac[R]>0&&(v.scalefac[R]>>=1);v.scalefac_scale=X=1}}if(v.preflag==0&&v.block_type!=st.SHORT_TYPE&&u.mode_gr==2){for(R=11;R<st.SBPSY_l&&!(v.scalefac[R]<e.pretab[R]&&v.scalefac[R]!=-2);R++);if(R==st.SBPSY_l){for(R=11;R<st.SBPSY_l;R++)v.scalefac[R]>0&&(v.scalefac[R]-=e.pretab[R]);v.preflag=X=1}}for(B=0;B<4;B++)h.scfsi[i][B]=0;for(u.mode_gr==2&&y==1&&h.tt[0][i].block_type!=st.SHORT_TYPE&&h.tt[1][i].block_type!=st.SHORT_TYPE&&(s(i,h),X=0),R=0;R<v.sfbmax;R++)v.scalefac[R]==-2&&(v.scalefac[R]=0);X!=0&&(u.mode_gr==2?this.scale_bitcount(v):this.scale_bitcount_lsf(u,v))};function T(u,y){for(var i=0;i<y;++i)if(u[i]<0)return!1;return!0}var x=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],O=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],w=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(u){var y,i,h=0,v=0,R,B=u.scalefac;if(Nr(T(B,u.sfbmax)),u.block_type==st.SHORT_TYPE)R=x,u.mixed_block_flag!=0&&(R=O);else if(R=w,u.preflag==0){for(i=11;i<st.SBPSY_l&&!(B[i]<e.pretab[i]);i++);if(i==st.SBPSY_l)for(u.preflag=1,i=11;i<st.SBPSY_l;i++)B[i]-=e.pretab[i]}for(i=0;i<u.sfbdivide;i++)h<B[i]&&(h=B[i]);for(;i<u.sfbmax;i++)v<B[i]&&(v=B[i]);for(u.part2_length=on.LARGE_BITS,y=0;y<16;y++)h<Y[y]&&v<N[y]&&u.part2_length>R[y]&&(u.part2_length=R[y],u.scalefac_compress=y);return u.part2_length==on.LARGE_BITS};var m=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(u,y){var i,h,v,R,B,G,V,X,c=Un(4),A=y.scalefac;for(y.preflag!=0?i=2:i=0,V=0;V<4;V++)c[V]=0;if(y.block_type==st.SHORT_TYPE){h=1;var q=e.nr_of_sfb_block[i][h];for(X=0,v=0;v<4;v++)for(R=q[v]/3,V=0;V<R;V++,X++)for(B=0;B<3;B++)A[X*3+B]>c[v]&&(c[v]=A[X*3+B])}else{h=0;var q=e.nr_of_sfb_block[i][h];for(X=0,v=0;v<4;v++)for(R=q[v],V=0;V<R;V++,X++)A[X]>c[v]&&(c[v]=A[X])}for(G=!1,v=0;v<4;v++)c[v]>m[i][v]&&(G=!0);if(!G){var j,ve,Se,me;for(y.sfb_partition_table=e.nr_of_sfb_block[i][h],v=0;v<4;v++)y.slen[v]=p[c[v]];switch(j=y.slen[0],ve=y.slen[1],Se=y.slen[2],me=y.slen[3],i){case 0:y.scalefac_compress=(j*5+ve<<4)+(Se<<2)+me;break;case 1:y.scalefac_compress=400+(j*5+ve<<2)+Se;break;case 2:y.scalefac_compress=500+j*3+ve;break;default:xf.err.printf(`intensity stereo not implemented yet
`);break}}if(!G)for(Nr(y.sfb_partition_table!=null),y.part2_length=0,v=0;v<4;v++)y.part2_length+=y.slen[v]*y.sfb_partition_table[v];return G};var p=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(u){for(var y=2;y<=576;y+=2){for(var i=0,h;u.scalefac_band.l[++i]<y;);for(h=n[i][0];u.scalefac_band.l[h+1]>y;)h--;for(h<0&&(h=n[i][0]),u.bv_scf[y-2]=h,h=n[i][1];u.scalefac_band.l[h+u.bv_scf[y-2]+2]>y;)h--;h<0&&(h=n[i][1]),u.bv_scf[y-1]=h}}}var vo=ba,Vn=rt,f0=Vn.System,Mf=Vn.Arrays,wf=Vn.new_byte,Tf=Vn.new_float_n,Bf=Vn.new_int,it=Vn.assert,n1=vo,zs=Ua,Hr=Ct(),cn=ps;Qr.EQ=function(e,t){return Math.abs(e)>Math.abs(t)?Math.abs(e-t)<=Math.abs(e)*1e-6:Math.abs(e-t)<=Math.abs(t)*1e-6};Qr.NEQ=function(e,t){return!Qr.EQ(e,t)};function Qr(){var e=this,t=32773,n=null,r=null,a=null,l=null;this.setModules=function(m,p,u,y){n=m,r=p,a=u,l=y};var f=null,d=0,b=0,S=0;this.getframebits=function(m){var p=m.internal_flags,u;p.bitrate_index!=0?u=zs.bitrate_table[m.version][p.bitrate_index]:u=m.brate;var y=0|(m.version+1)*72e3*u/m.out_samplerate+p.padding;return 8*y};function M(m){f0.arraycopy(m.header[m.w_ptr].buf,0,f,b,m.sideinfo_len),b+=m.sideinfo_len,d+=m.sideinfo_len*8,m.w_ptr=m.w_ptr+1&cn.MAX_HEADER_BUF-1}function _(m,p,u){for(;u>0;){var y;S==0&&(S=8,b++,it(b<Lame.LAME_MAXMP3BUFFER),it(m.header[m.w_ptr].write_timing>=d),m.header[m.w_ptr].write_timing==d&&M(m),f[b]=0),y=Math.min(u,S),u-=y,S-=y,f[b]|=p>>u<<S,d+=y}}function H(m,p,u){for(;u>0;){var y;S==0&&(S=8,b++,it(b<Lame.LAME_MAXMP3BUFFER),f[b]=0),y=Math.min(u,S),u-=y,S-=y,f[b]|=p>>u<<S,d+=y}}function I(m,p){var u=m.internal_flags,y;if(p>=8&&(_(u,76,8),p-=8),p>=8&&(_(u,65,8),p-=8),p>=8&&(_(u,77,8),p-=8),p>=8&&(_(u,69,8),p-=8),p>=32){var i=a.getLameShortVersion();if(p>=32)for(y=0;y<i.length&&p>=8;++y)p-=8,_(u,i.charAt(y),8)}for(;p>=1;p-=1)_(u,u.ancillary_flag,1),u.ancillary_flag^=m.disable_reservoir?0:1}function C(m,p,u){for(var y=m.header[m.h_ptr].ptr;u>0;){var i=Math.min(u,8-(y&7));u-=i,m.header[m.h_ptr].buf[y>>3]|=p>>u<<8-(y&7)-i,y+=i}m.header[m.h_ptr].ptr=y}function Y(m,p){m<<=8;for(var u=0;u<8;u++)m<<=1,p<<=1,(p^m)&65536&&(p^=t);return p}this.CRC_writeheader=function(m,p){var u=65535;u=Y(p[2]&255,u),u=Y(p[3]&255,u);for(var y=6;y<m.sideinfo_len;y++)u=Y(p[y]&255,u);p[4]=byte(u>>8),p[5]=byte(u&255)};function N(m,p){var u=m.internal_flags,y,i,h;if(y=u.l3_side,u.header[u.h_ptr].ptr=0,Mf.fill(u.header[u.h_ptr].buf,0,u.sideinfo_len,0),m.out_samplerate<16e3?C(u,4094,12):C(u,4095,12),C(u,m.version,1),C(u,1,2),C(u,m.error_protection?0:1,1),C(u,u.bitrate_index,4),C(u,u.samplerate_index,2),C(u,u.padding,1),C(u,m.extension,1),C(u,m.mode.ordinal(),2),C(u,u.mode_ext,2),C(u,m.copyright,1),C(u,m.original,1),C(u,m.emphasis,2),m.error_protection&&C(u,0,16),m.version==1){for(it(y.main_data_begin>=0),C(u,y.main_data_begin,9),u.channels_out==2?C(u,y.private_bits,3):C(u,y.private_bits,5),h=0;h<u.channels_out;h++){var v;for(v=0;v<4;v++)C(u,y.scfsi[h][v],1)}for(i=0;i<2;i++)for(h=0;h<u.channels_out;h++){var R=y.tt[i][h];C(u,R.part2_3_length+R.part2_length,12),C(u,R.big_values/2,9),C(u,R.global_gain,8),C(u,R.scalefac_compress,4),R.block_type!=Hr.NORM_TYPE?(C(u,1,1),C(u,R.block_type,2),C(u,R.mixed_block_flag,1),R.table_select[0]==14&&(R.table_select[0]=16),C(u,R.table_select[0],5),R.table_select[1]==14&&(R.table_select[1]=16),C(u,R.table_select[1],5),C(u,R.subblock_gain[0],3),C(u,R.subblock_gain[1],3),C(u,R.subblock_gain[2],3)):(C(u,0,1),R.table_select[0]==14&&(R.table_select[0]=16),C(u,R.table_select[0],5),R.table_select[1]==14&&(R.table_select[1]=16),C(u,R.table_select[1],5),R.table_select[2]==14&&(R.table_select[2]=16),C(u,R.table_select[2],5),it(0<=R.region0_count&&R.region0_count<16),it(0<=R.region1_count&&R.region1_count<8),C(u,R.region0_count,4),C(u,R.region1_count,3)),C(u,R.preflag,1),C(u,R.scalefac_scale,1),C(u,R.count1table_select,1)}}else for(it(y.main_data_begin>=0),C(u,y.main_data_begin,8),C(u,y.private_bits,u.channels_out),i=0,h=0;h<u.channels_out;h++){var R=y.tt[i][h];C(u,R.part2_3_length+R.part2_length,12),C(u,R.big_values/2,9),C(u,R.global_gain,8),C(u,R.scalefac_compress,9),R.block_type!=Hr.NORM_TYPE?(C(u,1,1),C(u,R.block_type,2),C(u,R.mixed_block_flag,1),R.table_select[0]==14&&(R.table_select[0]=16),C(u,R.table_select[0],5),R.table_select[1]==14&&(R.table_select[1]=16),C(u,R.table_select[1],5),C(u,R.subblock_gain[0],3),C(u,R.subblock_gain[1],3),C(u,R.subblock_gain[2],3)):(C(u,0,1),R.table_select[0]==14&&(R.table_select[0]=16),C(u,R.table_select[0],5),R.table_select[1]==14&&(R.table_select[1]=16),C(u,R.table_select[1],5),R.table_select[2]==14&&(R.table_select[2]=16),C(u,R.table_select[2],5),it(0<=R.region0_count&&R.region0_count<16),it(0<=R.region1_count&&R.region1_count<8),C(u,R.region0_count,4),C(u,R.region1_count,3)),C(u,R.scalefac_scale,1),C(u,R.count1table_select,1)}m.error_protection&&CRC_writeheader(u,u.header[u.h_ptr].buf);{var B=u.h_ptr;it(u.header[B].ptr==u.sideinfo_len*8),u.h_ptr=B+1&cn.MAX_HEADER_BUF-1,u.header[u.h_ptr].write_timing=u.header[B].write_timing+p,u.h_ptr==u.w_ptr&&f0.err.println(`Error: MAX_HEADER_BUF too small in bitstream.c 
`)}}function E(m,p){var u=zs.ht[p.count1table_select+32],y,i=0,h=p.big_values,v=p.big_values;for(it(p.count1table_select<2),y=(p.count1-p.big_values)/4;y>0;--y){var R=0,B=0,G;G=p.l3_enc[h+0],G!=0&&(B+=8,p.xr[v+0]<0&&R++),G=p.l3_enc[h+1],G!=0&&(B+=4,R*=2,p.xr[v+1]<0&&R++),G=p.l3_enc[h+2],G!=0&&(B+=2,R*=2,p.xr[v+2]<0&&R++),G=p.l3_enc[h+3],G!=0&&(B++,R*=2,p.xr[v+3]<0&&R++),h+=4,v+=4,_(m,R+u.table[B],u.hlen[B]),i+=u.hlen[B]}return i}function o(m,p,u,y,i){var h=zs.ht[p],v=0;if(p==0)return v;for(var R=u;R<y;R+=2){var B=0,G=0,V=h.xlen,X=h.xlen,c=0,A=i.l3_enc[R],q=i.l3_enc[R+1];if(A!=0&&(i.xr[R]<0&&c++,B--),p>15){if(A>14){var j=A-15;it(j<=h.linmax),c|=j<<1,G=V,A=15}if(q>14){var ve=q-15;it(ve<=h.linmax),c<<=V,c|=ve,G+=V,q=15}X=16}q!=0&&(c<<=1,i.xr[R+1]<0&&c++,B--),A=A*X+q,G-=B,B+=h.hlen[A],_(m,h.table[A],B),_(m,c,G),v+=B+G}return v}function s(m,p){var u=3*m.scalefac_band.s[3];u>p.big_values&&(u=p.big_values);var y=o(m,p.table_select[0],0,u,p);return y+=o(m,p.table_select[1],u,p.big_values,p),y}function T(m,p){var u,y,i,h;u=p.big_values;var v=p.region0_count+1;return it(v<m.scalefac_band.l.length),i=m.scalefac_band.l[v],v+=p.region1_count+1,it(v<m.scalefac_band.l.length),h=m.scalefac_band.l[v],i>u&&(i=u),h>u&&(h=u),y=o(m,p.table_select[0],0,i,p),y+=o(m,p.table_select[1],i,h,p),y+=o(m,p.table_select[2],h,u,p),y}function x(m){var p,u,y,i,h=0,v=m.internal_flags,R=v.l3_side;if(m.version==1)for(p=0;p<2;p++)for(u=0;u<v.channels_out;u++){var B=R.tt[p][u],G=n1.slen1_tab[B.scalefac_compress],V=n1.slen2_tab[B.scalefac_compress];for(i=0,y=0;y<B.sfbdivide;y++)B.scalefac[y]!=-1&&(_(v,B.scalefac[y],G),i+=G);for(;y<B.sfbmax;y++)B.scalefac[y]!=-1&&(_(v,B.scalefac[y],V),i+=V);it(i==B.part2_length),B.block_type==Hr.SHORT_TYPE?i+=s(v,B):i+=T(v,B),i+=E(v,B),it(i==B.part2_3_length+B.part2_length),h+=i}else for(p=0,u=0;u<v.channels_out;u++){var B=R.tt[p][u],X,c,A=0;if(it(B.sfb_partition_table!=null),i=0,y=0,c=0,B.block_type==Hr.SHORT_TYPE){for(;c<4;c++){var q=B.sfb_partition_table[c]/3,j=B.slen[c];for(X=0;X<q;X++,y++)_(v,Math.max(B.scalefac[y*3+0],0),j),_(v,Math.max(B.scalefac[y*3+1],0),j),_(v,Math.max(B.scalefac[y*3+2],0),j),A+=3*j}i+=s(v,B)}else{for(;c<4;c++){var q=B.sfb_partition_table[c],j=B.slen[c];for(X=0;X<q;X++,y++)_(v,Math.max(B.scalefac[y],0),j),A+=j}i+=T(v,B)}i+=E(v,B),it(i==B.part2_3_length),it(A==B.part2_length),h+=A+i}return h}function O(){this.total=0}function w(m,p){var u=m.internal_flags,y,i,h,v,R;return R=u.w_ptr,v=u.h_ptr-1,v==-1&&(v=cn.MAX_HEADER_BUF-1),y=u.header[v].write_timing-d,p.total=y,y>=0&&(i=1+v-R,v<R&&(i=1+v-R+cn.MAX_HEADER_BUF),y-=i*8*u.sideinfo_len),h=e.getframebits(m),y+=h,p.total+=h,p.total%8!=0?p.total=1+p.total/8:p.total=p.total/8,p.total+=b+1,y<0&&f0.err.println(`strange error flushing buffer ... 
`),y}this.flush_bitstream=function(m){var p=m.internal_flags,u,y,i=p.h_ptr-1;if(i==-1&&(i=cn.MAX_HEADER_BUF-1),u=p.l3_side,!((y=w(m,new O))<0)){if(I(m,y),it(p.header[i].write_timing+this.getframebits(m)==d),p.ResvSize=0,u.main_data_begin=0,p.findReplayGain){var h=n.GetTitleGain(p.rgdata);it(NEQ(h,GainAnalysis.GAIN_NOT_ENOUGH_SAMPLES)),p.RadioGain=Math.floor(h*10+.5)|0}p.findPeakSample&&(p.noclipGainChange=Math.ceil(Math.log10(p.PeakSample/32767)*20*10)|0,p.noclipGainChange>0&&(EQ(m.scale,1)||EQ(m.scale,0))?p.noclipScale=Math.floor(32767/p.PeakSample*100)/100:p.noclipScale=-1)}},this.add_dummy_byte=function(m,p,u){for(var y=m.internal_flags,i;u-- >0;)for(H(y,p,8),i=0;i<cn.MAX_HEADER_BUF;++i)y.header[i].write_timing+=8},this.format_bitstream=function(m){var p=m.internal_flags,u;u=p.l3_side;var y=this.getframebits(m);I(m,u.resvDrain_pre),N(m,y);var i=8*p.sideinfo_len;if(i+=x(m),I(m,u.resvDrain_post),i+=u.resvDrain_post,u.main_data_begin+=(y-i)/8,w(m,new O)!=p.ResvSize&&f0.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),u.main_data_begin*8!=p.ResvSize&&(f0.err.printf(`bit reservoir error: 
l3_side.main_data_begin: %d 
Resvoir size:             %d 
resv drain (post)         %d 
resv drain (pre)          %d 
header and sideinfo:      %d 
data bits:                %d 
total bits:               %d (remainder: %d) 
bitsperframe:             %d 
`,8*u.main_data_begin,p.ResvSize,u.resvDrain_post,u.resvDrain_pre,8*p.sideinfo_len,i-u.resvDrain_post-8*p.sideinfo_len,i,i%8,y),f0.err.println("This is a fatal error.  It has several possible causes:"),f0.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),f0.err.println(" 9%%  Your system is overclocked"),f0.err.println(" 1%%  bug in LAME encoding library"),p.ResvSize=u.main_data_begin*8),d>1e9){var h;for(h=0;h<cn.MAX_HEADER_BUF;++h)p.header[h].write_timing-=d;d=0}return 0},this.copy_buffer=function(m,p,u,y,i){var h=b+1;if(h<=0)return 0;if(y!=0&&h>y)return-1;if(f0.arraycopy(f,0,p,u,h),b=-1,S=0,i!=0){var v=Bf(1);if(v[0]=m.nMusicCRC,l.updateMusicCRC(v,p,u,h),m.nMusicCRC=v[0],h>0&&(m.VBR_seek_table.nBytesWritten+=h),m.decode_on_the_fly){for(var R=Tf([2,1152]),B=h,G=-1,V;G!=0;)if(G=r.hip_decode1_unclipped(m.hip,p,u,B,R[0],R[1]),B=0,G==-1&&(G=0),G>0){if(m.findPeakSample){for(V=0;V<G;V++)R[0][V]>m.PeakSample?m.PeakSample=R[0][V]:-R[0][V]>m.PeakSample&&(m.PeakSample=-R[0][V]);if(m.channels_out>1)for(V=0;V<G;V++)R[1][V]>m.PeakSample?m.PeakSample=R[1][V]:-R[1][V]>m.PeakSample&&(m.PeakSample=-R[1][V])}if(m.findReplayGain&&n.AnalyzeSamples(m.rgdata,R[0],0,R[1],0,G,m.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6}}}return h},this.init_bit_stream_w=function(m){f=wf(Lame.LAME_MAXMP3BUFFER),m.h_ptr=m.w_ptr=0,m.header[m.h_ptr].write_timing=0,b=-1,S=0,d=0}}var mo=Qr,pn=rt,Cf=pn.System,Ke=pn.VbrMode,Zs=pn.ShortBlock,un=pn.new_float,r1=pn.new_int_n,If=pn.new_short_n,H0=pn.assert,Qs=Vu,gf=Pu,Vr=ps,Lf=uf,Of=_f,Nf=Sf,fn=mo,_0=Ua,lt=Ct();function vt(){var e=this,t=128*1024;vt.V9=410,vt.V8=420,vt.V7=430,vt.V6=440,vt.V5=450,vt.V4=460,vt.V3=470,vt.V2=480,vt.V1=490,vt.V0=500,vt.R3MIX=1e3,vt.STANDARD=1001,vt.EXTREME=1002,vt.INSANE=1003,vt.STANDARD_FAST=1004,vt.EXTREME_FAST=1005,vt.MEDIUM=1006,vt.MEDIUM_FAST=1007;var n=16384+t;vt.LAME_MAXMP3BUFFER=n;var r,a,l,f,d,b=new Qs,S,M,_;this.enc=new lt,this.setModules=function(c,A,q,j,ve,Se,me,U,ce){r=c,a=A,l=q,f=j,d=ve,S=Se,M=U,_=ce,this.enc.setModules(a,b,f,S)};function H(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=un(lt.SBMAX_l),this.bo_s_weight=un(lt.SBMAX_s)}function I(){this.lowerlimit=0}function C(c,A){this.lowpass=A}var Y=4294479419;function N(c){var A;return c.class_id=Y,A=c.internal_flags=new Vr,c.mode=MPEGMode.NOT_SET,c.original=1,c.in_samplerate=44100,c.num_channels=2,c.num_samples=-1,c.bWriteVbrTag=!0,c.quality=-1,c.short_blocks=null,A.subblock_gain=-1,c.lowpassfreq=0,c.highpassfreq=0,c.lowpasswidth=-1,c.highpasswidth=-1,c.VBR=Ke.vbr_off,c.VBR_q=4,c.ATHcurve=-1,c.VBR_mean_bitrate_kbps=128,c.VBR_min_bitrate_kbps=0,c.VBR_max_bitrate_kbps=0,c.VBR_hard_min=0,A.VBR_min_bitrate=1,A.VBR_max_bitrate=13,c.quant_comp=-1,c.quant_comp_short=-1,c.msfix=-1,A.resample_ratio=1,A.OldValue[0]=180,A.OldValue[1]=180,A.CurrentStep[0]=4,A.CurrentStep[1]=4,A.masking_lower=1,A.nsPsy.attackthre=-1,A.nsPsy.attackthre_s=-1,c.scale=-1,c.athaa_type=-1,c.ATHtype=-1,c.athaa_loudapprox=-1,c.athaa_sensitivity=0,c.useTemporal=null,c.interChRatio=-1,A.mf_samples_to_encode=lt.ENCDELAY+lt.POSTDELAY,c.encoder_padding=0,A.mf_size=lt.ENCDELAY-lt.MDCTDELAY,c.findReplayGain=!1,c.decode_on_the_fly=!1,A.decode_on_the_fly=!1,A.findReplayGain=!1,A.findPeakSample=!1,A.RadioGain=0,A.AudiophileGain=0,A.noclipGainChange=0,A.noclipScale=-1,c.preset=0,c.write_id3tag_automatic=!0,0}this.lame_init=function(){var c=new gf;return N(c),c.lame_allocated_gfp=1,c};function E(c){return c>1?0:c<=0?1:Math.cos(Math.PI/2*c)}this.nearestBitrateFullIndex=function(c){var A=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],q=0,j=0,ve=0,Se=0;Se=A[16],ve=16,j=A[16],q=16;for(var me=0;me<16;me++)if(Math.max(c,A[me+1])!=c){Se=A[me+1],ve=me+1,j=A[me],q=me;break}return Se-c>c-j?q:ve};function o(c,A){var q=44100;return A>=48e3?q=48e3:A>=44100?q=44100:A>=32e3?q=32e3:A>=24e3?q=24e3:A>=22050?q=22050:A>=16e3?q=16e3:A>=12e3?q=12e3:A>=11025?q=11025:A>=8e3&&(q=8e3),c==-1?q:(c<=15960&&(q=44100),c<=15250&&(q=32e3),c<=11220&&(q=24e3),c<=9970&&(q=22050),c<=7230&&(q=16e3),c<=5420&&(q=12e3),c<=4510&&(q=11025),c<=3970&&(q=8e3),A<q?A>44100?48e3:A>32e3?44100:A>24e3?32e3:A>22050?24e3:A>16e3?22050:A>12e3?16e3:A>11025?12e3:A>8e3?11025:8e3:q)}function s(c,A){switch(c){case 44100:return A.version=1,0;case 48e3:return A.version=1,1;case 32e3:return A.version=1,2;case 22050:return A.version=0,0;case 24e3:return A.version=0,1;case 16e3:return A.version=0,2;case 11025:return A.version=0,0;case 12e3:return A.version=0,1;case 8e3:return A.version=0,2;default:return A.version=0,-1}}function T(c,A,q){q<16e3&&(A=2);for(var j=_0.bitrate_table[A][1],ve=2;ve<=14;ve++)_0.bitrate_table[A][ve]>0&&Math.abs(_0.bitrate_table[A][ve]-c)<Math.abs(j-c)&&(j=_0.bitrate_table[A][ve]);return j}function x(c,A,q){q<16e3&&(A=2);for(var j=0;j<=14;j++)if(_0.bitrate_table[A][j]>0&&_0.bitrate_table[A][j]==c)return j;return-1}function O(c,A){var q=[new C(8,2e3),new C(16,3700),new C(24,3900),new C(32,5500),new C(40,7e3),new C(48,7500),new C(56,1e4),new C(64,11e3),new C(80,13500),new C(96,15100),new C(112,15600),new C(128,17e3),new C(160,17500),new C(192,18600),new C(224,19400),new C(256,19700),new C(320,20500)],j=e.nearestBitrateFullIndex(A);c.lowerlimit=q[j].lowpass}function w(c){var A=c.internal_flags,q=32,j=-1;if(A.lowpass1>0){for(var ve=999,Se=0;Se<=31;Se++){var me=Se/31;me>=A.lowpass2&&(q=Math.min(q,Se)),A.lowpass1<me&&me<A.lowpass2&&(ve=Math.min(ve,Se))}ve==999?A.lowpass1=(q-.75)/31:A.lowpass1=(ve-.75)/31,A.lowpass2=q/31}if(A.highpass2>0&&A.highpass2<.9*(.75/31)&&(A.highpass1=0,A.highpass2=0,Cf.err.println(`Warning: highpass filter disabled.  highpass frequency too small
`)),A.highpass2>0){for(var U=-1,Se=0;Se<=31;Se++){var me=Se/31;me<=A.highpass1&&(j=Math.max(j,Se)),A.highpass1<me&&me<A.highpass2&&(U=Math.max(U,Se))}A.highpass1=j/31,U==-1?A.highpass2=(j+.75)/31:A.highpass2=(U+.75)/31}for(var Se=0;Se<32;Se++){var ce,te,me=Se/31;A.highpass2>A.highpass1?ce=E((A.highpass2-me)/(A.highpass2-A.highpass1+1e-20)):ce=1,A.lowpass2>A.lowpass1?te=E((me-A.lowpass1)/(A.lowpass2-A.lowpass1+1e-20)):te=1,A.amp_filter[Se]=ce*te}}function m(c){var A=c.internal_flags;switch(c.quality){default:case 9:A.psymodel=0,A.noise_shaping=0,A.noise_shaping_amp=0,A.noise_shaping_stop=0,A.use_best_huffman=0,A.full_outer_loop=0;break;case 8:c.quality=7;case 7:A.psymodel=1,A.noise_shaping=0,A.noise_shaping_amp=0,A.noise_shaping_stop=0,A.use_best_huffman=0,A.full_outer_loop=0;break;case 6:A.psymodel=1,A.noise_shaping==0&&(A.noise_shaping=1),A.noise_shaping_amp=0,A.noise_shaping_stop=0,A.subblock_gain==-1&&(A.subblock_gain=1),A.use_best_huffman=0,A.full_outer_loop=0;break;case 5:A.psymodel=1,A.noise_shaping==0&&(A.noise_shaping=1),A.noise_shaping_amp=0,A.noise_shaping_stop=0,A.subblock_gain==-1&&(A.subblock_gain=1),A.use_best_huffman=0,A.full_outer_loop=0;break;case 4:A.psymodel=1,A.noise_shaping==0&&(A.noise_shaping=1),A.noise_shaping_amp=0,A.noise_shaping_stop=0,A.subblock_gain==-1&&(A.subblock_gain=1),A.use_best_huffman=1,A.full_outer_loop=0;break;case 3:A.psymodel=1,A.noise_shaping==0&&(A.noise_shaping=1),A.noise_shaping_amp=1,A.noise_shaping_stop=1,A.subblock_gain==-1&&(A.subblock_gain=1),A.use_best_huffman=1,A.full_outer_loop=0;break;case 2:A.psymodel=1,A.noise_shaping==0&&(A.noise_shaping=1),A.substep_shaping==0&&(A.substep_shaping=2),A.noise_shaping_amp=1,A.noise_shaping_stop=1,A.subblock_gain==-1&&(A.subblock_gain=1),A.use_best_huffman=1,A.full_outer_loop=0;break;case 1:A.psymodel=1,A.noise_shaping==0&&(A.noise_shaping=1),A.substep_shaping==0&&(A.substep_shaping=2),A.noise_shaping_amp=2,A.noise_shaping_stop=1,A.subblock_gain==-1&&(A.subblock_gain=1),A.use_best_huffman=1,A.full_outer_loop=0;break;case 0:A.psymodel=1,A.noise_shaping==0&&(A.noise_shaping=1),A.substep_shaping==0&&(A.substep_shaping=2),A.noise_shaping_amp=2,A.noise_shaping_stop=1,A.subblock_gain==-1&&(A.subblock_gain=1),A.use_best_huffman=1,A.full_outer_loop=0;break}}function p(c){var A=c.internal_flags;c.frameNum=0,c.write_id3tag_automatic&&M.id3tag_write_v2(c),A.bitrate_stereoMode_Hist=r1([16,5]),A.bitrate_blockType_Hist=r1([16,6]),A.PeakSample=0,c.bWriteVbrTag&&S.InitVbrTag(c)}this.lame_init_params=function(c){var A=c.internal_flags;if(A.Class_ID=0,A.ATH==null&&(A.ATH=new Lf),A.PSY==null&&(A.PSY=new H),A.rgdata==null&&(A.rgdata=new Of),A.channels_in=c.num_channels,A.channels_in==1&&(c.mode=MPEGMode.MONO),A.channels_out=c.mode==MPEGMode.MONO?1:2,A.mode_ext=lt.MPG_MD_MS_LR,c.mode==MPEGMode.MONO&&(c.force_ms=!1),c.VBR==Ke.vbr_off&&c.VBR_mean_bitrate_kbps!=128&&c.brate==0&&(c.brate=c.VBR_mean_bitrate_kbps),c.VBR==Ke.vbr_off||c.VBR==Ke.vbr_mtrh||c.VBR==Ke.vbr_mt||(c.free_format=!1),c.VBR==Ke.vbr_off&&c.brate==0&&fn.EQ(c.compression_ratio,0)&&(c.compression_ratio=11.025),c.VBR==Ke.vbr_off&&c.compression_ratio>0&&(c.out_samplerate==0&&(c.out_samplerate=map2MP3Frequency(int(.97*c.in_samplerate))),c.brate=0|c.out_samplerate*16*A.channels_out/(1e3*c.compression_ratio),A.samplerate_index=s(c.out_samplerate,c),c.free_format||(c.brate=T(c.brate,c.version,c.out_samplerate))),c.out_samplerate!=0&&(c.out_samplerate<16e3?(c.VBR_mean_bitrate_kbps=Math.max(c.VBR_mean_bitrate_kbps,8),c.VBR_mean_bitrate_kbps=Math.min(c.VBR_mean_bitrate_kbps,64)):c.out_samplerate<32e3?(c.VBR_mean_bitrate_kbps=Math.max(c.VBR_mean_bitrate_kbps,8),c.VBR_mean_bitrate_kbps=Math.min(c.VBR_mean_bitrate_kbps,160)):(c.VBR_mean_bitrate_kbps=Math.max(c.VBR_mean_bitrate_kbps,32),c.VBR_mean_bitrate_kbps=Math.min(c.VBR_mean_bitrate_kbps,320))),c.lowpassfreq==0){var q=16e3;switch(c.VBR){case Ke.vbr_off:{var j=new I;O(j,c.brate),q=j.lowerlimit;break}case Ke.vbr_abr:{var j=new I;O(j,c.VBR_mean_bitrate_kbps),q=j.lowerlimit;break}case Ke.vbr_rh:{var ve=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=c.VBR_q&&c.VBR_q<=9){var Se=ve[c.VBR_q],me=ve[c.VBR_q+1],U=c.VBR_q_frac;q=linear_int(Se,me,U)}else q=19500;break}default:{var ve=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(0<=c.VBR_q&&c.VBR_q<=9){var Se=ve[c.VBR_q],me=ve[c.VBR_q+1],U=c.VBR_q_frac;q=linear_int(Se,me,U)}else q=19500}}c.mode==MPEGMode.MONO&&(c.VBR==Ke.vbr_off||c.VBR==Ke.vbr_abr)&&(q*=1.5),c.lowpassfreq=q|0}if(c.out_samplerate==0&&(2*c.lowpassfreq>c.in_samplerate&&(c.lowpassfreq=c.in_samplerate/2),c.out_samplerate=o(c.lowpassfreq|0,c.in_samplerate)),c.lowpassfreq=Math.min(20500,c.lowpassfreq),c.lowpassfreq=Math.min(c.out_samplerate/2,c.lowpassfreq),c.VBR==Ke.vbr_off&&(c.compression_ratio=c.out_samplerate*16*A.channels_out/(1e3*c.brate)),c.VBR==Ke.vbr_abr&&(c.compression_ratio=c.out_samplerate*16*A.channels_out/(1e3*c.VBR_mean_bitrate_kbps)),c.bWriteVbrTag||(c.findReplayGain=!1,c.decode_on_the_fly=!1,A.findPeakSample=!1),A.findReplayGain=c.findReplayGain,A.decode_on_the_fly=c.decode_on_the_fly,A.decode_on_the_fly&&(A.findPeakSample=!0),A.findReplayGain&&r.InitGainAnalysis(A.rgdata,c.out_samplerate)==GainAnalysis.INIT_GAIN_ANALYSIS_ERROR)return c.internal_flags=null,-6;switch(A.decode_on_the_fly&&!c.decode_only&&(A.hip!=null&&_.hip_decode_exit(A.hip),A.hip=_.hip_decode_init()),A.mode_gr=c.out_samplerate<=24e3?1:2,c.framesize=576*A.mode_gr,c.encoder_delay=lt.ENCDELAY,A.resample_ratio=c.in_samplerate/c.out_samplerate,c.VBR){case Ke.vbr_mt:case Ke.vbr_rh:case Ke.vbr_mtrh:{var ce=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5];c.compression_ratio=ce[c.VBR_q]}break;case Ke.vbr_abr:c.compression_ratio=c.out_samplerate*16*A.channels_out/(1e3*c.VBR_mean_bitrate_kbps);break;default:c.compression_ratio=c.out_samplerate*16*A.channels_out/(1e3*c.brate);break}if(c.mode==MPEGMode.NOT_SET&&(c.mode=MPEGMode.JOINT_STEREO),c.highpassfreq>0?(A.highpass1=2*c.highpassfreq,c.highpasswidth>=0?A.highpass2=2*(c.highpassfreq+c.highpasswidth):A.highpass2=1*2*c.highpassfreq,A.highpass1/=c.out_samplerate,A.highpass2/=c.out_samplerate):(A.highpass1=0,A.highpass2=0),c.lowpassfreq>0?(A.lowpass2=2*c.lowpassfreq,c.lowpasswidth>=0?(A.lowpass1=2*(c.lowpassfreq-c.lowpasswidth),A.lowpass1<0&&(A.lowpass1=0)):A.lowpass1=1*2*c.lowpassfreq,A.lowpass1/=c.out_samplerate,A.lowpass2/=c.out_samplerate):(A.lowpass1=0,A.lowpass2=0),w(c),A.samplerate_index=s(c.out_samplerate,c),A.samplerate_index<0)return c.internal_flags=null,-1;if(c.VBR==Ke.vbr_off){if(c.free_format)A.bitrate_index=0;else if(c.brate=T(c.brate,c.version,c.out_samplerate),A.bitrate_index=x(c.brate,c.version,c.out_samplerate),A.bitrate_index<=0)return c.internal_flags=null,-1}else A.bitrate_index=1;c.analysis&&(c.bWriteVbrTag=!1),A.pinfo!=null&&(c.bWriteVbrTag=!1),a.init_bit_stream_w(A);for(var te=A.samplerate_index+3*c.version+6*(c.out_samplerate<16e3?1:0),ee=0;ee<lt.SBMAX_l+1;ee++)A.scalefac_band.l[ee]=f.sfBandIndex[te].l[ee];for(var ee=0;ee<lt.PSFB21+1;ee++){var Te=(A.scalefac_band.l[22]-A.scalefac_band.l[21])/lt.PSFB21,P=A.scalefac_band.l[21]+ee*Te;A.scalefac_band.psfb21[ee]=P}A.scalefac_band.psfb21[lt.PSFB21]=576;for(var ee=0;ee<lt.SBMAX_s+1;ee++)A.scalefac_band.s[ee]=f.sfBandIndex[te].s[ee];for(var ee=0;ee<lt.PSFB12+1;ee++){var Te=(A.scalefac_band.s[13]-A.scalefac_band.s[12])/lt.PSFB12,P=A.scalefac_band.s[12]+ee*Te;A.scalefac_band.psfb12[ee]=P}A.scalefac_band.psfb12[lt.PSFB12]=192,c.version==1?A.sideinfo_len=A.channels_out==1?21:36:A.sideinfo_len=A.channels_out==1?13:21,c.error_protection&&(A.sideinfo_len+=2),p(c),A.Class_ID=Y;{var F;for(F=0;F<19;F++)A.nsPsy.pefirbuf[F]=700*A.mode_gr*A.channels_out;c.ATHtype==-1&&(c.ATHtype=4)}switch(H0(c.VBR_q<=9),H0(c.VBR_q>=0),c.VBR){case Ke.vbr_mt:c.VBR=Ke.vbr_mtrh;case Ke.vbr_mtrh:{c.useTemporal==null&&(c.useTemporal=!1),l.apply_preset(c,500-c.VBR_q*10,0),c.quality<0&&(c.quality=LAME_DEFAULT_QUALITY),c.quality<5&&(c.quality=0),c.quality>5&&(c.quality=5),A.PSY.mask_adjust=c.maskingadjust,A.PSY.mask_adjust_short=c.maskingadjust_short,c.experimentalY?A.sfb21_extra=!1:A.sfb21_extra=c.out_samplerate>44e3,A.iteration_loop=new VBRNewIterationLoop(d);break}case Ke.vbr_rh:{l.apply_preset(c,500-c.VBR_q*10,0),A.PSY.mask_adjust=c.maskingadjust,A.PSY.mask_adjust_short=c.maskingadjust_short,c.experimentalY?A.sfb21_extra=!1:A.sfb21_extra=c.out_samplerate>44e3,c.quality>6&&(c.quality=6),c.quality<0&&(c.quality=LAME_DEFAULT_QUALITY),A.iteration_loop=new VBROldIterationLoop(d);break}default:{var K;A.sfb21_extra=!1,c.quality<0&&(c.quality=LAME_DEFAULT_QUALITY),K=c.VBR,K==Ke.vbr_off&&(c.VBR_mean_bitrate_kbps=c.brate),l.apply_preset(c,c.VBR_mean_bitrate_kbps,0),c.VBR=K,A.PSY.mask_adjust=c.maskingadjust,A.PSY.mask_adjust_short=c.maskingadjust_short,K==Ke.vbr_off?A.iteration_loop=new Nf(d):A.iteration_loop=new ABRIterationLoop(d);break}}if(H0(c.scale>=0),c.VBR!=Ke.vbr_off){if(A.VBR_min_bitrate=1,A.VBR_max_bitrate=14,c.out_samplerate<16e3&&(A.VBR_max_bitrate=8),c.VBR_min_bitrate_kbps!=0&&(c.VBR_min_bitrate_kbps=T(c.VBR_min_bitrate_kbps,c.version,c.out_samplerate),A.VBR_min_bitrate=x(c.VBR_min_bitrate_kbps,c.version,c.out_samplerate),A.VBR_min_bitrate<0)||c.VBR_max_bitrate_kbps!=0&&(c.VBR_max_bitrate_kbps=T(c.VBR_max_bitrate_kbps,c.version,c.out_samplerate),A.VBR_max_bitrate=x(c.VBR_max_bitrate_kbps,c.version,c.out_samplerate),A.VBR_max_bitrate<0))return-1;c.VBR_min_bitrate_kbps=_0.bitrate_table[c.version][A.VBR_min_bitrate],c.VBR_max_bitrate_kbps=_0.bitrate_table[c.version][A.VBR_max_bitrate],c.VBR_mean_bitrate_kbps=Math.min(_0.bitrate_table[c.version][A.VBR_max_bitrate],c.VBR_mean_bitrate_kbps),c.VBR_mean_bitrate_kbps=Math.max(_0.bitrate_table[c.version][A.VBR_min_bitrate],c.VBR_mean_bitrate_kbps)}return c.tune&&(A.PSY.mask_adjust+=c.tune_value_a,A.PSY.mask_adjust_short+=c.tune_value_a),m(c),H0(c.scale>=0),c.athaa_type<0?A.ATH.useAdjust=3:A.ATH.useAdjust=c.athaa_type,A.ATH.aaSensitivityP=Math.pow(10,c.athaa_sensitivity/-10),c.short_blocks==null&&(c.short_blocks=Zs.short_block_allowed),c.short_blocks==Zs.short_block_allowed&&(c.mode==MPEGMode.JOINT_STEREO||c.mode==MPEGMode.STEREO)&&(c.short_blocks=Zs.short_block_coupled),c.quant_comp<0&&(c.quant_comp=1),c.quant_comp_short<0&&(c.quant_comp_short=0),c.msfix<0&&(c.msfix=0),c.exp_nspsytune=c.exp_nspsytune|1,c.internal_flags.nsPsy.attackthre<0&&(c.internal_flags.nsPsy.attackthre=Qs.NSATTACKTHRE),c.internal_flags.nsPsy.attackthre_s<0&&(c.internal_flags.nsPsy.attackthre_s=Qs.NSATTACKTHRE_S),H0(c.scale>=0),c.scale<0&&(c.scale=1),c.ATHtype<0&&(c.ATHtype=4),c.ATHcurve<0&&(c.ATHcurve=4),c.athaa_loudapprox<0&&(c.athaa_loudapprox=2),c.interChRatio<0&&(c.interChRatio=0),c.useTemporal==null&&(c.useTemporal=!0),A.slot_lag=A.frac_SpF=0,c.VBR==Ke.vbr_off&&(A.slot_lag=A.frac_SpF=(c.version+1)*72e3*c.brate%c.out_samplerate|0),f.iteration_init(c),b.psymodel_init(c),H0(c.scale>=0),0};function u(c,A){(c.in_buffer_0==null||c.in_buffer_nsamples<A)&&(c.in_buffer_0=un(A),c.in_buffer_1=un(A),c.in_buffer_nsamples=A)}this.lame_encode_flush=function(c,A,q,j){var ve=c.internal_flags,Se=If([2,1152]),me=0,U,ce,te,ee,Te=ve.mf_samples_to_encode-lt.POSTDELAY,P=y(c);if(ve.mf_samples_to_encode<1)return 0;for(U=0,c.in_samplerate!=c.out_samplerate&&(Te+=16*c.out_samplerate/c.in_samplerate),te=c.framesize-Te%c.framesize,te<576&&(te+=c.framesize),c.encoder_padding=te,ee=(Te+te)/c.framesize;ee>0&&me>=0;){var F=P-ve.mf_size,K=c.frameNum;F*=c.in_samplerate,F/=c.out_samplerate,F>1152&&(F=1152),F<1&&(F=1),ce=j-U,j==0&&(ce=0),me=this.lame_encode_buffer(c,Se[0],Se[1],F,A,q,ce),q+=me,U+=me,ee-=K!=c.frameNum?1:0}if(ve.mf_samples_to_encode=0,me<0||(ce=j-U,j==0&&(ce=0),a.flush_bitstream(c),me=a.copy_buffer(ve,A,q,ce,1),me<0))return me;if(q+=me,U+=me,ce=j-U,j==0&&(ce=0),c.write_id3tag_automatic){if(M.id3tag_write_v1(c),me=a.copy_buffer(ve,A,q,ce,0),me<0)return me;U+=me}return U},this.lame_encode_buffer=function(c,A,q,j,ve,Se,me){var U=c.internal_flags,ce=[null,null];if(U.Class_ID!=Y)return-3;if(j==0)return 0;u(U,j),ce[0]=U.in_buffer_0,ce[1]=U.in_buffer_1;for(var te=0;te<j;te++)ce[0][te]=A[te],U.channels_in>1&&(ce[1][te]=q[te]);return i(c,ce[0],ce[1],j,ve,Se,me)};function y(c){var A=lt.BLKSIZE+c.framesize-lt.FFTOFFSET;return A=Math.max(A,512+c.framesize-32),A}function i(c,A,q,j,ve,Se,me){var U=c.internal_flags,ce=0,te,ee,Te,P,F,K=[null,null],ne=[null,null];if(U.Class_ID!=Y)return-3;if(j==0)return 0;if(F=a.copy_buffer(U,ve,Se,me,0),F<0)return F;if(Se+=F,ce+=F,ne[0]=A,ne[1]=q,fn.NEQ(c.scale,0)&&fn.NEQ(c.scale,1))for(ee=0;ee<j;++ee)ne[0][ee]*=c.scale,U.channels_out==2&&(ne[1][ee]*=c.scale);if(fn.NEQ(c.scale_left,0)&&fn.NEQ(c.scale_left,1))for(ee=0;ee<j;++ee)ne[0][ee]*=c.scale_left;if(fn.NEQ(c.scale_right,0)&&fn.NEQ(c.scale_right,1))for(ee=0;ee<j;++ee)ne[1][ee]*=c.scale_right;if(c.num_channels==2&&U.channels_out==1)for(ee=0;ee<j;++ee)ne[0][ee]=.5*(ne[0][ee]+ne[1][ee]),ne[1][ee]=0;P=y(c),K[0]=U.mfbuf[0],K[1]=U.mfbuf[1];for(var oe=0;j>0;){var le=[null,null],Re=0,be=0;le[0]=ne[0],le[1]=ne[1];var pe=new v;if(X(c,K,le,oe,j,pe),Re=pe.n_in,be=pe.n_out,U.findReplayGain&&!U.decode_on_the_fly&&r.AnalyzeSamples(U.rgdata,K[0],U.mf_size,K[1],U.mf_size,be,U.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6;if(j-=Re,oe+=Re,U.channels_out==2,U.mf_size+=be,H0(U.mf_size<=Vr.MFSIZE),U.mf_samples_to_encode<1&&(U.mf_samples_to_encode=lt.ENCDELAY+lt.POSTDELAY),U.mf_samples_to_encode+=be,U.mf_size>=P){var de=me-ce;if(me==0&&(de=0),te=h(c,K[0],K[1],ve,Se,de),te<0)return te;for(Se+=te,ce+=te,U.mf_size-=c.framesize,U.mf_samples_to_encode-=c.framesize,Te=0;Te<U.channels_out;Te++)for(ee=0;ee<U.mf_size;ee++)K[Te][ee]=K[Te][ee+c.framesize]}}return ce}function h(c,A,q,j,ve,Se){var me=e.enc.lame_encode_mp3_frame(c,A,q,j,ve,Se);return c.frameNum++,me}function v(){this.n_in=0,this.n_out=0}function R(){this.num_used=0}function B(c,A){return A!=0?B(A,c%A):c}function G(c,A,q){var j=Math.PI*A;c/=q,c<0&&(c=0),c>1&&(c=1);var ve=c-.5,Se=.42-.5*Math.cos(2*c*Math.PI)+.08*Math.cos(4*c*Math.PI);return Math.abs(ve)<1e-9?j/Math.PI:Se*Math.sin(q*j*ve)/(Math.PI*q*ve)}function V(c,A,q,j,ve,Se,me,U,ce){var te=c.internal_flags,ee,Te=0,P,F=c.out_samplerate/B(c.out_samplerate,c.in_samplerate);F>Vr.BPC&&(F=Vr.BPC);var K=Math.abs(te.resample_ratio-Math.floor(.5+te.resample_ratio))<1e-4?1:0,ne=1/te.resample_ratio;ne>1&&(ne=1);var oe=31;oe%2==0&&--oe,oe+=K;var le=oe+1;if(te.fill_buffer_resample_init==0){for(te.inbuf_old[0]=un(le),te.inbuf_old[1]=un(le),ee=0;ee<=2*F;++ee)te.blackfilt[ee]=un(le);for(te.itime[0]=0,te.itime[1]=0,Te=0;Te<=2*F;Te++){var Re=0,be=(Te-F)/(2*F);for(ee=0;ee<=oe;ee++)Re+=te.blackfilt[Te][ee]=G(ee-be,ne,oe);for(ee=0;ee<=oe;ee++)te.blackfilt[Te][ee]/=Re}te.fill_buffer_resample_init=1}var pe=te.inbuf_old[ce];for(P=0;P<j;P++){var de,Ie;if(de=P*te.resample_ratio,Te=0|Math.floor(de-te.itime[ce]),oe+Te-oe/2>=me)break;var be=de-te.itime[ce]-(Te+.5*(oe%2));Ie=0|Math.floor(be*2*F+F+.5);var Ae=0;for(ee=0;ee<=oe;++ee){var we=0|ee+Te-oe/2,Oe;Oe=we<0?pe[le+we]:ve[Se+we],Ae+=Oe*te.blackfilt[Ie][ee]}A[q+P]=Ae}if(U.num_used=Math.min(me,oe+Te-oe/2),te.itime[ce]+=U.num_used-P*te.resample_ratio,U.num_used>=le)for(ee=0;ee<le;ee++)pe[ee]=ve[Se+U.num_used+ee-le];else{var ke=le-U.num_used;for(ee=0;ee<ke;++ee)pe[ee]=pe[ee+U.num_used];for(Te=0;ee<le;++ee,++Te)pe[ee]=ve[Se+Te];H0(Te==U.num_used)}return P}function X(c,A,q,j,ve,Se){var me=c.internal_flags;if(me.resample_ratio<.9999||me.resample_ratio>1.0001)for(var U=0;U<me.channels_out;U++){var ce=new R;Se.n_out=V(c,A[U],me.mf_size,c.framesize,q[U],j,ve,ce,U),Se.n_in=ce.num_used}else{Se.n_out=Math.min(c.framesize,ve),Se.n_in=Se.n_out;for(var te=0;te<Se.n_out;++te)A[0][me.mf_size+te]=q[0][j+te],me.channels_out==2&&(A[1][me.mf_size+te]=q[1][j+te])}}}var Hf=vt,Vf=rt,h0=Vf.VbrMode;function kf(){function e(S,M,_,H,I,C,Y,N,E,o,s,T,x,O,w){this.vbr_q=S,this.quant_comp=M,this.quant_comp_s=_,this.expY=H,this.st_lrm=I,this.st_s=C,this.masking_adj=Y,this.masking_adj_short=N,this.ath_lower=E,this.ath_curve=o,this.ath_sensitivity=s,this.interch=T,this.safejoint=x,this.sfb21mod=O,this.msfix=w}function t(S,M,_,H,I,C,Y,N,E,o,s,T,x,O){this.quant_comp=M,this.quant_comp_s=_,this.safejoint=H,this.nsmsfix=I,this.st_lrm=C,this.st_s=Y,this.nsbass=N,this.scale=E,this.masking_adj=o,this.ath_lower=s,this.ath_curve=T,this.interch=x,this.sfscale=O}var n;this.setModules=function(S){n=S};var r=[new e(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new e(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new e(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new e(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new e(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new e(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new e(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new e(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new e(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new e(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new e(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],a=[new e(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new e(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new e(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new e(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new e(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new e(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new e(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new e(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new e(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new e(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new e(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function l(S,M,_){var H=S.VBR==h0.vbr_rh?r:a,I=S.VBR_q_frac,C=H[M],Y=H[M+1],N=C;C.st_lrm=C.st_lrm+I*(Y.st_lrm-C.st_lrm),C.st_s=C.st_s+I*(Y.st_s-C.st_s),C.masking_adj=C.masking_adj+I*(Y.masking_adj-C.masking_adj),C.masking_adj_short=C.masking_adj_short+I*(Y.masking_adj_short-C.masking_adj_short),C.ath_lower=C.ath_lower+I*(Y.ath_lower-C.ath_lower),C.ath_curve=C.ath_curve+I*(Y.ath_curve-C.ath_curve),C.ath_sensitivity=C.ath_sensitivity+I*(Y.ath_sensitivity-C.ath_sensitivity),C.interch=C.interch+I*(Y.interch-C.interch),C.msfix=C.msfix+I*(Y.msfix-C.msfix),b(S,N.vbr_q),_!=0?S.quant_comp=N.quant_comp:Math.abs(S.quant_comp- -1)>0||(S.quant_comp=N.quant_comp),_!=0?S.quant_comp_short=N.quant_comp_s:Math.abs(S.quant_comp_short- -1)>0||(S.quant_comp_short=N.quant_comp_s),N.expY!=0&&(S.experimentalY=N.expY!=0),_!=0?S.internal_flags.nsPsy.attackthre=N.st_lrm:Math.abs(S.internal_flags.nsPsy.attackthre- -1)>0||(S.internal_flags.nsPsy.attackthre=N.st_lrm),_!=0?S.internal_flags.nsPsy.attackthre_s=N.st_s:Math.abs(S.internal_flags.nsPsy.attackthre_s- -1)>0||(S.internal_flags.nsPsy.attackthre_s=N.st_s),_!=0?S.maskingadjust=N.masking_adj:Math.abs(S.maskingadjust-0)>0||(S.maskingadjust=N.masking_adj),_!=0?S.maskingadjust_short=N.masking_adj_short:Math.abs(S.maskingadjust_short-0)>0||(S.maskingadjust_short=N.masking_adj_short),_!=0?S.ATHlower=-N.ath_lower/10:Math.abs(-S.ATHlower*10-0)>0||(S.ATHlower=-N.ath_lower/10),_!=0?S.ATHcurve=N.ath_curve:Math.abs(S.ATHcurve- -1)>0||(S.ATHcurve=N.ath_curve),_!=0?S.athaa_sensitivity=N.ath_sensitivity:Math.abs(S.athaa_sensitivity- -1)>0||(S.athaa_sensitivity=N.ath_sensitivity),N.interch>0&&(_!=0?S.interChRatio=N.interch:Math.abs(S.interChRatio- -1)>0||(S.interChRatio=N.interch)),N.safejoint>0&&(S.exp_nspsytune=S.exp_nspsytune|N.safejoint),N.sfb21mod>0&&(S.exp_nspsytune=S.exp_nspsytune|N.sfb21mod<<20),_!=0?S.msfix=N.msfix:Math.abs(S.msfix- -1)>0||(S.msfix=N.msfix),_==0&&(S.VBR_q=M,S.VBR_q_frac=I)}var f=[new t(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new t(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new t(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new t(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new t(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new t(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new t(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new t(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new t(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new t(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new t(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new t(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new t(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new t(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new t(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new t(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new t(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function d(S,M,_){var H=M,I=n.nearestBitrateFullIndex(M);if(S.VBR=h0.vbr_abr,S.VBR_mean_bitrate_kbps=H,S.VBR_mean_bitrate_kbps=Math.min(S.VBR_mean_bitrate_kbps,320),S.VBR_mean_bitrate_kbps=Math.max(S.VBR_mean_bitrate_kbps,8),S.brate=S.VBR_mean_bitrate_kbps,S.VBR_mean_bitrate_kbps>320&&(S.disable_reservoir=!0),f[I].safejoint>0&&(S.exp_nspsytune=S.exp_nspsytune|2),f[I].sfscale>0&&(S.internal_flags.noise_shaping=2),Math.abs(f[I].nsbass)>0){var C=int(f[I].nsbass*4);C<0&&(C+=64),S.exp_nspsytune=S.exp_nspsytune|C<<2}return _!=0?S.quant_comp=f[I].quant_comp:Math.abs(S.quant_comp- -1)>0||(S.quant_comp=f[I].quant_comp),_!=0?S.quant_comp_short=f[I].quant_comp_s:Math.abs(S.quant_comp_short- -1)>0||(S.quant_comp_short=f[I].quant_comp_s),_!=0?S.msfix=f[I].nsmsfix:Math.abs(S.msfix- -1)>0||(S.msfix=f[I].nsmsfix),_!=0?S.internal_flags.nsPsy.attackthre=f[I].st_lrm:Math.abs(S.internal_flags.nsPsy.attackthre- -1)>0||(S.internal_flags.nsPsy.attackthre=f[I].st_lrm),_!=0?S.internal_flags.nsPsy.attackthre_s=f[I].st_s:Math.abs(S.internal_flags.nsPsy.attackthre_s- -1)>0||(S.internal_flags.nsPsy.attackthre_s=f[I].st_s),_!=0?S.scale=f[I].scale:Math.abs(S.scale- -1)>0||(S.scale=f[I].scale),_!=0?S.maskingadjust=f[I].masking_adj:Math.abs(S.maskingadjust-0)>0||(S.maskingadjust=f[I].masking_adj),f[I].masking_adj>0?_!=0?S.maskingadjust_short=f[I].masking_adj*.9:Math.abs(S.maskingadjust_short-0)>0||(S.maskingadjust_short=f[I].masking_adj*.9):_!=0?S.maskingadjust_short=f[I].masking_adj*1.1:Math.abs(S.maskingadjust_short-0)>0||(S.maskingadjust_short=f[I].masking_adj*1.1),_!=0?S.ATHlower=-f[I].ath_lower/10:Math.abs(-S.ATHlower*10-0)>0||(S.ATHlower=-f[I].ath_lower/10),_!=0?S.ATHcurve=f[I].ath_curve:Math.abs(S.ATHcurve- -1)>0||(S.ATHcurve=f[I].ath_curve),_!=0?S.interChRatio=f[I].interch:Math.abs(S.interChRatio- -1)>0||(S.interChRatio=f[I].interch),M}this.apply_preset=function(S,M,_){switch(M){case Lame.R3MIX:{M=Lame.V3,S.VBR=h0.vbr_mtrh;break}case Lame.MEDIUM:{M=Lame.V4,S.VBR=h0.vbr_rh;break}case Lame.MEDIUM_FAST:{M=Lame.V4,S.VBR=h0.vbr_mtrh;break}case Lame.STANDARD:{M=Lame.V2,S.VBR=h0.vbr_rh;break}case Lame.STANDARD_FAST:{M=Lame.V2,S.VBR=h0.vbr_mtrh;break}case Lame.EXTREME:{M=Lame.V0,S.VBR=h0.vbr_rh;break}case Lame.EXTREME_FAST:{M=Lame.V0,S.VBR=h0.vbr_mtrh;break}case Lame.INSANE:return M=320,S.preset=M,d(S,M,_),S.VBR=h0.vbr_off,M}switch(S.preset=M,M){case Lame.V9:return l(S,9,_),M;case Lame.V8:return l(S,8,_),M;case Lame.V7:return l(S,7,_),M;case Lame.V6:return l(S,6,_),M;case Lame.V5:return l(S,5,_),M;case Lame.V4:return l(S,4,_),M;case Lame.V3:return l(S,3,_),M;case Lame.V2:return l(S,2,_),M;case Lame.V1:return l(S,1,_),M;case Lame.V0:return l(S,0,_),M}return 8<=M&&M<=320?d(S,M,_):(S.preset=0,M)};function b(S,M){var _=0;return 0>M&&(_=-1,M=0),9<M&&(_=-1,M=9),S.VBR_q=M,S.VBR_q_frac=0,_}}var Ff=kf;function Pf(){this.setModules=function(e,t){}}var $f=Pf;function Df(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}var Xf=Df,po=rt,s1=po.new_float,qf=po.new_int;function Gf(){this.global_gain=0,this.sfb_count1=0,this.step=qf(39),this.noise=s1(39),this.noise_log=s1(39)}var Yf=Gf,kn=rt,V0=kn.System,a1=kn.VbrMode,Js=kn.Util,En=kn.Arrays,jn=kn.new_float,Kn=kn.assert,Uf=$f,ea=Xf,jf=Yf,Ge=Ct(),i1=qa,l1=ms;function Kf(){var e;this.rv=null;var t;this.qupvt=null;var n,r=new Uf,a;this.setModules=function(E,o,s,T){e=E,t=o,this.rv=o,n=s,this.qupvt=s,a=T,r.setModules(n,a)},this.ms_convert=function(E,o){for(var s=0;s<576;++s){var T=E.tt[o][0].xr[s],x=E.tt[o][1].xr[s];E.tt[o][0].xr[s]=(T+x)*(Js.SQRT2*.5),E.tt[o][1].xr[s]=(T-x)*(Js.SQRT2*.5)}};function l(E,o,s,T){T=0;for(var x=0;x<=s;++x){var O=Math.abs(E.xr[x]);T+=O,o[x]=Math.sqrt(O*Math.sqrt(O)),o[x]>E.xrpow_max&&(E.xrpow_max=o[x])}return T}this.init_xrpow=function(E,o,s){var T=0,x=0|o.max_nonzero_coeff;if(o.xrpow_max=0,En.fill(s,x,576,0),T=l(o,s,x,T),T>1e-20){var O=0;E.substep_shaping&2&&(O=1);for(var w=0;w<o.psymax;w++)E.pseudohalf[w]=O;return!0}return En.fill(o.l3_enc,0,576,0),!1};function f(E,o){var s=E.ATH,T=o.xr;if(o.block_type!=Ge.SHORT_TYPE)for(var x=!1,O=Ge.PSFB21-1;O>=0&&!x;O--){var w=E.scalefac_band.psfb21[O],m=E.scalefac_band.psfb21[O+1],p=n.athAdjust(s.adjust,s.psfb21[O],s.floor);E.nsPsy.longfact[21]>1e-12&&(p*=E.nsPsy.longfact[21]);for(var u=m-1;u>=w;u--)if(Math.abs(T[u])<p)T[u]=0;else{x=!0;break}}else for(var y=0;y<3;y++)for(var x=!1,O=Ge.PSFB12-1;O>=0&&!x;O--){var w=E.scalefac_band.s[12]*3+(E.scalefac_band.s[13]-E.scalefac_band.s[12])*y+(E.scalefac_band.psfb12[O]-E.scalefac_band.psfb12[0]),m=w+(E.scalefac_band.psfb12[O+1]-E.scalefac_band.psfb12[O]),i=n.athAdjust(s.adjust,s.psfb12[O],s.floor);E.nsPsy.shortfact[12]>1e-12&&(i*=E.nsPsy.shortfact[12]);for(var u=m-1;u>=w;u--)if(Math.abs(T[u])<i)T[u]=0;else{x=!0;break}}}this.init_outer_loop=function(E,o){o.part2_3_length=0,o.big_values=0,o.count1=0,o.global_gain=210,o.scalefac_compress=0,o.table_select[0]=0,o.table_select[1]=0,o.table_select[2]=0,o.subblock_gain[0]=0,o.subblock_gain[1]=0,o.subblock_gain[2]=0,o.subblock_gain[3]=0,o.region0_count=0,o.region1_count=0,o.preflag=0,o.scalefac_scale=0,o.count1table_select=0,o.part2_length=0,o.sfb_lmax=Ge.SBPSY_l,o.sfb_smin=Ge.SBPSY_s,o.psy_lmax=E.sfb21_extra?Ge.SBMAX_l:Ge.SBPSY_l,o.psymax=o.psy_lmax,o.sfbmax=o.sfb_lmax,o.sfbdivide=11;for(var s=0;s<Ge.SBMAX_l;s++)o.width[s]=E.scalefac_band.l[s+1]-E.scalefac_band.l[s],o.window[s]=3;if(o.block_type==Ge.SHORT_TYPE){var T=jn(576);o.sfb_smin=0,o.sfb_lmax=0,o.mixed_block_flag!=0&&(o.sfb_smin=3,o.sfb_lmax=E.mode_gr*2+4),o.psymax=o.sfb_lmax+3*((E.sfb21_extra?Ge.SBMAX_s:Ge.SBPSY_s)-o.sfb_smin),o.sfbmax=o.sfb_lmax+3*(Ge.SBPSY_s-o.sfb_smin),o.sfbdivide=o.sfbmax-18,o.psy_lmax=o.sfb_lmax;var x=E.scalefac_band.l[o.sfb_lmax];V0.arraycopy(o.xr,0,T,0,576);for(var s=o.sfb_smin;s<Ge.SBMAX_s;s++)for(var O=E.scalefac_band.s[s],w=E.scalefac_band.s[s+1],m=0;m<3;m++)for(var p=O;p<w;p++)o.xr[x++]=T[3*p+m];for(var u=o.sfb_lmax,s=o.sfb_smin;s<Ge.SBMAX_s;s++)o.width[u]=o.width[u+1]=o.width[u+2]=E.scalefac_band.s[s+1]-E.scalefac_band.s[s],o.window[u]=0,o.window[u+1]=1,o.window[u+2]=2,u+=3}o.count1bits=0,o.sfb_partition_table=n.nr_of_sfb_block[0][0],o.slen[0]=0,o.slen[1]=0,o.slen[2]=0,o.slen[3]=0,o.max_nonzero_coeff=575,En.fill(o.scalefac,0),f(E,o)};function d(E){this.ordinal=E}d.BINSEARCH_NONE=new d(0),d.BINSEARCH_UP=new d(1),d.BINSEARCH_DOWN=new d(2);function b(E,o,s,T,x){var O,w=E.CurrentStep[T],m=!1,p=E.OldValue[T],u=d.BINSEARCH_NONE;for(o.global_gain=p,s-=o.part2_length;;){var y;if(O=a.count_bits(E,x,o,null),w==1||O==s)break;O>s?(u==d.BINSEARCH_DOWN&&(m=!0),m&&(w/=2),u=d.BINSEARCH_UP,y=w):(u==d.BINSEARCH_UP&&(m=!0),m&&(w/=2),u=d.BINSEARCH_DOWN,y=-w),o.global_gain+=y,o.global_gain<0&&(o.global_gain=0,m=!0),o.global_gain>255&&(o.global_gain=255,m=!0)}for(Kn(o.global_gain>=0),Kn(o.global_gain<256);O>s&&o.global_gain<255;)o.global_gain++,O=a.count_bits(E,x,o,null);return E.CurrentStep[T]=p-o.global_gain>=4?4:2,E.OldValue[T]=o.global_gain,o.part2_3_length=O,O}this.trancate_smallspectrums=function(E,o,s,T){var x=jn(l1.SFBMAX);if(!(!(E.substep_shaping&4)&&o.block_type==Ge.SHORT_TYPE||E.substep_shaping&128)){n.calc_noise(o,s,x,new ea,null);for(var w=0;w<576;w++){var O=0;o.l3_enc[w]!=0&&(O=Math.abs(o.xr[w])),T[w]=O}var w=0,m=8;o.block_type==Ge.SHORT_TYPE&&(m=6);do{var p,u,y,i,h=o.width[m];if(w+=h,!(x[m]>=1)&&(En.sort(T,w-h,h),!BitStream.EQ(T[w-1],0))){p=(1-x[m])*s[m],u=0,i=0;do{var v;for(y=1;i+y<h&&!BitStream.NEQ(T[i+w-h],T[i+w+y-h]);y++);if(v=T[i+w-h]*T[i+w-h]*y,p<v){i!=0&&(u=T[i+w-h-1]);break}p-=v,i+=y}while(i<h);if(!BitStream.EQ(u,0))do Math.abs(o.xr[w-h])<=u&&(o.l3_enc[w-h]=0);while(--h>0)}}while(++m<o.psymax);o.part2_3_length=a.noquant_count_bits(E,o,null)}};function S(E){for(var o=0;o<E.sfbmax;o++)if(E.scalefac[o]+E.subblock_gain[E.window[o]]==0)return!1;return!0}function M(E){return Js.FAST_LOG10(.368+.632*E*E*E)}function _(E,o){for(var s=1e-37,T=0;T<o.psymax;T++)s+=M(E[T]);return Math.max(1e-20,s)}function H(E,o,s,T,x){var O;switch(E){default:case 9:{o.over_count>0?(O=s.over_SSD<=o.over_SSD,s.over_SSD==o.over_SSD&&(O=s.bits<o.bits)):O=s.max_noise<0&&s.max_noise*10+s.bits<=o.max_noise*10+o.bits;break}case 0:O=s.over_count<o.over_count||s.over_count==o.over_count&&s.over_noise<o.over_noise||s.over_count==o.over_count&&BitStream.EQ(s.over_noise,o.over_noise)&&s.tot_noise<o.tot_noise;break;case 8:s.max_noise=_(x,T);case 1:O=s.max_noise<o.max_noise;break;case 2:O=s.tot_noise<o.tot_noise;break;case 3:O=s.tot_noise<o.tot_noise&&s.max_noise<o.max_noise;break;case 4:O=s.max_noise<=0&&o.max_noise>.2||s.max_noise<=0&&o.max_noise<0&&o.max_noise>s.max_noise-.2&&s.tot_noise<o.tot_noise||s.max_noise<=0&&o.max_noise>0&&o.max_noise>s.max_noise-.2&&s.tot_noise<o.tot_noise+o.over_noise||s.max_noise>0&&o.max_noise>-.05&&o.max_noise>s.max_noise-.1&&s.tot_noise+s.over_noise<o.tot_noise+o.over_noise||s.max_noise>0&&o.max_noise>-.1&&o.max_noise>s.max_noise-.15&&s.tot_noise+s.over_noise+s.over_noise<o.tot_noise+o.over_noise+o.over_noise;break;case 5:O=s.over_noise<o.over_noise||BitStream.EQ(s.over_noise,o.over_noise)&&s.tot_noise<o.tot_noise;break;case 6:O=s.over_noise<o.over_noise||BitStream.EQ(s.over_noise,o.over_noise)&&(s.max_noise<o.max_noise||BitStream.EQ(s.max_noise,o.max_noise)&&s.tot_noise<=o.tot_noise);break;case 7:O=s.over_count<o.over_count||s.over_noise<o.over_noise;break}return o.over_count==0&&(O=O&&s.bits<o.bits),O}function I(E,o,s,T,x){var O=E.internal_flags,w;o.scalefac_scale==0?w=1.2968395546510096:w=1.6817928305074292;for(var m=0,p=0;p<o.sfbmax;p++)m<s[p]&&(m=s[p]);var u=O.noise_shaping_amp;switch(u==3&&(x?u=2:u=1),u){case 2:break;case 1:m>1?m=Math.pow(m,.5):m*=.95;break;case 0:default:m>1?m=1:m*=.95;break}for(var y=0,p=0;p<o.sfbmax;p++){var i=o.width[p],h;if(y+=i,!(s[p]<m)){if(O.substep_shaping&2&&(O.pseudohalf[p]=O.pseudohalf[p]==0?1:0,O.pseudohalf[p]==0&&O.noise_shaping_amp==2))return;for(o.scalefac[p]++,h=-i;h<0;h++)T[y+h]*=w,T[y+h]>o.xrpow_max&&(o.xrpow_max=T[y+h]);if(O.noise_shaping_amp==2)return}}}function C(E,o){for(var s=1.2968395546510096,T=0,x=0;x<E.sfbmax;x++){var O=E.width[x],w=E.scalefac[x];if(E.preflag!=0&&(w+=n.pretab[x]),T+=O,w&1){w++;for(var m=-O;m<0;m++)o[T+m]*=s,o[T+m]>E.xrpow_max&&(E.xrpow_max=o[T+m])}E.scalefac[x]=w>>1}E.preflag=0,E.scalefac_scale=1}function Y(E,o,s){var T,x=o.scalefac;for(T=0;T<o.sfb_lmax;T++)if(x[T]>=16)return!0;for(var O=0;O<3;O++){var w=0,m=0;for(T=o.sfb_lmax+O;T<o.sfbdivide;T+=3)w<x[T]&&(w=x[T]);for(;T<o.sfbmax;T+=3)m<x[T]&&(m=x[T]);if(!(w<16&&m<8)){if(o.subblock_gain[O]>=7)return!0;o.subblock_gain[O]++;var p=E.scalefac_band.l[o.sfb_lmax];for(T=o.sfb_lmax+O;T<o.sfbmax;T+=3){var u,y=o.width[T],i=x[T];if(i=i-(4>>o.scalefac_scale),i>=0){x[T]=i,p+=y*3;continue}x[T]=0;{var h=210+(i<<o.scalefac_scale+1);u=n.IPOW20(h)}p+=y*(O+1);for(var v=-y;v<0;v++)s[p+v]*=u,s[p+v]>o.xrpow_max&&(o.xrpow_max=s[p+v]);p+=y*(3-O-1)}{var u=n.IPOW20(202);p+=o.width[T]*(O+1);for(var v=-o.width[T];v<0;v++)s[p+v]*=u,s[p+v]>o.xrpow_max&&(o.xrpow_max=s[p+v])}}}return!1}function N(E,o,s,T,x){var O=E.internal_flags;I(E,o,s,T,x);var w=S(o);return w?!1:(O.mode_gr==2?w=a.scale_bitcount(o):w=a.scale_bitcount_lsf(O,o),w?(O.noise_shaping>1&&(En.fill(O.pseudohalf,0),o.scalefac_scale==0?(C(o,T),w=!1):o.block_type==Ge.SHORT_TYPE&&O.subblock_gain>0&&(w=Y(O,o,T)||S(o))),w||(O.mode_gr==2?w=a.scale_bitcount(o):w=a.scale_bitcount_lsf(O,o)),!w):!0)}this.outer_loop=function(E,o,s,T,x,O){var w=E.internal_flags,m=new i1,p=jn(576),u=jn(l1.SFBMAX),y=new ea,i,h=new jf,v=9999999,R=!1,B=!1,G=0;if(b(w,o,O,x,T),w.noise_shaping==0)return 100;n.calc_noise(o,s,u,y,h),y.bits=o.part2_3_length,m.assign(o);var V=0;for(V0.arraycopy(T,0,p,0,576);!R;){do{var X=new ea,c,A=255;if(w.substep_shaping&2?c=20:c=3,w.sfb21_extra&&(u[m.sfbmax]>1||m.block_type==Ge.SHORT_TYPE&&(u[m.sfbmax+1]>1||u[m.sfbmax+2]>1))||!N(E,m,u,T,B))break;m.scalefac_scale!=0&&(A=254);var q=O-m.part2_length;if(q<=0)break;for(;(m.part2_3_length=a.count_bits(w,T,m,h))>q&&m.global_gain<=A;)m.global_gain++;if(m.global_gain>A)break;if(y.over_count==0){for(;(m.part2_3_length=a.count_bits(w,T,m,h))>v&&m.global_gain<=A;)m.global_gain++;if(m.global_gain>A)break}if(n.calc_noise(m,s,u,X,h),X.bits=m.part2_3_length,o.block_type!=Ge.SHORT_TYPE?i=E.quant_comp:i=E.quant_comp_short,i=H(i,y,X,m,u)?1:0,i!=0)v=o.part2_3_length,y=X,o.assign(m),V=0,V0.arraycopy(T,0,p,0,576);else if(w.full_outer_loop==0&&(++V>c&&y.over_count==0||w.noise_shaping_amp==3&&B&&V>30||w.noise_shaping_amp==3&&B&&m.global_gain-G>15))break}while(m.global_gain+m.scalefac_scale<255);w.noise_shaping_amp==3?B?R=!0:(m.assign(o),V0.arraycopy(p,0,T,0,576),V=0,G=m.global_gain,B=!0):R=!0}return Kn(o.global_gain+o.scalefac_scale<=255),E.VBR==a1.vbr_rh||E.VBR==a1.vbr_mtrh?V0.arraycopy(p,0,T,0,576):w.substep_shaping&1&&trancate_smallspectrums(w,o,s,T),y.over_count},this.iteration_finish_one=function(E,o,s){var T=E.l3_side,x=T.tt[o][s];a.best_scalefac_store(E,o,s,T),E.use_best_huffman==1&&a.best_huffman_divide(E,x),t.ResvAdjust(E,x)},this.VBR_encode_granule=function(E,o,s,T,x,O,w){var m=E.internal_flags,p=new i1,u=jn(576),y=w,i=w+1,h=(w+O)/2,v,R,B=0,G=m.sfb21_extra;Kn(y<=LameInternalFlags.MAX_BITS_PER_CHANNEL),En.fill(p.l3_enc,0);do h>y-42?m.sfb21_extra=!1:m.sfb21_extra=G,R=outer_loop(E,o,s,T,x,h),R<=0?(B=1,i=o.part2_3_length,p.assign(o),V0.arraycopy(T,0,u,0,576),w=i-32,v=w-O,h=(w+O)/2):(O=h+32,v=w-O,h=(w+O)/2,B!=0&&(B=2,o.assign(p),V0.arraycopy(u,0,T,0,576)));while(v>12);m.sfb21_extra=G,B==2&&V0.arraycopy(p.l3_enc,0,o.l3_enc,0,576),Kn(o.part2_3_length<=y)},this.get_framebits=function(E,o){var s=E.internal_flags;s.bitrate_index=s.VBR_min_bitrate;var T=e.getframebits(E);s.bitrate_index=1,T=e.getframebits(E);for(var x=1;x<=s.VBR_max_bitrate;x++){s.bitrate_index=x;var O=new MeanBits(T);o[x]=t.ResvFrameBegin(E,O),T=O.bits}},this.VBR_old_prepare=function(E,o,s,T,x,O,w,m,p){var u=E.internal_flags,y,i=0,h=1,v=0;u.bitrate_index=u.VBR_max_bitrate;var R=t.ResvFrameBegin(E,new MeanBits(0))/u.mode_gr;get_framebits(E,O);for(var B=0;B<u.mode_gr;B++){var G=n.on_pe(E,o,m[B],R,B,0);u.mode_ext==Ge.MPG_MD_MS_LR&&(ms_convert(u.l3_side,B),n.reduce_side(m[B],s[B],R,G));for(var V=0;V<u.channels_out;++V){var X=u.l3_side.tt[B][V];X.block_type!=Ge.SHORT_TYPE?(i=1.28/(1+Math.exp(3.5-o[B][V]/300))-.05,y=u.PSY.mask_adjust-i):(i=2.56/(1+Math.exp(3.5-o[B][V]/300))-.14,y=u.PSY.mask_adjust_short-i),u.masking_lower=Math.pow(10,y*.1),init_outer_loop(u,X),p[B][V]=n.calc_xmin(E,T[B][V],X,x[B][V]),p[B][V]!=0&&(h=0),w[B][V]=126,v+=m[B][V]}}for(var B=0;B<u.mode_gr;B++)for(var V=0;V<u.channels_out;V++)v>O[u.VBR_max_bitrate]&&(m[B][V]*=O[u.VBR_max_bitrate],m[B][V]/=v),w[B][V]>m[B][V]&&(w[B][V]=m[B][V]);return h},this.bitpressure_strategy=function(E,o,s,T){for(var x=0;x<E.mode_gr;x++)for(var O=0;O<E.channels_out;O++){for(var w=E.l3_side.tt[x][O],m=o[x][O],p=0,u=0;u<w.psy_lmax;u++)m[p++]*=1+.029*u*u/Ge.SBMAX_l/Ge.SBMAX_l;if(w.block_type==Ge.SHORT_TYPE)for(var u=w.sfb_smin;u<Ge.SBMAX_s;u++)m[p++]*=1+.029*u*u/Ge.SBMAX_s/Ge.SBMAX_s,m[p++]*=1+.029*u*u/Ge.SBMAX_s/Ge.SBMAX_s,m[p++]*=1+.029*u*u/Ge.SBMAX_s/Ge.SBMAX_s;T[x][O]=0|Math.max(s[x][O],.9*T[x][O])}},this.VBR_new_prepare=function(E,o,s,T,x,O){var w=E.internal_flags,m=1,p=0,u=0,y;if(E.free_format){w.bitrate_index=0;var i=new MeanBits(p);y=t.ResvFrameBegin(E,i),p=i.bits,x[0]=y}else{w.bitrate_index=w.VBR_max_bitrate;var i=new MeanBits(p);t.ResvFrameBegin(E,i),p=i.bits,get_framebits(E,x),y=x[w.VBR_max_bitrate]}for(var h=0;h<w.mode_gr;h++){n.on_pe(E,o,O[h],p,h,0),w.mode_ext==Ge.MPG_MD_MS_LR&&ms_convert(w.l3_side,h);for(var v=0;v<w.channels_out;++v){var R=w.l3_side.tt[h][v];w.masking_lower=Math.pow(10,w.PSY.mask_adjust*.1),init_outer_loop(w,R),n.calc_xmin(E,s[h][v],R,T[h][v])!=0&&(m=0),u+=O[h][v]}}for(var h=0;h<w.mode_gr;h++)for(var v=0;v<w.channels_out;v++)u>y&&(O[h][v]*=y,O[h][v]/=u);return m},this.calc_target_bits=function(E,o,s,T,x,O){var w=E.internal_flags,m=w.l3_side,p,u,y,i,h=0;w.bitrate_index=w.VBR_max_bitrate;var v=new MeanBits(h);for(O[0]=t.ResvFrameBegin(E,v),h=v.bits,w.bitrate_index=1,h=e.getframebits(E)-w.sideinfo_len*8,x[0]=h/(w.mode_gr*w.channels_out),h=E.VBR_mean_bitrate_kbps*E.framesize*1e3,w.substep_shaping&1&&(h*=1.09),h/=E.out_samplerate,h-=w.sideinfo_len*8,h/=w.mode_gr*w.channels_out,p=.93+.07*(11-E.compression_ratio)/(11-5.5),p<.9&&(p=.9),p>1&&(p=1),u=0;u<w.mode_gr;u++){var R=0;for(y=0;y<w.channels_out;y++){if(T[u][y]=int(p*h),o[u][y]>700){var B=int((o[u][y]-700)/1.4),G=m.tt[u][y];T[u][y]=int(p*h),G.block_type==Ge.SHORT_TYPE&&B<h/2&&(B=h/2),B>h*3/2?B=h*3/2:B<0&&(B=0),T[u][y]+=B}T[u][y]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(T[u][y]=LameInternalFlags.MAX_BITS_PER_CHANNEL),R+=T[u][y]}if(R>LameInternalFlags.MAX_BITS_PER_GRANULE)for(y=0;y<w.channels_out;++y)T[u][y]*=LameInternalFlags.MAX_BITS_PER_GRANULE,T[u][y]/=R}if(w.mode_ext==Ge.MPG_MD_MS_LR)for(u=0;u<w.mode_gr;u++)n.reduce_side(T[u],s[u],h*w.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(i=0,u=0;u<w.mode_gr;u++)for(y=0;y<w.channels_out;y++)T[u][y]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(T[u][y]=LameInternalFlags.MAX_BITS_PER_CHANNEL),i+=T[u][y];if(i>O[0])for(u=0;u<w.mode_gr;u++)for(y=0;y<w.channels_out;y++)T[u][y]*=O[0],T[u][y]/=i}}var Wf=Kf,zf=rt,o1=zf.assert;function Zf(){var e;this.setModules=function(t){e=t},this.ResvFrameBegin=function(t,n){var r=t.internal_flags,a,l=r.l3_side,f=e.getframebits(t);n.bits=(f-r.sideinfo_len*8)/r.mode_gr;var d=8*256*r.mode_gr-8;t.brate>320?a=8*int(t.brate*1e3/(t.out_samplerate/1152)/8+.5):(a=8*1440,t.strict_ISO&&(a=8*int(32e4/(t.out_samplerate/1152)/8+.5))),r.ResvMax=a-f,r.ResvMax>d&&(r.ResvMax=d),(r.ResvMax<0||t.disable_reservoir)&&(r.ResvMax=0);var b=n.bits*r.mode_gr+Math.min(r.ResvSize,r.ResvMax);return b>a&&(b=a),o1(r.ResvMax%8==0),o1(r.ResvMax>=0),l.resvDrain_pre=0,r.pinfo!=null&&(r.pinfo.mean_bits=n.bits/2,r.pinfo.resvsize=r.ResvSize),b},this.ResvMaxBits=function(t,n,r,a){var l=t.internal_flags,f,d=l.ResvSize,b=l.ResvMax;a!=0&&(d+=n),l.substep_shaping&1&&(b*=.9),r.bits=n,d*10>b*9?(f=d-b*9/10,r.bits+=f,l.substep_shaping|=128):(f=0,l.substep_shaping&=127,!t.disable_reservoir&&!(l.substep_shaping&1)&&(r.bits-=.1*n));var S=d<l.ResvMax*6/10?d:l.ResvMax*6/10;return S-=f,S<0&&(S=0),S},this.ResvAdjust=function(t,n){t.ResvSize-=n.part2_3_length+n.part2_length},this.ResvFrameEnd=function(t,n){var r,a=t.l3_side;t.ResvSize+=n*t.mode_gr;var l=0;a.resvDrain_post=0,a.resvDrain_pre=0,(r=t.ResvSize%8)!=0&&(l+=r),r=t.ResvSize-l-t.ResvMax,r>0&&(l+=r);{var f=Math.min(a.main_data_begin*8,l)/8;a.resvDrain_pre+=8*f,l-=8*f,t.ResvSize-=8*f,a.main_data_begin-=f}a.resvDrain_post+=l,t.ResvSize-=l}}var Qf=Zf;function Jf(){var e="http://www.mp3dev.org/",t=3,n=98,r=4,a=0,l=93;this.getLameVersion=function(){return t+"."+n+"."+r},this.getLameShortVersion=function(){return t+"."+n+"."+r},this.getLameVeryShortVersion=function(){return"LAME"+t+"."+n+"r"},this.getPsyVersion=function(){return a+"."+l},this.getLameUrl=function(){return e},this.getLameOsBitness=function(){return"32bits"}}var e_=Jf,Fn=rt,t_=Fn.System,ta=Fn.VbrMode,c1=Fn.ShortBlock,n_=Fn.Arrays,kr=Fn.new_byte,r_=Fn.assert;mr.NUMTOCENTRIES=100;mr.MAXFRAMESIZE=2880;function mr(){var e,t,n;this.setModules=function(h,v,R){e=h,t=v,n=R};var r=1,a=2,l=4,f=8,d=mr.NUMTOCENTRIES,b=mr.MAXFRAMESIZE,S=d+4+4+4+4+4,M=S+9+1+1+8+1+1+3+1+1+2+4+2+2,_=128,H=64,I=32,C=null,Y="Xing",N="Info",E=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function o(h,v){if(h.nVbrNumFrames++,h.sum+=v,h.seen++,!(h.seen<h.want)&&(h.pos<h.size&&(h.bag[h.pos]=h.sum,h.pos++,h.seen=0),h.pos==h.size)){for(var R=1;R<h.size;R+=2)h.bag[R/2]=h.bag[R];h.want*=2,h.pos/=2}}function s(h,v){if(!(h.pos<=0))for(var R=1;R<d;++R){var B=R/d,G,V,X=0|Math.floor(B*h.pos);X>h.pos-1&&(X=h.pos-1),G=h.bag[X],V=h.sum;var c=0|256*G/V;c>255&&(c=255),v[R]=255&c}}this.addVbrFrame=function(h){var v=h.internal_flags,R=Tables.bitrate_table[h.version][v.bitrate_index];r_(v.VBR_seek_table.bag!=null),o(v.VBR_seek_table,R)};function T(h,v){var R=h[v+0]&255;return R<<=8,R|=h[v+1]&255,R<<=8,R|=h[v+2]&255,R<<=8,R|=h[v+3]&255,R}function x(h,v,R){h[v+0]=255&(R>>24&255),h[v+1]=255&(R>>16&255),h[v+2]=255&(R>>8&255),h[v+3]=255&(R&255)}function O(h,v,R){h[v+0]=255&(R>>8&255),h[v+1]=255&(R&255)}function w(h,v){return new String(h,v,Y.length(),C).equals(Y)||new String(h,v,N.length(),C).equals(N)}function m(h,v,R){return 255&(h<<v|R&~(-1<<v))}function p(h,v){var R=h.internal_flags;v[0]=m(v[0],8,255),v[1]=m(v[1],3,7),v[1]=m(v[1],1,h.out_samplerate<16e3?0:1),v[1]=m(v[1],1,h.version),v[1]=m(v[1],2,1),v[1]=m(v[1],1,h.error_protection?0:1),v[2]=m(v[2],4,R.bitrate_index),v[2]=m(v[2],2,R.samplerate_index),v[2]=m(v[2],1,0),v[2]=m(v[2],1,h.extension),v[3]=m(v[3],2,h.mode.ordinal()),v[3]=m(v[3],2,R.mode_ext),v[3]=m(v[3],1,h.copyright),v[3]=m(v[3],1,h.original),v[3]=m(v[3],2,h.emphasis),v[0]=255;var B=255&(v[1]&241),G;h.version==1?G=_:h.out_samplerate<16e3?G=I:G=H,h.VBR==ta.vbr_off&&(G=h.brate);var V;h.free_format?V=0:V=255&16*e.BitrateIndex(G,h.version,h.out_samplerate),h.version==1?(v[1]=255&(B|10),B=255&(v[2]&13),v[2]=255&(V|B)):(v[1]=255&(B|2),B=255&(v[2]&13),v[2]=255&(V|B))}this.getVbrTag=function(h){var v=new VBRTagData,R=0;v.flags=0;var B=h[R+1]>>3&1,G=h[R+2]>>2&3,V=h[R+3]>>6&3,X=h[R+2]>>4&15;if(X=Tables.bitrate_table[B][X],h[R+1]>>4==14?v.samprate=Tables.samplerate_table[2][G]:v.samprate=Tables.samplerate_table[B][G],B!=0?V!=3?R+=36:R+=21:V!=3?R+=21:R+=13,!w(h,R))return null;R+=4,v.hId=B;var c=v.flags=T(h,R);if(R+=4,c&r&&(v.frames=T(h,R),R+=4),c&a&&(v.bytes=T(h,R),R+=4),c&l){if(v.toc!=null)for(var A=0;A<d;A++)v.toc[A]=h[R+A];R+=d}v.vbrScale=-1,c&f&&(v.vbrScale=T(h,R),R+=4),v.headersize=(B+1)*72e3*X/v.samprate,R+=21;var q=h[R+0]<<4;q+=h[R+1]>>4;var j=(h[R+1]&15)<<8;return j+=h[R+2]&255,(q<0||q>3e3)&&(q=-1),(j<0||j>3e3)&&(j=-1),v.encDelay=q,v.encPadding=j,v},this.InitVbrTag=function(h){var v=h.internal_flags,R;h.version==1?R=_:h.out_samplerate<16e3?R=I:R=H,h.VBR==ta.vbr_off&&(R=h.brate);var B=(h.version+1)*72e3*R/h.out_samplerate,G=v.sideinfo_len+M;if(v.VBR_seek_table.TotalFrameSize=B,B<G||B>b){h.bWriteVbrTag=!1;return}v.VBR_seek_table.nVbrNumFrames=0,v.VBR_seek_table.nBytesWritten=0,v.VBR_seek_table.sum=0,v.VBR_seek_table.seen=0,v.VBR_seek_table.want=1,v.VBR_seek_table.pos=0,v.VBR_seek_table.bag==null&&(v.VBR_seek_table.bag=new int[400],v.VBR_seek_table.size=400);var V=kr(b);p(h,V);for(var X=v.VBR_seek_table.TotalFrameSize,c=0;c<X;++c)t.add_dummy_byte(h,V[c]&255,1)};function u(h,v){var R=v^h;return v=v>>8^E[R&255],v}this.updateMusicCRC=function(h,v,R,B){for(var G=0;G<B;++G)h[0]=u(v[R+G],h[0])};function y(h,v,R,B,G){var V=h.internal_flags,X=0,c=h.encoder_delay,A=h.encoder_padding,q=100-10*h.VBR_q-h.quality,j=n.getLameVeryShortVersion(),ve,Se=0,me,U=[1,5,3,2,4,0,3],ce=0|(h.lowpassfreq/100+.5>255?255:h.lowpassfreq/100+.5),te=0,ee=0,Te=0,P=h.internal_flags.noise_shaping,F=0,K=0,ne=0,oe=0,le=0,Re=(h.exp_nspsytune&1)!=0,be=(h.exp_nspsytune&2)!=0,pe=!1,de=!1,Ie=h.internal_flags.nogap_total,Ae=h.internal_flags.nogap_current,we=h.ATHtype,Oe=0,ke;switch(h.VBR){case vbr_abr:ke=h.VBR_mean_bitrate_kbps;break;case vbr_off:ke=h.brate;break;default:ke=h.VBR_min_bitrate_kbps}switch(h.VBR.ordinal()<U.length?ve=U[h.VBR.ordinal()]:ve=0,me=16*Se+ve,V.findReplayGain&&(V.RadioGain>510&&(V.RadioGain=510),V.RadioGain<-510&&(V.RadioGain=-510),ee=8192,ee|=3072,V.RadioGain>=0?ee|=V.RadioGain:(ee|=512,ee|=-V.RadioGain)),V.findPeakSample&&(te=Math.abs(0|V.PeakSample/32767*Math.pow(2,23)+.5)),Ie!=-1&&(Ae>0&&(de=!0),Ae<Ie-1&&(pe=!0)),Oe=we+((Re?1:0)<<4)+((be?1:0)<<5)+((pe?1:0)<<6)+((de?1:0)<<7),q<0&&(q=0),h.mode){case MONO:F=0;break;case STEREO:F=1;break;case DUAL_CHANNEL:F=2;break;case JOINT_STEREO:h.force_ms?F=4:F=3;break;case NOT_SET:default:F=7;break}h.in_samplerate<=32e3?ne=0:h.in_samplerate==48e3?ne=2:h.in_samplerate>48e3?ne=3:ne=1,(h.short_blocks==c1.short_block_forced||h.short_blocks==c1.short_block_dispensed||h.lowpassfreq==-1&&h.highpassfreq==-1||h.scale_left<h.scale_right||h.scale_left>h.scale_right||h.disable_reservoir&&h.brate<320||h.noATH||h.ATHonly||we==0||h.in_samplerate<=32e3)&&(K=1),oe=P+(F<<2)+(K<<5)+(ne<<6),le=V.nMusicCRC,x(R,B+X,q),X+=4;for(var De=0;De<9;De++)R[B+X+De]=255&j.charAt(De);X+=9,R[B+X]=255&me,X++,R[B+X]=255&ce,X++,x(R,B+X,te),X+=4,O(R,B+X,ee),X+=2,O(R,B+X,Te),X+=2,R[B+X]=255&Oe,X++,ke>=255?R[B+X]=255:R[B+X]=255&ke,X++,R[B+X]=255&c>>4,R[B+X+1]=255&(c<<4)+(A>>8),R[B+X+2]=255&A,X+=3,R[B+X]=255&oe,X++,R[B+X++]=0,O(R,B+X,h.preset),X+=2,x(R,B+X,v),X+=4,O(R,B+X,le),X+=2;for(var Xe=0;Xe<X;Xe++)G=u(R[B+Xe],G);return O(R,B+X,G),X+=2,X}function i(h){h.seek(0);var v=kr(10);h.readFully(v);var R;return new String(v,"ISO-8859-1").startsWith("ID3")?R=0:R=((v[6]&127)<<21|(v[7]&127)<<14|(v[8]&127)<<7|v[9]&127)+v.length,R}this.getLameTagFrame=function(h,v){var R=h.internal_flags;if(!h.bWriteVbrTag||R.Class_ID!=Lame.LAME_ID||R.VBR_seek_table.pos<=0)return 0;if(v.length<R.VBR_seek_table.TotalFrameSize)return R.VBR_seek_table.TotalFrameSize;n_.fill(v,0,R.VBR_seek_table.TotalFrameSize,0),p(h,v);var B=kr(d);if(h.free_format)for(var G=1;G<d;++G)B[G]=255&255*G/100;else s(R.VBR_seek_table,B);var V=R.sideinfo_len;h.error_protection&&(V-=2),h.VBR==ta.vbr_off?(v[V++]=255&N.charAt(0),v[V++]=255&N.charAt(1),v[V++]=255&N.charAt(2),v[V++]=255&N.charAt(3)):(v[V++]=255&Y.charAt(0),v[V++]=255&Y.charAt(1),v[V++]=255&Y.charAt(2),v[V++]=255&Y.charAt(3)),x(v,V,r+a+l+f),V+=4,x(v,V,R.VBR_seek_table.nVbrNumFrames),V+=4;var X=R.VBR_seek_table.nBytesWritten+R.VBR_seek_table.TotalFrameSize;x(v,V,0|X),V+=4,t_.arraycopy(B,0,v,V,B.length),V+=B.length,h.error_protection&&t.CRC_writeheader(R,v);for(var c=0,G=0;G<V;G++)c=u(v[G],c);return V+=y(h,X,v,V,c),R.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(h,v){var R=h.internal_flags;if(R.VBR_seek_table.pos<=0||(v.seek(v.length()),v.length()==0))return-1;var B=i(v);v.seek(B);var G=kr(b),V=getLameTagFrame(h,G);return V>G.length?-1:(V<1||v.write(G,0,V),0)}}var s_=mr,bo=rt,u1=bo.new_byte,a_=bo.assert,i_=Hf,l_=Ff,o_=uo,c_=ho,u_=Wf,f_=vo,__=Qf,h_=so,d_=mo;Ct();var v_=e_,m_=s_;function p_(){this.setModules=function(e,t){}}function b_(){this.setModules=function(e,t,n){}}function S_(){}function y_(){this.setModules=function(e,t){}}function R_(e,t,n){arguments.length!=3&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),e=1,t=44100,n=128);var r=new i_,a=new p_,l=new o_,f=new d_,d=new l_,b=new c_,S=new u_,M=new m_,_=new v_,H=new y_,I=new __,C=new f_,Y=new b_,N=new S_;r.setModules(l,f,d,b,S,M,_,H,N),f.setModules(l,N,_,M),H.setModules(f,_),d.setModules(r),S.setModules(f,I,b,C),b.setModules(C,I,r.enc.psy),I.setModules(f),C.setModules(b),M.setModules(r,f,_),a.setModules(Y,N),Y.setModules(_,H,d);var E=r.lame_init();E.num_channels=e,E.in_samplerate=t,E.brate=n,E.mode=h_.STEREO,E.quality=3,E.bWriteVbrTag=!1,E.disable_reservoir=!0,E.write_id3tag_automatic=!1,r.lame_init_params(E);var o=1152,s=0|1.25*o+7200,T=u1(s);this.encodeBuffer=function(x,O){e==1&&(O=x),a_(x.length==O.length),x.length>o&&(o=x.length,s=0|1.25*o+7200,T=u1(s));var w=r.lame_encode_buffer(E,x,O,x.length,T,0,s);return new Int8Array(T.subarray(0,w))},this.flush=function(){var x=r.lame_encode_flush(E,T,0,s);return new Int8Array(T.subarray(0,x))}}function s0(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function Ss(e){return e.charCodeAt(0)<<24|e.charCodeAt(1)<<16|e.charCodeAt(2)<<8|e.charCodeAt(3)}s0.RIFF=Ss("RIFF");s0.WAVE=Ss("WAVE");s0.fmt_=Ss("fmt ");s0.data=Ss("data");s0.readHeader=function(e){var t=new s0,n=e.getUint32(0,!1);if(s0.RIFF==n&&(e.getUint32(4,!0),s0.WAVE==e.getUint32(8,!1)&&s0.fmt_==e.getUint32(12,!1))){var r=e.getUint32(16,!0),a=20;switch(r){case 16:case 18:t.channels=e.getUint16(a+2,!0),t.sampleRate=e.getUint32(a+4,!0);break;default:throw"extended fmt chunk not implemented"}a+=r;for(var l=s0.data,f=0;l!=n&&(n=e.getUint32(a,!1),f=e.getUint32(a+4,!0),l!=n);)a+=f+8;return t.dataLen=f,t.dataOffset=a+8,t}};Xa.Mp3Encoder=R_;Xa.WavHeader=s0;const x_=(e,t)=>{const n=e.__vccOpts||e;for(const[r,a]of t)n[r]=a;return n},A_={class:"app"},E_={class:"main"},M_={class:"form-group"},w_={class:"dialog-buttons"},T_=["disabled"],B_={class:"bottom-nav"},C_={__name:"App",setup(e){const t=Da(),n=new jl;gt(!1);const r=gt(null),a=gt(!1),l=gt(""),f=gt(null),d=gt(null);gt(0);const b=gt(null);cs(async()=>{await t.loadFromStorage()}),us(()=>{Y()});function S(){const N=b.value;if(N){const E=N.getContext("2d");E&&E.clearRect(0,0,N.width,N.height)}}async function M(){if(!(!f.value||!l.value.trim()))try{await _(l.value.trim())}catch(N){console.error("保存录音失败:",N)}}async function _(N){if(!f.value)return;const E={name:N,duration:t.recordingTime,size:f.value.size,audioUrl:f.value.url,audioBlob:f.value.blob};t.addRecording(E),console.log("录音已保存:",E.name);try{await H(E)}catch(o){console.error("下载录音失败:",o)}I(),"Notification"in window&&Notification.permission==="granted"&&new Notification("录音助手",{body:`录音 "${E.name}" 已保存`,icon:"icons/icon48.png"})}async function H(N){var T;const E=`${(N.name||"录音").replace(/[^\w\u4e00-\u9fa5\-_. ]+/g,"_")}.webm`,o=N.audioUrl;if(typeof chrome<"u"&&((T=chrome==null?void 0:chrome.downloads)!=null&&T.download))try{await chrome.downloads.download({url:o,filename:`recordings/${E}`,saveAs:!0});return}catch(x){console.warn("chrome.downloads.download 失败，使用 <a> 兜底:",x)}const s=document.createElement("a");s.href=o,s.download=E,document.body.appendChild(s),s.click(),setTimeout(()=>{document.body.removeChild(s)},0)}function I(){a.value=!1,l.value="",f.value=null}function C(){r.value&&(clearInterval(r.value),r.value=null)}function Y(){C(),n.cleanup(),S()}return(N,E)=>{const o=Pc("router-view");return xt(),wt("div",A_,[E[7]||(E[7]=Ce("header",{class:"header"},[Ce("div",{class:"header-content"},[Ce("div",{class:"logo"},[Ce("span",{class:"mic-icon"},"🎙️"),Ce("h1",null,"录音助手")])])],-1)),Ce("main",E_,[Qt($2,{name:"slide-fade",mode:"out-in"},{default:cl(()=>[Qt(o)]),_:1}),a.value?(xt(),wt("div",{key:0,class:"save-dialog-overlay",onClick:I},[Ce("div",{class:"save-dialog",onClick:E[1]||(E[1]=uu(()=>{},["stop"]))},[E[4]||(E[4]=Ce("h3",null,"保存录音",-1)),Ce("div",M_,[Ac(Ce("input",{"onUpdate:modelValue":E[0]||(E[0]=s=>l.value=s),type:"text",class:"form-input",placeholder:"输入录音名称",onKeyup:_u(M,["enter"]),ref_key:"nameInput",ref:d},null,544),[[lu,l.value]])]),Ce("div",w_,[Ce("button",{onClick:I,class:"btn btn-secondary"},"取消"),Ce("button",{onClick:M,disabled:!l.value.trim(),class:"btn btn-primary"}," 保存 ",8,T_)])])])):Zn("",!0)]),Ce("nav",B_,[Ce("button",{class:w0({active:N.$route.path==="/record"}),onClick:E[2]||(E[2]=s=>N.$router.push("/record"))},[...E[5]||(E[5]=[Ce("span",{class:"nav-ico"},"🎙️",-1),Ce("span",null,"录音",-1)])],2),Ce("button",{class:w0({active:N.$route.path==="/list"}),onClick:E[3]||(E[3]=s=>N.$router.push("/list"))},[...E[6]||(E[6]=[Ce("span",{class:"nav-ico"},"📂",-1),Ce("span",null,"列表",-1)])],2)])])}}},I_=x_(C_,[["__scopeId","data-v-816ca0ce"]]);/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Tn=typeof document<"u";function So(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function g_(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&So(e.default)}const Ue=Object.assign;function na(e,t){const n={};for(const r in t){const a=t[r];n[r]=o0(a)?a.map(e):e(a)}return n}const lr=()=>{},o0=Array.isArray,yo=/#/g,L_=/&/g,O_=/\//g,N_=/=/g,H_=/\?/g,Ro=/\+/g,V_=/%5B/g,k_=/%5D/g,xo=/%5E/g,F_=/%60/g,Ao=/%7B/g,P_=/%7C/g,Eo=/%7D/g,$_=/%20/g;function ja(e){return encodeURI(""+e).replace(P_,"|").replace(V_,"[").replace(k_,"]")}function D_(e){return ja(e).replace(Ao,"{").replace(Eo,"}").replace(xo,"^")}function Sa(e){return ja(e).replace(Ro,"%2B").replace($_,"+").replace(yo,"%23").replace(L_,"%26").replace(F_,"`").replace(Ao,"{").replace(Eo,"}").replace(xo,"^")}function X_(e){return Sa(e).replace(N_,"%3D")}function q_(e){return ja(e).replace(yo,"%23").replace(H_,"%3F")}function G_(e){return e==null?"":q_(e).replace(O_,"%2F")}function pr(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Y_=/\/$/,U_=e=>e.replace(Y_,"");function ra(e,t,n="/"){let r,a={},l="",f="";const d=t.indexOf("#");let b=t.indexOf("?");return d<b&&d>=0&&(b=-1),b>-1&&(r=t.slice(0,b),l=t.slice(b+1,d>-1?d:t.length),a=e(l)),d>-1&&(r=r||t.slice(0,d),f=t.slice(d,t.length)),r=z_(r??t,n),{fullPath:r+(l&&"?")+l+f,path:r,query:a,hash:pr(f)}}function j_(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function f1(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function K_(e,t,n){const r=t.matched.length-1,a=n.matched.length-1;return r>-1&&r===a&&Ln(t.matched[r],n.matched[a])&&Mo(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Ln(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Mo(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!W_(e[n],t[n]))return!1;return!0}function W_(e,t){return o0(e)?_1(e,t):o0(t)?_1(t,e):e===t}function _1(e,t){return o0(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function z_(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),a=r[r.length-1];(a===".."||a===".")&&r.push("");let l=n.length-1,f,d;for(f=0;f<r.length;f++)if(d=r[f],d!==".")if(d==="..")l>1&&l--;else break;return n.slice(0,l).join("/")+"/"+r.slice(f).join("/")}const k0={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var br;(function(e){e.pop="pop",e.push="push"})(br||(br={}));var or;(function(e){e.back="back",e.forward="forward",e.unknown=""})(or||(or={}));function Z_(e){if(!e)if(Tn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),U_(e)}const Q_=/^[^#]+#/;function J_(e,t){return e.replace(Q_,"#")+t}function e3(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const ys=()=>({left:window.scrollX,top:window.scrollY});function t3(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),a=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!a)return;t=e3(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function h1(e,t){return(history.state?history.state.position-t:-1)+e}const ya=new Map;function n3(e,t){ya.set(e,t)}function r3(e){const t=ya.get(e);return ya.delete(e),t}let s3=()=>location.protocol+"//"+location.host;function wo(e,t){const{pathname:n,search:r,hash:a}=t,l=e.indexOf("#");if(l>-1){let d=a.includes(e.slice(l))?e.slice(l).length:1,b=a.slice(d);return b[0]!=="/"&&(b="/"+b),f1(b,"")}return f1(n,e)+r+a}function a3(e,t,n,r){let a=[],l=[],f=null;const d=({state:H})=>{const I=wo(e,location),C=n.value,Y=t.value;let N=0;if(H){if(n.value=I,t.value=H,f&&f===C){f=null;return}N=Y?H.position-Y.position:0}else r(I);a.forEach(E=>{E(n.value,C,{delta:N,type:br.pop,direction:N?N>0?or.forward:or.back:or.unknown})})};function b(){f=n.value}function S(H){a.push(H);const I=()=>{const C=a.indexOf(H);C>-1&&a.splice(C,1)};return l.push(I),I}function M(){const{history:H}=window;H.state&&H.replaceState(Ue({},H.state,{scroll:ys()}),"")}function _(){for(const H of l)H();l=[],window.removeEventListener("popstate",d),window.removeEventListener("beforeunload",M)}return window.addEventListener("popstate",d),window.addEventListener("beforeunload",M,{passive:!0}),{pauseListeners:b,listen:S,destroy:_}}function d1(e,t,n,r=!1,a=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:a?ys():null}}function i3(e){const{history:t,location:n}=window,r={value:wo(e,n)},a={value:t.state};a.value||l(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function l(b,S,M){const _=e.indexOf("#"),H=_>-1?(n.host&&document.querySelector("base")?e:e.slice(_))+b:s3()+e+b;try{t[M?"replaceState":"pushState"](S,"",H),a.value=S}catch(I){console.error(I),n[M?"replace":"assign"](H)}}function f(b,S){const M=Ue({},t.state,d1(a.value.back,b,a.value.forward,!0),S,{position:a.value.position});l(b,M,!0),r.value=b}function d(b,S){const M=Ue({},a.value,t.state,{forward:b,scroll:ys()});l(M.current,M,!0);const _=Ue({},d1(r.value,b,null),{position:M.position+1},S);l(b,_,!1),r.value=b}return{location:r,state:a,push:d,replace:f}}function l3(e){e=Z_(e);const t=i3(e),n=a3(e,t.state,t.location,t.replace);function r(l,f=!0){f||n.pauseListeners(),history.go(l)}const a=Ue({location:"",base:e,go:r,createHref:J_.bind(null,e)},t,n);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}function o3(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),l3(e)}function c3(e){return typeof e=="string"||e&&typeof e=="object"}function To(e){return typeof e=="string"||typeof e=="symbol"}const Bo=Symbol("");var v1;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(v1||(v1={}));function On(e,t){return Ue(new Error,{type:e,[Bo]:!0},t)}function R0(e,t){return e instanceof Error&&Bo in e&&(t==null||!!(e.type&t))}const m1="[^/]+?",u3={sensitive:!1,strict:!1,start:!0,end:!0},f3=/[.+*?^${}()[\]/\\]/g;function _3(e,t){const n=Ue({},u3,t),r=[];let a=n.start?"^":"";const l=[];for(const S of e){const M=S.length?[]:[90];n.strict&&!S.length&&(a+="/");for(let _=0;_<S.length;_++){const H=S[_];let I=40+(n.sensitive?.25:0);if(H.type===0)_||(a+="/"),a+=H.value.replace(f3,"\\$&"),I+=40;else if(H.type===1){const{value:C,repeatable:Y,optional:N,regexp:E}=H;l.push({name:C,repeatable:Y,optional:N});const o=E||m1;if(o!==m1){I+=10;try{new RegExp(`(${o})`)}catch(T){throw new Error(`Invalid custom RegExp for param "${C}" (${o}): `+T.message)}}let s=Y?`((?:${o})(?:/(?:${o}))*)`:`(${o})`;_||(s=N&&S.length<2?`(?:/${s})`:"/"+s),N&&(s+="?"),a+=s,I+=20,N&&(I+=-8),Y&&(I+=-20),o===".*"&&(I+=-50)}M.push(I)}r.push(M)}if(n.strict&&n.end){const S=r.length-1;r[S][r[S].length-1]+=.7000000000000001}n.strict||(a+="/?"),n.end?a+="$":n.strict&&!a.endsWith("/")&&(a+="(?:/|$)");const f=new RegExp(a,n.sensitive?"":"i");function d(S){const M=S.match(f),_={};if(!M)return null;for(let H=1;H<M.length;H++){const I=M[H]||"",C=l[H-1];_[C.name]=I&&C.repeatable?I.split("/"):I}return _}function b(S){let M="",_=!1;for(const H of e){(!_||!M.endsWith("/"))&&(M+="/"),_=!1;for(const I of H)if(I.type===0)M+=I.value;else if(I.type===1){const{value:C,repeatable:Y,optional:N}=I,E=C in S?S[C]:"";if(o0(E)&&!Y)throw new Error(`Provided param "${C}" is an array but it is not repeatable (* or + modifiers)`);const o=o0(E)?E.join("/"):E;if(!o)if(N)H.length<2&&(M.endsWith("/")?M=M.slice(0,-1):_=!0);else throw new Error(`Missing required param "${C}"`);M+=o}}return M||"/"}return{re:f,score:r,keys:l,parse:d,stringify:b}}function h3(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Co(e,t){let n=0;const r=e.score,a=t.score;for(;n<r.length&&n<a.length;){const l=h3(r[n],a[n]);if(l)return l;n++}if(Math.abs(a.length-r.length)===1){if(p1(r))return 1;if(p1(a))return-1}return a.length-r.length}function p1(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const d3={type:0,value:""},v3=/[a-zA-Z0-9_]/;function m3(e){if(!e)return[[]];if(e==="/")return[[d3]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(I){throw new Error(`ERR (${n})/"${S}": ${I}`)}let n=0,r=n;const a=[];let l;function f(){l&&a.push(l),l=[]}let d=0,b,S="",M="";function _(){S&&(n===0?l.push({type:0,value:S}):n===1||n===2||n===3?(l.length>1&&(b==="*"||b==="+")&&t(`A repeatable param (${S}) must be alone in its segment. eg: '/:ids+.`),l.push({type:1,value:S,regexp:M,repeatable:b==="*"||b==="+",optional:b==="*"||b==="?"})):t("Invalid state to consume buffer"),S="")}function H(){S+=b}for(;d<e.length;){if(b=e[d++],b==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:b==="/"?(S&&_(),f()):b===":"?(_(),n=1):H();break;case 4:H(),n=r;break;case 1:b==="("?n=2:v3.test(b)?H():(_(),n=0,b!=="*"&&b!=="?"&&b!=="+"&&d--);break;case 2:b===")"?M[M.length-1]=="\\"?M=M.slice(0,-1)+b:n=3:M+=b;break;case 3:_(),n=0,b!=="*"&&b!=="?"&&b!=="+"&&d--,M="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${S}"`),_(),f(),a}function p3(e,t,n){const r=_3(m3(e.path),n),a=Ue(r,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function b3(e,t){const n=[],r=new Map;t=R1({strict:!1,end:!0,sensitive:!1},t);function a(_){return r.get(_)}function l(_,H,I){const C=!I,Y=S1(_);Y.aliasOf=I&&I.record;const N=R1(t,_),E=[Y];if("alias"in _){const T=typeof _.alias=="string"?[_.alias]:_.alias;for(const x of T)E.push(S1(Ue({},Y,{components:I?I.record.components:Y.components,path:x,aliasOf:I?I.record:Y})))}let o,s;for(const T of E){const{path:x}=T;if(H&&x[0]!=="/"){const O=H.record.path,w=O[O.length-1]==="/"?"":"/";T.path=H.record.path+(x&&w+x)}if(o=p3(T,H,N),I?I.alias.push(o):(s=s||o,s!==o&&s.alias.push(o),C&&_.name&&!y1(o)&&f(_.name)),Io(o)&&b(o),Y.children){const O=Y.children;for(let w=0;w<O.length;w++)l(O[w],o,I&&I.children[w])}I=I||o}return s?()=>{f(s)}:lr}function f(_){if(To(_)){const H=r.get(_);H&&(r.delete(_),n.splice(n.indexOf(H),1),H.children.forEach(f),H.alias.forEach(f))}else{const H=n.indexOf(_);H>-1&&(n.splice(H,1),_.record.name&&r.delete(_.record.name),_.children.forEach(f),_.alias.forEach(f))}}function d(){return n}function b(_){const H=R3(_,n);n.splice(H,0,_),_.record.name&&!y1(_)&&r.set(_.record.name,_)}function S(_,H){let I,C={},Y,N;if("name"in _&&_.name){if(I=r.get(_.name),!I)throw On(1,{location:_});N=I.record.name,C=Ue(b1(H.params,I.keys.filter(s=>!s.optional).concat(I.parent?I.parent.keys.filter(s=>s.optional):[]).map(s=>s.name)),_.params&&b1(_.params,I.keys.map(s=>s.name))),Y=I.stringify(C)}else if(_.path!=null)Y=_.path,I=n.find(s=>s.re.test(Y)),I&&(C=I.parse(Y),N=I.record.name);else{if(I=H.name?r.get(H.name):n.find(s=>s.re.test(H.path)),!I)throw On(1,{location:_,currentLocation:H});N=I.record.name,C=Ue({},H.params,_.params),Y=I.stringify(C)}const E=[];let o=I;for(;o;)E.unshift(o.record),o=o.parent;return{name:N,path:Y,params:C,matched:E,meta:y3(E)}}e.forEach(_=>l(_));function M(){n.length=0,r.clear()}return{addRoute:l,resolve:S,removeRoute:f,clearRoutes:M,getRoutes:d,getRecordMatcher:a}}function b1(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function S1(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:S3(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function S3(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function y1(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function y3(e){return e.reduce((t,n)=>Ue(t,n.meta),{})}function R1(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function R3(e,t){let n=0,r=t.length;for(;n!==r;){const l=n+r>>1;Co(e,t[l])<0?r=l:n=l+1}const a=x3(e);return a&&(r=t.lastIndexOf(a,r-1)),r}function x3(e){let t=e;for(;t=t.parent;)if(Io(t)&&Co(e,t)===0)return t}function Io({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function A3(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let a=0;a<r.length;++a){const l=r[a].replace(Ro," "),f=l.indexOf("="),d=pr(f<0?l:l.slice(0,f)),b=f<0?null:pr(l.slice(f+1));if(d in t){let S=t[d];o0(S)||(S=t[d]=[S]),S.push(b)}else t[d]=b}return t}function x1(e){let t="";for(let n in e){const r=e[n];if(n=X_(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(o0(r)?r.map(l=>l&&Sa(l)):[r&&Sa(r)]).forEach(l=>{l!==void 0&&(t+=(t.length?"&":"")+n,l!=null&&(t+="="+l))})}return t}function E3(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=o0(r)?r.map(a=>a==null?null:""+a):r==null?r:""+r)}return t}const M3=Symbol(""),A1=Symbol(""),Ka=Symbol(""),go=Symbol(""),Ra=Symbol("");function Wn(){let e=[];function t(r){return e.push(r),()=>{const a=e.indexOf(r);a>-1&&e.splice(a,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function D0(e,t,n,r,a,l=f=>f()){const f=r&&(r.enterCallbacks[a]=r.enterCallbacks[a]||[]);return()=>new Promise((d,b)=>{const S=H=>{H===!1?b(On(4,{from:n,to:t})):H instanceof Error?b(H):c3(H)?b(On(2,{from:t,to:H})):(f&&r.enterCallbacks[a]===f&&typeof H=="function"&&f.push(H),d())},M=l(()=>e.call(r&&r.instances[a],t,n,S));let _=Promise.resolve(M);e.length<3&&(_=_.then(S)),_.catch(H=>b(H))})}function sa(e,t,n,r,a=l=>l()){const l=[];for(const f of e)for(const d in f.components){let b=f.components[d];if(!(t!=="beforeRouteEnter"&&!f.instances[d]))if(So(b)){const M=(b.__vccOpts||b)[t];M&&l.push(D0(M,n,r,f,d,a))}else{let S=b();l.push(()=>S.then(M=>{if(!M)throw new Error(`Couldn't resolve component "${d}" at "${f.path}"`);const _=g_(M)?M.default:M;f.mods[d]=M,f.components[d]=_;const I=(_.__vccOpts||_)[t];return I&&D0(I,n,r,f,d,a)()}))}}return l}function E1(e){const t=p0(Ka),n=p0(go),r=zt(()=>{const b=Qe(e.to);return t.resolve(b)}),a=zt(()=>{const{matched:b}=r.value,{length:S}=b,M=b[S-1],_=n.matched;if(!M||!_.length)return-1;const H=_.findIndex(Ln.bind(null,M));if(H>-1)return H;const I=M1(b[S-2]);return S>1&&M1(M)===I&&_[_.length-1].path!==I?_.findIndex(Ln.bind(null,b[S-2])):H}),l=zt(()=>a.value>-1&&I3(n.params,r.value.params)),f=zt(()=>a.value>-1&&a.value===n.matched.length-1&&Mo(n.params,r.value.params));function d(b={}){if(C3(b)){const S=t[Qe(e.replace)?"replace":"push"](Qe(e.to)).catch(lr);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>S),S}return Promise.resolve()}return{route:r,href:zt(()=>r.value.href),isActive:l,isExactActive:f,navigate:d}}function w3(e){return e.length===1?e[0]:e}const T3=ml({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:E1,setup(e,{slots:t}){const n=Sr(E1(e)),{options:r}=p0(Ka),a=zt(()=>({[w1(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[w1(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const l=t.default&&w3(t.default(n));return e.custom?l:$a("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:a.value},l)}}}),B3=T3;function C3(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function I3(e,t){for(const n in t){const r=t[n],a=e[n];if(typeof r=="string"){if(r!==a)return!1}else if(!o0(a)||a.length!==r.length||r.some((l,f)=>l!==a[f]))return!1}return!0}function M1(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const w1=(e,t,n)=>e??t??n,g3=ml({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=p0(Ra),a=zt(()=>e.route||r.value),l=p0(A1,0),f=zt(()=>{let S=Qe(l);const{matched:M}=a.value;let _;for(;(_=M[S])&&!_.components;)S++;return S}),d=zt(()=>a.value.matched[f.value]);Pr(A1,zt(()=>f.value+1)),Pr(M3,d),Pr(Ra,a);const b=gt();return sr(()=>[b.value,d.value,e.name],([S,M,_],[H,I,C])=>{M&&(M.instances[_]=S,I&&I!==M&&S&&S===H&&(M.leaveGuards.size||(M.leaveGuards=I.leaveGuards),M.updateGuards.size||(M.updateGuards=I.updateGuards))),S&&M&&(!I||!Ln(M,I)||!H)&&(M.enterCallbacks[_]||[]).forEach(Y=>Y(S))},{flush:"post"}),()=>{const S=a.value,M=e.name,_=d.value,H=_&&_.components[M];if(!H)return T1(n.default,{Component:H,route:S});const I=_.props[M],C=I?I===!0?S.params:typeof I=="function"?I(S):I:null,N=$a(H,Ue({},C,t,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(_.instances[M]=null)},ref:b}));return T1(n.default,{Component:N,route:S})||N}}});function T1(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const L3=g3;function O3(e){const t=b3(e.routes,e),n=e.parseQuery||A3,r=e.stringifyQuery||x1,a=e.history,l=Wn(),f=Wn(),d=Wn(),b=uc(k0);let S=k0;Tn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const M=na.bind(null,U=>""+U),_=na.bind(null,G_),H=na.bind(null,pr);function I(U,ce){let te,ee;return To(U)?(te=t.getRecordMatcher(U),ee=ce):ee=U,t.addRoute(ee,te)}function C(U){const ce=t.getRecordMatcher(U);ce&&t.removeRoute(ce)}function Y(){return t.getRoutes().map(U=>U.record)}function N(U){return!!t.getRecordMatcher(U)}function E(U,ce){if(ce=Ue({},ce||b.value),typeof U=="string"){const K=ra(n,U,ce.path),ne=t.resolve({path:K.path},ce),oe=a.createHref(K.fullPath);return Ue(K,ne,{params:H(ne.params),hash:pr(K.hash),redirectedFrom:void 0,href:oe})}let te;if(U.path!=null)te=Ue({},U,{path:ra(n,U.path,ce.path).path});else{const K=Ue({},U.params);for(const ne in K)K[ne]==null&&delete K[ne];te=Ue({},U,{params:_(K)}),ce.params=_(ce.params)}const ee=t.resolve(te,ce),Te=U.hash||"";ee.params=M(H(ee.params));const P=j_(r,Ue({},U,{hash:D_(Te),path:ee.path})),F=a.createHref(P);return Ue({fullPath:P,hash:Te,query:r===x1?E3(U.query):U.query||{}},ee,{redirectedFrom:void 0,href:F})}function o(U){return typeof U=="string"?ra(n,U,b.value.path):Ue({},U)}function s(U,ce){if(S!==U)return On(8,{from:ce,to:U})}function T(U){return w(U)}function x(U){return T(Ue(o(U),{replace:!0}))}function O(U){const ce=U.matched[U.matched.length-1];if(ce&&ce.redirect){const{redirect:te}=ce;let ee=typeof te=="function"?te(U):te;return typeof ee=="string"&&(ee=ee.includes("?")||ee.includes("#")?ee=o(ee):{path:ee},ee.params={}),Ue({query:U.query,hash:U.hash,params:ee.path!=null?{}:U.params},ee)}}function w(U,ce){const te=S=E(U),ee=b.value,Te=U.state,P=U.force,F=U.replace===!0,K=O(te);if(K)return w(Ue(o(K),{state:typeof K=="object"?Ue({},Te,K.state):Te,force:P,replace:F}),ce||te);const ne=te;ne.redirectedFrom=ce;let oe;return!P&&K_(r,ee,te)&&(oe=On(16,{to:ne,from:ee}),A(ee,ee,!0,!1)),(oe?Promise.resolve(oe):u(ne,ee)).catch(le=>R0(le)?R0(le,2)?le:c(le):V(le,ne,ee)).then(le=>{if(le){if(R0(le,2))return w(Ue({replace:F},o(le.to),{state:typeof le.to=="object"?Ue({},Te,le.to.state):Te,force:P}),ce||ne)}else le=i(ne,ee,!0,F,Te);return y(ne,ee,le),le})}function m(U,ce){const te=s(U,ce);return te?Promise.reject(te):Promise.resolve()}function p(U){const ce=ve.values().next().value;return ce&&typeof ce.runWithContext=="function"?ce.runWithContext(U):U()}function u(U,ce){let te;const[ee,Te,P]=N3(U,ce);te=sa(ee.reverse(),"beforeRouteLeave",U,ce);for(const K of ee)K.leaveGuards.forEach(ne=>{te.push(D0(ne,U,ce))});const F=m.bind(null,U,ce);return te.push(F),me(te).then(()=>{te=[];for(const K of l.list())te.push(D0(K,U,ce));return te.push(F),me(te)}).then(()=>{te=sa(Te,"beforeRouteUpdate",U,ce);for(const K of Te)K.updateGuards.forEach(ne=>{te.push(D0(ne,U,ce))});return te.push(F),me(te)}).then(()=>{te=[];for(const K of P)if(K.beforeEnter)if(o0(K.beforeEnter))for(const ne of K.beforeEnter)te.push(D0(ne,U,ce));else te.push(D0(K.beforeEnter,U,ce));return te.push(F),me(te)}).then(()=>(U.matched.forEach(K=>K.enterCallbacks={}),te=sa(P,"beforeRouteEnter",U,ce,p),te.push(F),me(te))).then(()=>{te=[];for(const K of f.list())te.push(D0(K,U,ce));return te.push(F),me(te)}).catch(K=>R0(K,8)?K:Promise.reject(K))}function y(U,ce,te){d.list().forEach(ee=>p(()=>ee(U,ce,te)))}function i(U,ce,te,ee,Te){const P=s(U,ce);if(P)return P;const F=ce===k0,K=Tn?history.state:{};te&&(ee||F?a.replace(U.fullPath,Ue({scroll:F&&K&&K.scroll},Te)):a.push(U.fullPath,Te)),b.value=U,A(U,ce,te,F),c()}let h;function v(){h||(h=a.listen((U,ce,te)=>{if(!Se.listening)return;const ee=E(U),Te=O(ee);if(Te){w(Ue(Te,{replace:!0,force:!0}),ee).catch(lr);return}S=ee;const P=b.value;Tn&&n3(h1(P.fullPath,te.delta),ys()),u(ee,P).catch(F=>R0(F,12)?F:R0(F,2)?(w(Ue(o(F.to),{force:!0}),ee).then(K=>{R0(K,20)&&!te.delta&&te.type===br.pop&&a.go(-1,!1)}).catch(lr),Promise.reject()):(te.delta&&a.go(-te.delta,!1),V(F,ee,P))).then(F=>{F=F||i(ee,P,!1),F&&(te.delta&&!R0(F,8)?a.go(-te.delta,!1):te.type===br.pop&&R0(F,20)&&a.go(-1,!1)),y(ee,P,F)}).catch(lr)}))}let R=Wn(),B=Wn(),G;function V(U,ce,te){c(U);const ee=B.list();return ee.length?ee.forEach(Te=>Te(U,ce,te)):console.error(U),Promise.reject(U)}function X(){return G&&b.value!==k0?Promise.resolve():new Promise((U,ce)=>{R.add([U,ce])})}function c(U){return G||(G=!U,v(),R.list().forEach(([ce,te])=>U?te(U):ce()),R.reset()),U}function A(U,ce,te,ee){const{scrollBehavior:Te}=e;if(!Tn||!Te)return Promise.resolve();const P=!te&&r3(h1(U.fullPath,0))||(ee||!te)&&history.state&&history.state.scroll||null;return Na().then(()=>Te(U,ce,P)).then(F=>F&&t3(F)).catch(F=>V(F,U,ce))}const q=U=>a.go(U);let j;const ve=new Set,Se={currentRoute:b,listening:!0,addRoute:I,removeRoute:C,clearRoutes:t.clearRoutes,hasRoute:N,getRoutes:Y,resolve:E,options:e,push:T,replace:x,go:q,back:()=>q(-1),forward:()=>q(1),beforeEach:l.add,beforeResolve:f.add,afterEach:d.add,onError:B.add,isReady:X,install(U){const ce=this;U.component("RouterLink",B3),U.component("RouterView",L3),U.config.globalProperties.$router=ce,Object.defineProperty(U.config.globalProperties,"$route",{enumerable:!0,get:()=>Qe(b)}),Tn&&!j&&b.value===k0&&(j=!0,T(a.location).catch(Te=>{}));const te={};for(const Te in k0)Object.defineProperty(te,Te,{get:()=>b.value[Te],enumerable:!0});U.provide(Ka,ce),U.provide(go,el(te)),U.provide(Ra,b);const ee=U.unmount;ve.add(U),U.unmount=function(){ve.delete(U),ve.size<1&&(S=k0,h&&h(),h=null,b.value=k0,j=!1,G=!1),ee()}}};function me(U){return U.reduce((ce,te)=>ce.then(()=>p(te)),Promise.resolve())}return Se}function N3(e,t){const n=[],r=[],a=[],l=Math.max(t.matched.length,e.matched.length);for(let f=0;f<l;f++){const d=t.matched[f];d&&(e.matched.find(S=>Ln(S,d))?r.push(d):n.push(d));const b=e.matched[f];b&&(t.matched.find(S=>Ln(S,b))||a.push(b))}return[n,r,a]}const H3={class:"recording-container"},V3={class:"recording-status"},k3={class:"recording-time"},F3={class:"level-bar"},P3={class:"source-toggle"},$3={class:"audio-controls"},D3={class:"switch"},X3=["checked"],q3={class:"switch"},G3=["checked"],Y3={class:"switch"},U3=["checked"],j3={class:"gain-row"},K3=["value"],W3={class:"gain-val"},z3={class:"recording-control"},Z3=["disabled"],Q3={class:"btn-icon"},J3={key:0},e4={key:1},t4={key:2},n4={class:"btn-text"},r4={key:0},s4={key:1},a4={key:2},i4={__name:"RecorderView",setup(e){const t=Da(),n=new jl,r=gt(!1),a=gt(null),l=gt(0),f=gt(null);let d=null;function b(Y){t.updateSettings({inputSource:Y})}function S(Y,N){t.updateSettings({[Y]:N})}cs(async()=>{await t.loadFromStorage()}),us(()=>{C()});async function M(){var Y;if(!r.value)try{if(r.value=!0,!t.isRecording)await n.startRecording(((Y=t.settings)==null?void 0:Y.inputSource)||"mix"),t.setRecordingState(!0,!1),_(),n.onLevel(N=>l.value=N),H();else if(t.isPaused)await n.resumeRecording(),t.setRecordingState(!0,!1);else{const N=await n.stopRecording();t.setRecordingState(!1,!1),t.resetRecordingTime();const E=new CustomEvent("record-stopped",{detail:N});window.dispatchEvent(E)}}finally{r.value=!1}}function _(){a.value&&clearInterval(a.value),a.value=setInterval(()=>{t.isPaused||t.updateRecordingTime(t.recordingTime+1)},1e3)}function H(){I();const Y=f.value;if(!Y||!n.analyser)return;const N=Y.getContext("2d"),E=n.analyser,o=E.frequencyBinCount,s=new Uint8Array(o),T=32,x=3,O=()=>{E.getByteFrequencyData(s),N.clearRect(0,0,Y.width,Y.height);const w=(Y.width-(T-1)*x)/T;for(let m=0;m<T;m++){const p=Math.floor(m*(o/T)),u=s[p]/255,y=Math.max(2,u*Y.height),i=m*(w+x),h=Y.height-y,v=N.createLinearGradient(0,h,0,Y.height);v.addColorStop(0,"#55efc4"),v.addColorStop(1,"#ff7675"),N.fillStyle=v,N.fillRect(i,h,w,y)}d=requestAnimationFrame(O)};d=requestAnimationFrame(O)}function I(){d&&(cancelAnimationFrame(d),d=null)}function C(){I(),n.cleanup()}return(Y,N)=>(xt(),wt("div",H3,[Ce("div",V3,[Ce("div",k3,dn(Qe(t).formattedRecordingTime),1),Ce("div",F3,[Ce("span",{style:ss({width:Math.round(l.value*100)+"%"})},null,4)]),Ce("canvas",{ref_key:"vizCanvas",ref:f,class:"level-visualizer",width:"260",height:"48"},null,512)]),Ce("div",P3,[Ce("button",{class:w0(["toggle-btn",{active:Qe(t).settings.inputSource==="mic"}]),onClick:N[0]||(N[0]=E=>b("mic"))},"仅麦克风",2),Ce("button",{class:w0(["toggle-btn",{active:Qe(t).settings.inputSource==="mix"}]),onClick:N[1]||(N[1]=E=>b("mix"))},"混音",2),Ce("button",{class:w0(["toggle-btn",{active:Qe(t).settings.inputSource==="tab"}]),onClick:N[2]||(N[2]=E=>b("tab"))},"仅标签页",2)]),Ce("div",$3,[Ce("label",D3,[Ce("input",{type:"checkbox",checked:Qe(t).settings.echoCancellation,onChange:N[3]||(N[3]=E=>S("echoCancellation",E.target.checked))},null,40,X3),N[7]||(N[7]=Ce("span",null,"回声消除",-1))]),Ce("label",q3,[Ce("input",{type:"checkbox",checked:Qe(t).settings.noiseSuppression,onChange:N[4]||(N[4]=E=>S("noiseSuppression",E.target.checked))},null,40,G3),N[8]||(N[8]=Ce("span",null,"降噪",-1))]),Ce("label",Y3,[Ce("input",{type:"checkbox",checked:Qe(t).settings.autoGainControl,onChange:N[5]||(N[5]=E=>S("autoGainControl",E.target.checked))},null,40,U3),N[9]||(N[9]=Ce("span",null,"自动增益",-1))])]),Ce("div",j3,[N[10]||(N[10]=Ce("span",null,"输入增益",-1)),Ce("input",{class:"gain",type:"range",min:"0",max:"3",step:"0.1",value:Qe(t).settings.gain,onInput:N[6]||(N[6]=E=>S("gain",Number(E.target.value)))},null,40,K3),Ce("span",W3,dn(Qe(t).settings.gain.toFixed(1))+"x",1)]),Ce("div",z3,[Ce("button",{onClick:M,disabled:r.value,class:w0(["record-btn",{recording:Qe(t).isRecording&&!Qe(t).isPaused,paused:Qe(t).isPaused}])},[Ce("span",Q3,[Qe(t).isRecording?Qe(t).isPaused?(xt(),wt("span",e4,"▶️")):(xt(),wt("span",t4,"⏹️")):(xt(),wt("span",J3,"🎤"))]),Ce("span",n4,[Qe(t).isRecording?Qe(t).isPaused?(xt(),wt("span",s4,"继续录音")):(xt(),wt("span",a4,"停止录音")):(xt(),wt("span",r4,"开始录音"))])],10,Z3)])]))}},l4={class:"list-section"},o4={key:0,class:"list-title"},c4={key:1,class:"recordings"},u4={class:"rec-left"},f4={class:"rec-info"},_4=["title"],h4={class:"rec-meta"},d4={key:0,class:"dot"},v4={key:1},m4={class:"rec-actions"},p4=["onClick"],b4=["onClick"],S4=["onClick"],y4={__name:"ListView",setup(e){const t=Da();function n(C){const Y=Number(C||0);return Y<1024?`${Y} B`:Y<1024*1024?`${(Y/1024).toFixed(1)} KB`:`${(Y/1024/1024).toFixed(2)} MB`}function r(C){try{return new Date(C).toLocaleString("zh-CN")}catch{return""}}function a(C){return(C||"录音").replace(/[^\w\u4e00-\u9fa5\-_. ]+/g,"_")}function l(C){return`recordings/${C}`}function f(C,Y){var N;if(typeof chrome<"u"&&((N=chrome==null?void 0:chrome.downloads)!=null&&N.download))chrome.downloads.download({url:C,filename:l(Y),saveAs:!0},()=>{});else{const E=document.createElement("a");E.href=C,E.download=Y,document.body.appendChild(E),E.click(),setTimeout(()=>document.body.removeChild(E),0)}}function d(C){const Y=C.audioUrl||(C.audioBlob?URL.createObjectURL(C.audioBlob):"");Y&&f(Y,`${a(C.name)}.webm`)}async function b(C){if(!C.audioBlob)return d(C);const Y=await C.audioBlob.arrayBuffer(),E=await new(window.AudioContext||window.webkitAudioContext)().decodeAudioData(Y),o=_(E),s=URL.createObjectURL(o);f(s,`${a(C.name)}.wav`)}async function S(C){if(!C.audioBlob)return d(C);const Y=await C.audioBlob.arrayBuffer(),E=await new(window.AudioContext||window.webkitAudioContext)().decodeAudioData(Y),o=H(E),s=URL.createObjectURL(o);f(s,`${a(C.name)}.mp3`)}function M(C){const Y=C.numberOfChannels,N=C.length*Y,E=new Float32Array(N);for(let o=0;o<Y;o++){const s=C.getChannelData(o);for(let T=0;T<C.length;T++)E[T*Y+o]=s[T]}return E}function _(C){const Y=C.numberOfChannels,N=C.sampleRate,E=M(C),o=2,s=Y*o,T=new ArrayBuffer(44+E.length*o),x=new DataView(T),O=(m,p,u)=>{for(let y=0;y<u.length;y++)m.setUint8(p+y,u.charCodeAt(y))};O(x,0,"RIFF"),x.setUint32(4,36+E.length*o,!0),O(x,8,"WAVE"),O(x,12,"fmt "),x.setUint32(16,16,!0),x.setUint16(20,1,!0),x.setUint16(22,Y,!0),x.setUint32(24,N,!0),x.setUint32(28,N*s,!0),x.setUint16(32,s,!0),x.setUint16(34,o*8,!0),O(x,36,"data"),x.setUint32(40,E.length*o,!0);let w=44;for(let m=0;m<E.length;m++,w+=2){let p=Math.max(-1,Math.min(1,E[m]));x.setInt16(w,p<0?p*32768:p*32767,!0)}return new Blob([x],{type:"audio/wav"})}function H(C){const Y=C.numberOfChannels,N=C.sampleRate,E=new Xa.Mp3Encoder(Y,N,128),o=C.getChannelData(0),s=Y>1?C.getChannelData(1):o,T=1152;let x=[];for(let w=0;w<o.length;w+=T){const m=I(o.subarray(w,w+T)),p=I(s.subarray(w,w+T)),u=E.encodeBuffer(m,p);u.length>0&&x.push(new Int8Array(u))}const O=E.flush();return O.length>0&&x.push(new Int8Array(O)),new Blob(x,{type:"audio/mpeg"})}function I(C){const Y=new Int16Array(C.length);for(let N=0;N<C.length;N++){let E=Math.max(-1,Math.min(1,C[N]));Y[N]=E<0?E*32768:E*32767}return Y}return(C,Y)=>(xt(),wt("section",l4,[Qe(t).totalRecordings>0?(xt(),wt("h3",o4,"我的录音")):Zn("",!0),Qe(t).totalRecordings>0?(xt(),wt("div",c4,[(xt(!0),wt(r0,null,Xc(Qe(t).recordings,N=>(xt(),wt("div",{key:N.id,class:"record-item"},[Ce("div",u4,[Y[1]||(Y[1]=Ce("div",{class:"rec-avatar"},"🎧",-1)),Ce("div",f4,[Ce("div",{class:"rec-name",title:N.name},dn(N.name),9,_4),Ce("div",h4,[Ce("span",null,dn(r(N.createdAt)),1),Y[0]||(Y[0]=Ce("span",{class:"dot"},"•",-1)),Ce("span",null,dn(n(N.size)),1),N.duration?(xt(),wt("span",d4,"•")):Zn("",!0),N.duration?(xt(),wt("span",v4,dn(N.duration)+"s",1)):Zn("",!0)])])]),Ce("div",m4,[Ce("button",{class:"pill pill-webm",title:"下载原始WEBM",onClick:E=>d(N)},"WEBM",8,p4),Ce("button",{class:"pill pill-wav",title:"下载WAV无损",onClick:E=>b(N)},"WAV",8,b4),Ce("button",{class:"pill pill-mp3",title:"下载MP3压缩",onClick:E=>S(N)},"MP3",8,S4)])]))),128))])):Zn("",!0)]))}};console.log("Vue应用初始化开始...");const R4=[{path:"/",redirect:"/record"},{path:"/record",component:i4},{path:"/list",component:y4}],Bn=O3({history:o3(),routes:R4}),Wa=vu(I_),x4=bu();Wa.use(x4);Wa.use(Bn);try{Wa.mount("#app"),console.log("Vue应用挂载成功！"),Bn.isReady().then(async()=>{var e;try{const t=Bn.currentRoute.value.path;if(typeof chrome<"u"&&((e=chrome==null?void 0:chrome.storage)!=null&&e.local)){const{lastRoute:n}=await chrome.storage.local.get(["lastRoute"]);(t==="/"||t==="/record")&&n&&n!==t&&Bn.replace(n).catch(()=>{})}else{const n=localStorage.getItem("lastRoute");(t==="/"||t==="/record")&&n&&n!==t&&Bn.replace(n).catch(()=>{})}}catch(t){console.warn("恢复路由失败:",t)}}),Bn.afterEach(async e=>{var t;try{typeof chrome<"u"&&((t=chrome==null?void 0:chrome.storage)!=null&&t.local)?await chrome.storage.local.set({lastRoute:e.path}):localStorage.setItem("lastRoute",e.path)}catch(n){console.warn("保存路由失败:",n)}})}catch(e){console.error("Vue应用挂载失败:",e)}console.log("检查#app元素:",document.getElementById("app"));console.log("当前页面URL:",window.location.href);
