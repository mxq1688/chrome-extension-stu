(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const f of o.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();/**
* @vue/shared v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function xa(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const We={},Bn=[],p0=()=>{},C1=()=>!1,Jr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Ra=e=>e.startsWith("onUpdate:"),bt=Object.assign,Aa=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Hl=Object.prototype.hasOwnProperty,je=(e,t)=>Hl.call(e,t),Ne=Array.isArray,Cn=e=>es(e)==="[object Map]",g1=e=>es(e)==="[object Set]",Pe=e=>typeof e=="function",ht=e=>typeof e=="string",j0=e=>typeof e=="symbol",Je=e=>e!==null&&typeof e=="object",I1=e=>(Je(e)||Pe(e))&&Pe(e.then)&&Pe(e.catch),L1=Object.prototype.toString,es=e=>L1.call(e),kl=e=>es(e).slice(8,-1),O1=e=>es(e)==="[object Object]",Ea=e=>ht(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Zn=xa(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ts=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Vl=/-\w/g,Jt=ts(e=>e.replace(Vl,t=>t.slice(1).toUpperCase())),Fl=/\B([A-Z])/g,K0=ts(e=>e.replace(Fl,"-$1").toLowerCase()),ns=ts(e=>e.charAt(0).toUpperCase()+e.slice(1)),Cs=ts(e=>e?`on${ns(e)}`:""),q0=(e,t)=>!Object.is(e,t),Vr=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},N1=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},sa=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Pl=e=>{const t=ht(e)?Number(e):NaN;return isNaN(t)?e:t};let ri;const rs=()=>ri||(ri=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ss(e){if(Ne(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],a=ht(r)?ql(r):ss(r);if(a)for(const o in a)t[o]=a[o]}return t}else if(ht(e)||Je(e))return e}const $l=/;(?![^(]*\))/g,Dl=/:([^]+)/,Xl=/\/\*[^]*?\*\//g;function ql(e){const t={};return e.replace(Xl,"").split($l).forEach(n=>{if(n){const r=n.split(Dl);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function m0(e){let t="";if(ht(e))t=e;else if(Ne(e))for(let n=0;n<e.length;n++){const r=m0(e[n]);r&&(t+=r+" ")}else if(Je(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Gl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Yl=xa(Gl);function H1(e){return!!e||e===""}const k1=e=>!!(e&&e.__v_isRef===!0),M0=e=>ht(e)?e:e==null?"":Ne(e)||Je(e)&&(e.toString===L1||!Pe(e.toString))?k1(e)?M0(e.value):JSON.stringify(e,V1,2):String(e),V1=(e,t)=>k1(t)?V1(e,t.value):Cn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,a],o)=>(n[gs(r,o)+" =>"]=a,n),{})}:g1(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>gs(n))}:j0(t)?gs(t):Je(t)&&!Ne(t)&&!O1(t)?String(t):t,gs=(e,t="")=>{var n;return j0(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let wt;class F1{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=wt,!t&&wt&&(this.index=(wt.scopes||(wt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=wt;try{return wt=this,t()}finally{wt=n}}}on(){++this._on===1&&(this.prevScope=wt,wt=this)}off(){this._on>0&&--this._on===0&&(wt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function P1(e){return new F1(e)}function $1(){return wt}function Ul(e,t=!1){wt&&wt.cleanups.push(e)}let Ze;const Is=new WeakSet;class D1{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,wt&&wt.active&&wt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Is.has(this)&&(Is.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||q1(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,si(this),G1(this);const t=Ze,n=a0;Ze=this,a0=!0;try{return this.fn()}finally{Y1(this),Ze=t,a0=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Ta(t);this.deps=this.depsTail=void 0,si(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Is.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){aa(this)&&this.run()}get dirty(){return aa(this)}}let X1=0,Qn,Jn;function q1(e,t=!1){if(e.flags|=8,t){e.next=Jn,Jn=e;return}e.next=Qn,Qn=e}function Ma(){X1++}function wa(){if(--X1>0)return;if(Jn){let t=Jn;for(Jn=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Qn;){let t=Qn;for(Qn=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function G1(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Y1(e){let t,n=e.depsTail,r=n;for(;r;){const a=r.prevDep;r.version===-1?(r===n&&(n=a),Ta(r),jl(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=a}e.deps=t,e.depsTail=n}function aa(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(U1(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function U1(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===lr)||(e.globalVersion=lr,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!aa(e))))return;e.flags|=2;const t=e.dep,n=Ze,r=a0;Ze=e,a0=!0;try{G1(e);const a=e.fn(e._value);(t.version===0||q0(a,e._value))&&(e.flags|=128,e._value=a,t.version++)}catch(a){throw t.version++,a}finally{Ze=n,a0=r,Y1(e),e.flags&=-3}}function Ta(e,t=!1){const{dep:n,prevSub:r,nextSub:a}=e;if(r&&(r.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)Ta(o,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function jl(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let a0=!0;const j1=[];function g0(){j1.push(a0),a0=!1}function I0(){const e=j1.pop();a0=e===void 0?!0:e}function si(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Ze;Ze=void 0;try{t()}finally{Ze=n}}}let lr=0;class Kl{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ba{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Ze||!a0||Ze===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ze)n=this.activeLink=new Kl(Ze,this),Ze.deps?(n.prevDep=Ze.depsTail,Ze.depsTail.nextDep=n,Ze.depsTail=n):Ze.deps=Ze.depsTail=n,K1(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Ze.depsTail,n.nextDep=void 0,Ze.depsTail.nextDep=n,Ze.depsTail=n,Ze.deps===n&&(Ze.deps=r)}return n}trigger(t){this.version++,lr++,this.notify(t)}notify(t){Ma();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{wa()}}}function K1(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)K1(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Xr=new WeakMap,vn=Symbol(""),ia=Symbol(""),cr=Symbol("");function Bt(e,t,n){if(a0&&Ze){let r=Xr.get(e);r||Xr.set(e,r=new Map);let a=r.get(n);a||(r.set(n,a=new Ba),a.map=r,a.key=n),a.track()}}function w0(e,t,n,r,a,o){const f=Xr.get(e);if(!f){lr++;return}const m=S=>{S&&S.trigger()};if(Ma(),t==="clear")f.forEach(m);else{const S=Ne(e),R=S&&Ea(n);if(S&&n==="length"){const E=Number(r);f.forEach((_,N)=>{(N==="length"||N===cr||!j0(N)&&N>=E)&&m(_)})}else switch((n!==void 0||f.has(void 0))&&m(f.get(n)),R&&m(f.get(cr)),t){case"add":S?R&&m(f.get("length")):(m(f.get(vn)),Cn(e)&&m(f.get(ia)));break;case"delete":S||(m(f.get(vn)),Cn(e)&&m(f.get(ia)));break;case"set":Cn(e)&&m(f.get(vn));break}}wa()}function Wl(e,t){const n=Xr.get(e);return n&&n.get(t)}function Sn(e){const t=Ye(e);return t===e?t:(Bt(t,"iterate",cr),Qt(e)?t:t.map(Et))}function as(e){return Bt(e=Ye(e),"iterate",cr),e}const zl={__proto__:null,[Symbol.iterator](){return Ls(this,Symbol.iterator,Et)},concat(...e){return Sn(this).concat(...e.map(t=>Ne(t)?Sn(t):t))},entries(){return Ls(this,"entries",e=>(e[1]=Et(e[1]),e))},every(e,t){return S0(this,"every",e,t,void 0,arguments)},filter(e,t){return S0(this,"filter",e,t,n=>n.map(Et),arguments)},find(e,t){return S0(this,"find",e,t,Et,arguments)},findIndex(e,t){return S0(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return S0(this,"findLast",e,t,Et,arguments)},findLastIndex(e,t){return S0(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return S0(this,"forEach",e,t,void 0,arguments)},includes(...e){return Os(this,"includes",e)},indexOf(...e){return Os(this,"indexOf",e)},join(e){return Sn(this).join(e)},lastIndexOf(...e){return Os(this,"lastIndexOf",e)},map(e,t){return S0(this,"map",e,t,void 0,arguments)},pop(){return qn(this,"pop")},push(...e){return qn(this,"push",e)},reduce(e,...t){return ai(this,"reduce",e,t)},reduceRight(e,...t){return ai(this,"reduceRight",e,t)},shift(){return qn(this,"shift")},some(e,t){return S0(this,"some",e,t,void 0,arguments)},splice(...e){return qn(this,"splice",e)},toReversed(){return Sn(this).toReversed()},toSorted(e){return Sn(this).toSorted(e)},toSpliced(...e){return Sn(this).toSpliced(...e)},unshift(...e){return qn(this,"unshift",e)},values(){return Ls(this,"values",Et)}};function Ls(e,t,n){const r=as(e),a=r[t]();return r!==e&&!Qt(e)&&(a._next=a.next,a.next=()=>{const o=a._next();return o.value&&(o.value=n(o.value)),o}),a}const Zl=Array.prototype;function S0(e,t,n,r,a,o){const f=as(e),m=f!==e&&!Qt(e),S=f[t];if(S!==Zl[t]){const _=S.apply(e,o);return m?Et(_):_}let R=n;f!==e&&(m?R=function(_,N){return n.call(this,Et(_),N,e)}:n.length>2&&(R=function(_,N){return n.call(this,_,N,e)}));const E=S.call(f,R,r);return m&&a?a(E):E}function ai(e,t,n,r){const a=as(e);let o=n;return a!==e&&(Qt(e)?n.length>3&&(o=function(f,m,S){return n.call(this,f,m,S,e)}):o=function(f,m,S){return n.call(this,f,Et(m),S,e)}),a[t](o,...r)}function Os(e,t,n){const r=Ye(e);Bt(r,"iterate",cr);const a=r[t](...n);return(a===-1||a===!1)&&Ia(n[0])?(n[0]=Ye(n[0]),r[t](...n)):a}function qn(e,t,n=[]){g0(),Ma();const r=Ye(e)[t].apply(e,n);return wa(),I0(),r}const Ql=xa("__proto__,__v_isRef,__isVue"),W1=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(j0));function Jl(e){j0(e)||(e=String(e));const t=Ye(this);return Bt(t,"has",e),t.hasOwnProperty(e)}class z1{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const a=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!a;if(n==="__v_isReadonly")return a;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(a?o?cc:eo:o?J1:Q1).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const f=Ne(t);if(!a){let S;if(f&&(S=zl[n]))return S;if(n==="hasOwnProperty")return Jl}const m=Reflect.get(t,n,_t(t)?t:r);return(j0(n)?W1.has(n):Ql(n))||(a||Bt(t,"get",n),o)?m:_t(m)?f&&Ea(n)?m:m.value:Je(m)?a?no(m):br(m):m}}class Z1 extends z1{constructor(t=!1){super(!1,t)}set(t,n,r,a){let o=t[n];if(!this._isShallow){const S=Y0(o);if(!Qt(r)&&!Y0(r)&&(o=Ye(o),r=Ye(r)),!Ne(t)&&_t(o)&&!_t(r))return S||(o.value=r),!0}const f=Ne(t)&&Ea(n)?Number(n)<t.length:je(t,n),m=Reflect.set(t,n,r,_t(t)?t:a);return t===Ye(a)&&(f?q0(r,o)&&w0(t,"set",n,r):w0(t,"add",n,r)),m}deleteProperty(t,n){const r=je(t,n);t[n];const a=Reflect.deleteProperty(t,n);return a&&r&&w0(t,"delete",n,void 0),a}has(t,n){const r=Reflect.has(t,n);return(!j0(n)||!W1.has(n))&&Bt(t,"has",n),r}ownKeys(t){return Bt(t,"iterate",Ne(t)?"length":vn),Reflect.ownKeys(t)}}class ec extends z1{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const tc=new Z1,nc=new ec,rc=new Z1(!0);const oa=e=>e,Er=e=>Reflect.getPrototypeOf(e);function sc(e,t,n){return function(...r){const a=this.__v_raw,o=Ye(a),f=Cn(o),m=e==="entries"||e===Symbol.iterator&&f,S=e==="keys"&&f,R=a[e](...r),E=n?oa:t?qr:Et;return!t&&Bt(o,"iterate",S?ia:vn),{next(){const{value:_,done:N}=R.next();return N?{value:_,done:N}:{value:m?[E(_[0]),E(_[1])]:E(_),done:N}},[Symbol.iterator](){return this}}}}function Mr(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function ac(e,t){const n={get(a){const o=this.__v_raw,f=Ye(o),m=Ye(a);e||(q0(a,m)&&Bt(f,"get",a),Bt(f,"get",m));const{has:S}=Er(f),R=t?oa:e?qr:Et;if(S.call(f,a))return R(o.get(a));if(S.call(f,m))return R(o.get(m));o!==f&&o.get(a)},get size(){const a=this.__v_raw;return!e&&Bt(Ye(a),"iterate",vn),a.size},has(a){const o=this.__v_raw,f=Ye(o),m=Ye(a);return e||(q0(a,m)&&Bt(f,"has",a),Bt(f,"has",m)),a===m?o.has(a):o.has(a)||o.has(m)},forEach(a,o){const f=this,m=f.__v_raw,S=Ye(m),R=t?oa:e?qr:Et;return!e&&Bt(S,"iterate",vn),m.forEach((E,_)=>a.call(o,R(E),R(_),f))}};return bt(n,e?{add:Mr("add"),set:Mr("set"),delete:Mr("delete"),clear:Mr("clear")}:{add(a){!t&&!Qt(a)&&!Y0(a)&&(a=Ye(a));const o=Ye(this);return Er(o).has.call(o,a)||(o.add(a),w0(o,"add",a,a)),this},set(a,o){!t&&!Qt(o)&&!Y0(o)&&(o=Ye(o));const f=Ye(this),{has:m,get:S}=Er(f);let R=m.call(f,a);R||(a=Ye(a),R=m.call(f,a));const E=S.call(f,a);return f.set(a,o),R?q0(o,E)&&w0(f,"set",a,o):w0(f,"add",a,o),this},delete(a){const o=Ye(this),{has:f,get:m}=Er(o);let S=f.call(o,a);S||(a=Ye(a),S=f.call(o,a)),m&&m.call(o,a);const R=o.delete(a);return S&&w0(o,"delete",a,void 0),R},clear(){const a=Ye(this),o=a.size!==0,f=a.clear();return o&&w0(a,"clear",void 0,void 0),f}}),["keys","values","entries",Symbol.iterator].forEach(a=>{n[a]=sc(a,e,t)}),n}function Ca(e,t){const n=ac(e,t);return(r,a,o)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?r:Reflect.get(je(n,a)&&a in r?n:r,a,o)}const ic={get:Ca(!1,!1)},oc={get:Ca(!1,!0)},lc={get:Ca(!0,!1)};const Q1=new WeakMap,J1=new WeakMap,eo=new WeakMap,cc=new WeakMap;function uc(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function fc(e){return e.__v_skip||!Object.isExtensible(e)?0:uc(kl(e))}function br(e){return Y0(e)?e:ga(e,!1,tc,ic,Q1)}function to(e){return ga(e,!1,rc,oc,J1)}function no(e){return ga(e,!0,nc,lc,eo)}function ga(e,t,n,r,a){if(!Je(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=fc(e);if(o===0)return e;const f=a.get(e);if(f)return f;const m=new Proxy(e,o===2?r:n);return a.set(e,m),m}function G0(e){return Y0(e)?G0(e.__v_raw):!!(e&&e.__v_isReactive)}function Y0(e){return!!(e&&e.__v_isReadonly)}function Qt(e){return!!(e&&e.__v_isShallow)}function Ia(e){return e?!!e.__v_raw:!1}function Ye(e){const t=e&&e.__v_raw;return t?Ye(t):e}function La(e){return!je(e,"__v_skip")&&Object.isExtensible(e)&&N1(e,"__v_skip",!0),e}const Et=e=>Je(e)?br(e):e,qr=e=>Je(e)?no(e):e;function _t(e){return e?e.__v_isRef===!0:!1}function Rt(e){return ro(e,!1)}function _c(e){return ro(e,!0)}function ro(e,t){return _t(e)?e:new hc(e,t)}class hc{constructor(t,n){this.dep=new Ba,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Ye(t),this._value=n?t:Et(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Qt(t)||Y0(t);t=r?t:Ye(t),q0(t,n)&&(this._rawValue=t,this._value=r?t:Et(t),this.dep.trigger())}}function Qe(e){return _t(e)?e.value:e}const dc={get:(e,t,n)=>t==="__v_raw"?e:Qe(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const a=e[t];return _t(a)&&!_t(n)?(a.value=n,!0):Reflect.set(e,t,n,r)}};function so(e){return G0(e)?e:new Proxy(e,dc)}function vc(e){const t=Ne(e)?new Array(e.length):{};for(const n in e)t[n]=pc(e,n);return t}class mc{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Wl(Ye(this._object),this._key)}}function pc(e,t,n){const r=e[t];return _t(r)?r:new mc(e,t,n)}class bc{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Ba(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=lr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Ze!==this)return q1(this,!0),!0}get value(){const t=this.dep.track();return U1(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Sc(e,t,n=!1){let r,a;return Pe(e)?r=e:(r=e.get,a=e.set),new bc(r,a,n)}const wr={},Gr=new WeakMap;let hn;function yc(e,t=!1,n=hn){if(n){let r=Gr.get(n);r||Gr.set(n,r=[]),r.push(e)}}function xc(e,t,n=We){const{immediate:r,deep:a,once:o,scheduler:f,augmentJob:m,call:S}=n,R=B=>a?B:Qt(B)||a===!1||a===0?T0(B,1):T0(B);let E,_,N,g,O=!1,Y=!1;if(_t(e)?(_=()=>e.value,O=Qt(e)):G0(e)?(_=()=>R(e),O=!0):Ne(e)?(Y=!0,O=e.some(B=>G0(B)||Qt(B)),_=()=>e.map(B=>{if(_t(B))return B.value;if(G0(B))return R(B);if(Pe(B))return S?S(B,2):B()})):Pe(e)?t?_=S?()=>S(e,2):e:_=()=>{if(N){g0();try{N()}finally{I0()}}const B=hn;hn=E;try{return S?S(e,3,[g]):e(g)}finally{hn=B}}:_=p0,t&&a){const B=_,b=a===!0?1/0:a;_=()=>T0(B(),b)}const k=$1(),w=()=>{E.stop(),k&&k.active&&Aa(k.effects,E)};if(o&&t){const B=t;t=(...b)=>{B(...b),w()}}let l=Y?new Array(e.length).fill(wr):wr;const s=B=>{if(!(!(E.flags&1)||!E.dirty&&!B))if(t){const b=E.run();if(a||O||(Y?b.some((T,M)=>q0(T,l[M])):q0(b,l))){N&&N();const T=hn;hn=E;try{const M=[b,l===wr?void 0:Y&&l[0]===wr?[]:l,g];l=b,S?S(t,3,M):t(...M)}finally{hn=T}}}else E.run()};return m&&m(s),E=new D1(_),E.scheduler=f?()=>f(s,!1):s,g=B=>yc(B,!1,E),N=E.onStop=()=>{const B=Gr.get(E);if(B){if(S)S(B,4);else for(const b of B)b();Gr.delete(E)}},t?r?s(!0):l=E.run():f?f(s.bind(null,!0),!0):E.run(),w.pause=E.pause.bind(E),w.resume=E.resume.bind(E),w.stop=w,w}function T0(e,t=1/0,n){if(t<=0||!Je(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,_t(e))T0(e.value,t,n);else if(Ne(e))for(let r=0;r<e.length;r++)T0(e[r],t,n);else if(g1(e)||Cn(e))e.forEach(r=>{T0(r,t,n)});else if(O1(e)){for(const r in e)T0(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&T0(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Sr(e,t,n,r){try{return r?e(...r):e()}catch(a){is(a,t,n)}}function i0(e,t,n,r){if(Pe(e)){const a=Sr(e,t,n,r);return a&&I1(a)&&a.catch(o=>{is(o,t,n)}),a}if(Ne(e)){const a=[];for(let o=0;o<e.length;o++)a.push(i0(e[o],t,n,r));return a}}function is(e,t,n,r=!0){const a=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:f}=t&&t.appContext.config||We;if(t){let m=t.parent;const S=t.proxy,R=`https://vuejs.org/error-reference/#runtime-${n}`;for(;m;){const E=m.ec;if(E){for(let _=0;_<E.length;_++)if(E[_](e,S,R)===!1)return}m=m.parent}if(o){g0(),Sr(o,null,10,[e,S,R]),I0();return}}Rc(e,n,a,r,f)}function Rc(e,t,n,r=!0,a=!1){if(a)throw e;console.error(e)}const Lt=[];let d0=-1;const gn=[];let $0=null,Mn=0;const ao=Promise.resolve();let Yr=null;function Oa(e){const t=Yr||ao;return e?t.then(this?e.bind(this):e):t}function Ac(e){let t=d0+1,n=Lt.length;for(;t<n;){const r=t+n>>>1,a=Lt[r],o=ur(a);o<e||o===e&&a.flags&2?t=r+1:n=r}return t}function Na(e){if(!(e.flags&1)){const t=ur(e),n=Lt[Lt.length-1];!n||!(e.flags&2)&&t>=ur(n)?Lt.push(e):Lt.splice(Ac(t),0,e),e.flags|=1,io()}}function io(){Yr||(Yr=ao.then(lo))}function Ec(e){Ne(e)?gn.push(...e):$0&&e.id===-1?$0.splice(Mn+1,0,e):e.flags&1||(gn.push(e),e.flags|=1),io()}function ii(e,t,n=d0+1){for(;n<Lt.length;n++){const r=Lt[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Lt.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function oo(e){if(gn.length){const t=[...new Set(gn)].sort((n,r)=>ur(n)-ur(r));if(gn.length=0,$0){$0.push(...t);return}for($0=t,Mn=0;Mn<$0.length;Mn++){const n=$0[Mn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}$0=null,Mn=0}}const ur=e=>e.id==null?e.flags&2?-1:1/0:e.id;function lo(e){try{for(d0=0;d0<Lt.length;d0++){const t=Lt[d0];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Sr(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;d0<Lt.length;d0++){const t=Lt[d0];t&&(t.flags&=-2)}d0=-1,Lt.length=0,oo(),Yr=null,(Lt.length||gn.length)&&lo()}}let Gt=null,co=null;function Ur(e){const t=Gt;return Gt=e,co=e&&e.type.__scopeId||null,t}function uo(e,t=Gt,n){if(!t||e._n)return e;const r=(...a)=>{r._d&&Wr(-1);const o=Ur(t);let f;try{f=e(...a)}finally{Ur(o),r._d&&Wr(1)}return f};return r._n=!0,r._c=!0,r._d=!0,r}function Mc(e,t){if(Gt===null)return e;const n=hs(Gt),r=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[o,f,m,S=We]=t[a];o&&(Pe(o)&&(o={mounted:o,updated:o}),o.deep&&T0(f),r.push({dir:o,instance:n,value:f,oldValue:void 0,arg:m,modifiers:S}))}return e}function Z0(e,t,n,r){const a=e.dirs,o=t&&t.dirs;for(let f=0;f<a.length;f++){const m=a[f];o&&(m.oldValue=o[f].value);let S=m.dir[r];S&&(g0(),i0(S,n,8,[e.el,m,e,t]),I0())}}const wc=Symbol("_vte"),fo=e=>e.__isTeleport,E0=Symbol("_leaveCb"),Tr=Symbol("_enterCb");function Tc(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return cs(()=>{e.isMounted=!0}),xo(()=>{e.isUnmounting=!0}),e}const Kt=[Function,Array],_o={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Kt,onEnter:Kt,onAfterEnter:Kt,onEnterCancelled:Kt,onBeforeLeave:Kt,onLeave:Kt,onAfterLeave:Kt,onLeaveCancelled:Kt,onBeforeAppear:Kt,onAppear:Kt,onAfterAppear:Kt,onAppearCancelled:Kt},ho=e=>{const t=e.subTree;return t.component?ho(t.component):t},Bc={name:"BaseTransition",props:_o,setup(e,{slots:t}){const n=Pa(),r=Tc();return()=>{const a=t.default&&po(t.default(),!0);if(!a||!a.length)return;const o=vo(a),f=Ye(e),{mode:m}=f;if(r.isLeaving)return Ns(o);const S=oi(o);if(!S)return Ns(o);let R=la(S,f,r,n,_=>R=_);S.type!==Ot&&fr(S,R);let E=n.subTree&&oi(n.subTree);if(E&&E.type!==Ot&&!dn(E,S)&&ho(n).type!==Ot){let _=la(E,f,r,n);if(fr(E,_),m==="out-in"&&S.type!==Ot)return r.isLeaving=!0,_.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete _.afterLeave,E=void 0},Ns(o);m==="in-out"&&S.type!==Ot?_.delayLeave=(N,g,O)=>{const Y=mo(r,E);Y[String(E.key)]=E,N[E0]=()=>{g(),N[E0]=void 0,delete R.delayedLeave,E=void 0},R.delayedLeave=()=>{O(),delete R.delayedLeave,E=void 0}}:E=void 0}else E&&(E=void 0);return o}}};function vo(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==Ot){t=n;break}}return t}const Cc=Bc;function mo(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function la(e,t,n,r,a){const{appear:o,mode:f,persisted:m=!1,onBeforeEnter:S,onEnter:R,onAfterEnter:E,onEnterCancelled:_,onBeforeLeave:N,onLeave:g,onAfterLeave:O,onLeaveCancelled:Y,onBeforeAppear:k,onAppear:w,onAfterAppear:l,onAppearCancelled:s}=t,B=String(e.key),b=mo(n,e),T=(p,c)=>{p&&i0(p,r,9,c)},M=(p,c)=>{const y=c[1];T(p,c),Ne(p)?p.every(i=>i.length<=1)&&y():p.length<=1&&y()},d={mode:f,persisted:m,beforeEnter(p){let c=S;if(!n.isMounted)if(o)c=k||S;else return;p[E0]&&p[E0](!0);const y=b[B];y&&dn(e,y)&&y.el[E0]&&y.el[E0](),T(c,[p])},enter(p){let c=R,y=E,i=_;if(!n.isMounted)if(o)c=w||R,y=l||E,i=s||_;else return;let h=!1;const v=p[Tr]=x=>{h||(h=!0,x?T(i,[p]):T(y,[p]),d.delayedLeave&&d.delayedLeave(),p[Tr]=void 0)};c?M(c,[p,v]):v()},leave(p,c){const y=String(e.key);if(p[Tr]&&p[Tr](!0),n.isUnmounting)return c();T(N,[p]);let i=!1;const h=p[E0]=v=>{i||(i=!0,c(),v?T(Y,[p]):T(O,[p]),p[E0]=void 0,b[y]===e&&delete b[y])};b[y]=e,g?M(g,[p,h]):h()},clone(p){const c=la(p,t,n,r,a);return a&&a(c),c}};return d}function Ns(e){if(os(e))return e=U0(e),e.children=null,e}function oi(e){if(!os(e))return fo(e.type)&&e.children?vo(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&Pe(n.default))return n.default()}}function fr(e,t){e.shapeFlag&6&&e.component?(e.transition=t,fr(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function po(e,t=!1,n){let r=[],a=0;for(let o=0;o<e.length;o++){let f=e[o];const m=n==null?f.key:String(n)+String(f.key!=null?f.key:o);f.type===r0?(f.patchFlag&128&&a++,r=r.concat(po(f.children,t,m))):(t||f.type!==Ot)&&r.push(m!=null?U0(f,{key:m}):f)}if(a>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}function bo(e,t){return Pe(e)?bt({name:e.name},t,{setup:e}):e}function So(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const jr=new WeakMap;function er(e,t,n,r,a=!1){if(Ne(e)){e.forEach((O,Y)=>er(O,t&&(Ne(t)?t[Y]:t),n,r,a));return}if(tr(r)&&!a){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&er(e,t,n,r.component.subTree);return}const o=r.shapeFlag&4?hs(r.component):r.el,f=a?null:o,{i:m,r:S}=e,R=t&&t.r,E=m.refs===We?m.refs={}:m.refs,_=m.setupState,N=Ye(_),g=_===We?C1:O=>je(N,O);if(R!=null&&R!==S){if(li(t),ht(R))E[R]=null,g(R)&&(_[R]=null);else if(_t(R)){R.value=null;const O=t;O.k&&(E[O.k]=null)}}if(Pe(S))Sr(S,m,12,[f,E]);else{const O=ht(S),Y=_t(S);if(O||Y){const k=()=>{if(e.f){const w=O?g(S)?_[S]:E[S]:S.value;if(a)Ne(w)&&Aa(w,o);else if(Ne(w))w.includes(o)||w.push(o);else if(O)E[S]=[o],g(S)&&(_[S]=E[S]);else{const l=[o];S.value=l,e.k&&(E[e.k]=l)}}else O?(E[S]=f,g(S)&&(_[S]=f)):Y&&(S.value=f,e.k&&(E[e.k]=f))};if(f){const w=()=>{k(),jr.delete(e)};w.id=-1,jr.set(e,w),qt(w,n)}else li(e),k()}}}function li(e){const t=jr.get(e);t&&(t.flags|=8,jr.delete(e))}rs().requestIdleCallback;rs().cancelIdleCallback;const tr=e=>!!e.type.__asyncLoader,os=e=>e.type.__isKeepAlive;function gc(e,t){yo(e,"a",t)}function Ic(e,t){yo(e,"da",t)}function yo(e,t,n=Ct){const r=e.__wdc||(e.__wdc=()=>{let a=n;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(ls(t,r,n),n){let a=n.parent;for(;a&&a.parent;)os(a.parent.vnode)&&Lc(r,t,n,a),a=a.parent}}function Lc(e,t,n,r){const a=ls(t,e,r,!0);us(()=>{Aa(r[t],a)},n)}function ls(e,t,n=Ct,r=!1){if(n){const a=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...f)=>{g0();const m=yr(n),S=i0(t,n,e,f);return m(),I0(),S});return r?a.unshift(o):a.push(o),o}}const O0=e=>(t,n=Ct)=>{(!hr||e==="sp")&&ls(e,(...r)=>t(...r),n)},Oc=O0("bm"),cs=O0("m"),Nc=O0("bu"),Hc=O0("u"),xo=O0("bum"),us=O0("um"),kc=O0("sp"),Vc=O0("rtg"),Fc=O0("rtc");function Pc(e,t=Ct){ls("ec",e,t)}const $c="components";function Dc(e,t){return qc($c,e,!0,t)||e}const Xc=Symbol.for("v-ndc");function qc(e,t,n=!0,r=!1){const a=Gt||Ct;if(a){const o=a.type;{const m=H2(o,!1);if(m&&(m===t||m===Jt(t)||m===ns(Jt(t))))return o}const f=ci(a[e]||o[e],t)||ci(a.appContext[e],t);return!f&&r?o:f}}function ci(e,t){return e&&(e[t]||e[Jt(t)]||e[ns(Jt(t))])}function Gc(e,t,n,r){let a;const o=n,f=Ne(e);if(f||ht(e)){const m=f&&G0(e);let S=!1,R=!1;m&&(S=!Qt(e),R=Y0(e),e=as(e)),a=new Array(e.length);for(let E=0,_=e.length;E<_;E++)a[E]=t(S?R?qr(Et(e[E])):Et(e[E]):e[E],E,void 0,o)}else if(typeof e=="number"){a=new Array(e);for(let m=0;m<e;m++)a[m]=t(m+1,m,void 0,o)}else if(Je(e))if(e[Symbol.iterator])a=Array.from(e,(m,S)=>t(m,S,void 0,o));else{const m=Object.keys(e);a=new Array(m.length);for(let S=0,R=m.length;S<R;S++){const E=m[S];a[S]=t(e[E],E,S,o)}}else a=[];return a}const ca=e=>e?Do(e)?hs(e):ca(e.parent):null,nr=bt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ca(e.parent),$root:e=>ca(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Ao(e),$forceUpdate:e=>e.f||(e.f=()=>{Na(e.update)}),$nextTick:e=>e.n||(e.n=Oa.bind(e.proxy)),$watch:e=>_2.bind(e)}),Hs=(e,t)=>e!==We&&!e.__isScriptSetup&&je(e,t),Yc={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:a,props:o,accessCache:f,type:m,appContext:S}=e;let R;if(t[0]!=="$"){const g=f[t];if(g!==void 0)switch(g){case 1:return r[t];case 2:return a[t];case 4:return n[t];case 3:return o[t]}else{if(Hs(r,t))return f[t]=1,r[t];if(a!==We&&je(a,t))return f[t]=2,a[t];if((R=e.propsOptions[0])&&je(R,t))return f[t]=3,o[t];if(n!==We&&je(n,t))return f[t]=4,n[t];ua&&(f[t]=0)}}const E=nr[t];let _,N;if(E)return t==="$attrs"&&Bt(e.attrs,"get",""),E(e);if((_=m.__cssModules)&&(_=_[t]))return _;if(n!==We&&je(n,t))return f[t]=4,n[t];if(N=S.config.globalProperties,je(N,t))return N[t]},set({_:e},t,n){const{data:r,setupState:a,ctx:o}=e;return Hs(a,t)?(a[t]=n,!0):r!==We&&je(r,t)?(r[t]=n,!0):je(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:a,propsOptions:o,type:f}},m){let S,R;return!!(n[m]||e!==We&&m[0]!=="$"&&je(e,m)||Hs(t,m)||(S=o[0])&&je(S,m)||je(r,m)||je(nr,m)||je(a.config.globalProperties,m)||(R=f.__cssModules)&&R[m])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:je(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function ui(e){return Ne(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let ua=!0;function Uc(e){const t=Ao(e),n=e.proxy,r=e.ctx;ua=!1,t.beforeCreate&&fi(t.beforeCreate,e,"bc");const{data:a,computed:o,methods:f,watch:m,provide:S,inject:R,created:E,beforeMount:_,mounted:N,beforeUpdate:g,updated:O,activated:Y,deactivated:k,beforeDestroy:w,beforeUnmount:l,destroyed:s,unmounted:B,render:b,renderTracked:T,renderTriggered:M,errorCaptured:d,serverPrefetch:p,expose:c,inheritAttrs:y,components:i,directives:h,filters:v}=t;if(R&&jc(R,r,null),f)for(const q in f){const H=f[q];Pe(H)&&(r[q]=H.bind(n))}if(a){const q=a.call(n,n);Je(q)&&(e.data=br(q))}if(ua=!0,o)for(const q in o){const H=o[q],X=Pe(H)?H.bind(n,n):Pe(H.get)?H.get.bind(n,n):p0,u=!Pe(H)&&Pe(H.set)?H.set.bind(n):p0,A=Zt({get:X,set:u});Object.defineProperty(r,q,{enumerable:!0,configurable:!0,get:()=>A.value,set:G=>A.value=G})}if(m)for(const q in m)Ro(m[q],r,n,q);if(S){const q=Pe(S)?S.call(n):S;Reflect.ownKeys(q).forEach(H=>{Fr(H,q[H])})}E&&fi(E,e,"c");function C(q,H){Ne(H)?H.forEach(X=>q(X.bind(n))):H&&q(H.bind(n))}if(C(Oc,_),C(cs,N),C(Nc,g),C(Hc,O),C(gc,Y),C(Ic,k),C(Pc,d),C(Fc,T),C(Vc,M),C(xo,l),C(us,B),C(kc,p),Ne(c))if(c.length){const q=e.exposed||(e.exposed={});c.forEach(H=>{Object.defineProperty(q,H,{get:()=>n[H],set:X=>n[H]=X,enumerable:!0})})}else e.exposed||(e.exposed={});b&&e.render===p0&&(e.render=b),y!=null&&(e.inheritAttrs=y),i&&(e.components=i),h&&(e.directives=h),p&&So(e)}function jc(e,t,n=p0){Ne(e)&&(e=fa(e));for(const r in e){const a=e[r];let o;Je(a)?"default"in a?o=b0(a.from||r,a.default,!0):o=b0(a.from||r):o=b0(a),_t(o)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:f=>o.value=f}):t[r]=o}}function fi(e,t,n){i0(Ne(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Ro(e,t,n,r){let a=r.includes(".")?ko(n,r):()=>n[r];if(ht(e)){const o=t[e];Pe(o)&&rr(a,o)}else if(Pe(e))rr(a,e.bind(n));else if(Je(e))if(Ne(e))e.forEach(o=>Ro(o,t,n,r));else{const o=Pe(e.handler)?e.handler.bind(n):t[e.handler];Pe(o)&&rr(a,o,e)}}function Ao(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:a,optionsCache:o,config:{optionMergeStrategies:f}}=e.appContext,m=o.get(t);let S;return m?S=m:!a.length&&!n&&!r?S=t:(S={},a.length&&a.forEach(R=>Kr(S,R,f,!0)),Kr(S,t,f)),Je(t)&&o.set(t,S),S}function Kr(e,t,n,r=!1){const{mixins:a,extends:o}=t;o&&Kr(e,o,n,!0),a&&a.forEach(f=>Kr(e,f,n,!0));for(const f in t)if(!(r&&f==="expose")){const m=Kc[f]||n&&n[f];e[f]=m?m(e[f],t[f]):t[f]}return e}const Kc={data:_i,props:hi,emits:hi,methods:zn,computed:zn,beforeCreate:It,created:It,beforeMount:It,mounted:It,beforeUpdate:It,updated:It,beforeDestroy:It,beforeUnmount:It,destroyed:It,unmounted:It,activated:It,deactivated:It,errorCaptured:It,serverPrefetch:It,components:zn,directives:zn,watch:zc,provide:_i,inject:Wc};function _i(e,t){return t?e?function(){return bt(Pe(e)?e.call(this,this):e,Pe(t)?t.call(this,this):t)}:t:e}function Wc(e,t){return zn(fa(e),fa(t))}function fa(e){if(Ne(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function It(e,t){return e?[...new Set([].concat(e,t))]:t}function zn(e,t){return e?bt(Object.create(null),e,t):t}function hi(e,t){return e?Ne(e)&&Ne(t)?[...new Set([...e,...t])]:bt(Object.create(null),ui(e),ui(t??{})):t}function zc(e,t){if(!e)return t;if(!t)return e;const n=bt(Object.create(null),e);for(const r in t)n[r]=It(e[r],t[r]);return n}function Eo(){return{app:null,config:{isNativeTag:C1,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Zc=0;function Qc(e,t){return function(r,a=null){Pe(r)||(r=bt({},r)),a!=null&&!Je(a)&&(a=null);const o=Eo(),f=new WeakSet,m=[];let S=!1;const R=o.app={_uid:Zc++,_component:r,_props:a,_container:null,_context:o,_instance:null,version:V2,get config(){return o.config},set config(E){},use(E,..._){return f.has(E)||(E&&Pe(E.install)?(f.add(E),E.install(R,..._)):Pe(E)&&(f.add(E),E(R,..._))),R},mixin(E){return o.mixins.includes(E)||o.mixins.push(E),R},component(E,_){return _?(o.components[E]=_,R):o.components[E]},directive(E,_){return _?(o.directives[E]=_,R):o.directives[E]},mount(E,_,N){if(!S){const g=R._ceVNode||Ut(r,a);return g.appContext=o,N===!0?N="svg":N===!1&&(N=void 0),e(g,E,N),S=!0,R._container=E,E.__vue_app__=R,hs(g.component)}},onUnmount(E){m.push(E)},unmount(){S&&(i0(m,R._instance,16),e(null,R._container),delete R._container.__vue_app__)},provide(E,_){return o.provides[E]=_,R},runWithContext(E){const _=mn;mn=R;try{return E()}finally{mn=_}}};return R}}let mn=null;function Fr(e,t){if(Ct){let n=Ct.provides;const r=Ct.parent&&Ct.parent.provides;r===n&&(n=Ct.provides=Object.create(r)),n[e]=t}}function b0(e,t,n=!1){const r=Pa();if(r||mn){let a=mn?mn._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return n&&Pe(t)?t.call(r&&r.proxy):t}}function Jc(){return!!(Pa()||mn)}const Mo={},wo=()=>Object.create(Mo),To=e=>Object.getPrototypeOf(e)===Mo;function e2(e,t,n,r=!1){const a={},o=wo();e.propsDefaults=Object.create(null),Bo(e,t,a,o);for(const f in e.propsOptions[0])f in a||(a[f]=void 0);n?e.props=r?a:to(a):e.type.props?e.props=a:e.props=o,e.attrs=o}function t2(e,t,n,r){const{props:a,attrs:o,vnode:{patchFlag:f}}=e,m=Ye(a),[S]=e.propsOptions;let R=!1;if((r||f>0)&&!(f&16)){if(f&8){const E=e.vnode.dynamicProps;for(let _=0;_<E.length;_++){let N=E[_];if(fs(e.emitsOptions,N))continue;const g=t[N];if(S)if(je(o,N))g!==o[N]&&(o[N]=g,R=!0);else{const O=Jt(N);a[O]=_a(S,m,O,g,e,!1)}else g!==o[N]&&(o[N]=g,R=!0)}}}else{Bo(e,t,a,o)&&(R=!0);let E;for(const _ in m)(!t||!je(t,_)&&((E=K0(_))===_||!je(t,E)))&&(S?n&&(n[_]!==void 0||n[E]!==void 0)&&(a[_]=_a(S,m,_,void 0,e,!0)):delete a[_]);if(o!==m)for(const _ in o)(!t||!je(t,_))&&(delete o[_],R=!0)}R&&w0(e.attrs,"set","")}function Bo(e,t,n,r){const[a,o]=e.propsOptions;let f=!1,m;if(t)for(let S in t){if(Zn(S))continue;const R=t[S];let E;a&&je(a,E=Jt(S))?!o||!o.includes(E)?n[E]=R:(m||(m={}))[E]=R:fs(e.emitsOptions,S)||(!(S in r)||R!==r[S])&&(r[S]=R,f=!0)}if(o){const S=Ye(n),R=m||We;for(let E=0;E<o.length;E++){const _=o[E];n[_]=_a(a,S,_,R[_],e,!je(R,_))}}return f}function _a(e,t,n,r,a,o){const f=e[n];if(f!=null){const m=je(f,"default");if(m&&r===void 0){const S=f.default;if(f.type!==Function&&!f.skipFactory&&Pe(S)){const{propsDefaults:R}=a;if(n in R)r=R[n];else{const E=yr(a);r=R[n]=S.call(null,t),E()}}else r=S;a.ce&&a.ce._setProp(n,r)}f[0]&&(o&&!m?r=!1:f[1]&&(r===""||r===K0(n))&&(r=!0))}return r}const n2=new WeakMap;function Co(e,t,n=!1){const r=n?n2:t.propsCache,a=r.get(e);if(a)return a;const o=e.props,f={},m=[];let S=!1;if(!Pe(e)){const E=_=>{S=!0;const[N,g]=Co(_,t,!0);bt(f,N),g&&m.push(...g)};!n&&t.mixins.length&&t.mixins.forEach(E),e.extends&&E(e.extends),e.mixins&&e.mixins.forEach(E)}if(!o&&!S)return Je(e)&&r.set(e,Bn),Bn;if(Ne(o))for(let E=0;E<o.length;E++){const _=Jt(o[E]);di(_)&&(f[_]=We)}else if(o)for(const E in o){const _=Jt(E);if(di(_)){const N=o[E],g=f[_]=Ne(N)||Pe(N)?{type:N}:bt({},N),O=g.type;let Y=!1,k=!0;if(Ne(O))for(let w=0;w<O.length;++w){const l=O[w],s=Pe(l)&&l.name;if(s==="Boolean"){Y=!0;break}else s==="String"&&(k=!1)}else Y=Pe(O)&&O.name==="Boolean";g[0]=Y,g[1]=k,(Y||je(g,"default"))&&m.push(_)}}const R=[f,m];return Je(e)&&r.set(e,R),R}function di(e){return e[0]!=="$"&&!Zn(e)}const Ha=e=>e==="_"||e==="_ctx"||e==="$stable",ka=e=>Ne(e)?e.map(v0):[v0(e)],r2=(e,t,n)=>{if(t._n)return t;const r=uo((...a)=>ka(t(...a)),n);return r._c=!1,r},go=(e,t,n)=>{const r=e._ctx;for(const a in e){if(Ha(a))continue;const o=e[a];if(Pe(o))t[a]=r2(a,o,r);else if(o!=null){const f=ka(o);t[a]=()=>f}}},Io=(e,t)=>{const n=ka(t);e.slots.default=()=>n},Lo=(e,t,n)=>{for(const r in t)(n||!Ha(r))&&(e[r]=t[r])},s2=(e,t,n)=>{const r=e.slots=wo();if(e.vnode.shapeFlag&32){const a=t._;a?(Lo(r,t,n),n&&N1(r,"_",a,!0)):go(t,r)}else t&&Io(e,t)},a2=(e,t,n)=>{const{vnode:r,slots:a}=e;let o=!0,f=We;if(r.shapeFlag&32){const m=t._;m?n&&m===1?o=!1:Lo(a,t,n):(o=!t.$stable,go(t,a)),f=t}else t&&(Io(e,t),f={default:1});if(o)for(const m in a)!Ha(m)&&f[m]==null&&delete a[m]},qt=y2;function i2(e){return o2(e)}function o2(e,t){const n=rs();n.__VUE__=!0;const{insert:r,remove:a,patchProp:o,createElement:f,createText:m,createComment:S,setText:R,setElementText:E,parentNode:_,nextSibling:N,setScopeId:g=p0,insertStaticContent:O}=e,Y=(P,F,K,ne=null,le=null,oe=null,Re=void 0,Se=null,be=!!F.dynamicChildren)=>{if(P===F)return;P&&!dn(P,F)&&(ne=U(P),G(P,le,oe,!0),P=null),F.patchFlag===-2&&(be=!1,F.dynamicChildren=null);const{type:ve,ref:ge,shapeFlag:Ee}=F;switch(ve){case _s:k(P,F,K,ne);break;case Ot:w(P,F,K,ne);break;case Pr:P==null&&l(F,K,ne,Re);break;case r0:i(P,F,K,ne,le,oe,Re,Se,be);break;default:Ee&1?b(P,F,K,ne,le,oe,Re,Se,be):Ee&6?h(P,F,K,ne,le,oe,Re,Se,be):(Ee&64||Ee&128)&&ve.process(P,F,K,ne,le,oe,Re,Se,be,ee)}ge!=null&&le?er(ge,P&&P.ref,oe,F||P,!F):ge==null&&P&&P.ref!=null&&er(P.ref,null,oe,P,!0)},k=(P,F,K,ne)=>{if(P==null)r(F.el=m(F.children),K,ne);else{const le=F.el=P.el;F.children!==P.children&&R(le,F.children)}},w=(P,F,K,ne)=>{P==null?r(F.el=S(F.children||""),K,ne):F.el=P.el},l=(P,F,K,ne)=>{[P.el,P.anchor]=O(P.children,F,K,ne,P.el,P.anchor)},s=({el:P,anchor:F},K,ne)=>{let le;for(;P&&P!==F;)le=N(P),r(P,K,ne),P=le;r(F,K,ne)},B=({el:P,anchor:F})=>{let K;for(;P&&P!==F;)K=N(P),a(P),P=K;a(F)},b=(P,F,K,ne,le,oe,Re,Se,be)=>{F.type==="svg"?Re="svg":F.type==="math"&&(Re="mathml"),P==null?T(F,K,ne,le,oe,Re,Se,be):p(P,F,le,oe,Re,Se,be)},T=(P,F,K,ne,le,oe,Re,Se)=>{let be,ve;const{props:ge,shapeFlag:Ee,transition:Te,dirs:Oe}=P;if(be=P.el=f(P.type,oe,ge&&ge.is,ge),Ee&8?E(be,P.children):Ee&16&&d(P.children,be,null,ne,le,ks(P,oe),Re,Se),Oe&&Z0(P,null,ne,"created"),M(be,P,P.scopeId,Re,ne),ge){for(const De in ge)De!=="value"&&!Zn(De)&&o(be,De,null,ge[De],oe,ne);"value"in ge&&o(be,"value",null,ge.value,oe),(ve=ge.onVnodeBeforeMount)&&u0(ve,ne,P)}Oe&&Z0(P,null,ne,"beforeMount");const Ve=l2(le,Te);Ve&&Te.beforeEnter(be),r(be,F,K),((ve=ge&&ge.onVnodeMounted)||Ve||Oe)&&qt(()=>{ve&&u0(ve,ne,P),Ve&&Te.enter(be),Oe&&Z0(P,null,ne,"mounted")},le)},M=(P,F,K,ne,le)=>{if(K&&g(P,K),ne)for(let oe=0;oe<ne.length;oe++)g(P,ne[oe]);if(le){let oe=le.subTree;if(F===oe||Fo(oe.type)&&(oe.ssContent===F||oe.ssFallback===F)){const Re=le.vnode;M(P,Re,Re.scopeId,Re.slotScopeIds,le.parent)}}},d=(P,F,K,ne,le,oe,Re,Se,be=0)=>{for(let ve=be;ve<P.length;ve++){const ge=P[ve]=Se?D0(P[ve]):v0(P[ve]);Y(null,ge,F,K,ne,le,oe,Re,Se)}},p=(P,F,K,ne,le,oe,Re)=>{const Se=F.el=P.el;let{patchFlag:be,dynamicChildren:ve,dirs:ge}=F;be|=P.patchFlag&16;const Ee=P.props||We,Te=F.props||We;let Oe;if(K&&Q0(K,!1),(Oe=Te.onVnodeBeforeUpdate)&&u0(Oe,K,F,P),ge&&Z0(F,P,K,"beforeUpdate"),K&&Q0(K,!0),(Ee.innerHTML&&Te.innerHTML==null||Ee.textContent&&Te.textContent==null)&&E(Se,""),ve?c(P.dynamicChildren,ve,Se,K,ne,ks(F,le),oe):Re||H(P,F,Se,null,K,ne,ks(F,le),oe,!1),be>0){if(be&16)y(Se,Ee,Te,K,le);else if(be&2&&Ee.class!==Te.class&&o(Se,"class",null,Te.class,le),be&4&&o(Se,"style",Ee.style,Te.style,le),be&8){const Ve=F.dynamicProps;for(let De=0;De<Ve.length;De++){const Xe=Ve[De],St=Ee[Xe],yt=Te[Xe];(yt!==St||Xe==="value")&&o(Se,Xe,St,yt,le,K)}}be&1&&P.children!==F.children&&E(Se,F.children)}else!Re&&ve==null&&y(Se,Ee,Te,K,le);((Oe=Te.onVnodeUpdated)||ge)&&qt(()=>{Oe&&u0(Oe,K,F,P),ge&&Z0(F,P,K,"updated")},ne)},c=(P,F,K,ne,le,oe,Re)=>{for(let Se=0;Se<F.length;Se++){const be=P[Se],ve=F[Se],ge=be.el&&(be.type===r0||!dn(be,ve)||be.shapeFlag&198)?_(be.el):K;Y(be,ve,ge,null,ne,le,oe,Re,!0)}},y=(P,F,K,ne,le)=>{if(F!==K){if(F!==We)for(const oe in F)!Zn(oe)&&!(oe in K)&&o(P,oe,F[oe],null,le,ne);for(const oe in K){if(Zn(oe))continue;const Re=K[oe],Se=F[oe];Re!==Se&&oe!=="value"&&o(P,oe,Se,Re,le,ne)}"value"in K&&o(P,"value",F.value,K.value,le)}},i=(P,F,K,ne,le,oe,Re,Se,be)=>{const ve=F.el=P?P.el:m(""),ge=F.anchor=P?P.anchor:m("");let{patchFlag:Ee,dynamicChildren:Te,slotScopeIds:Oe}=F;Oe&&(Se=Se?Se.concat(Oe):Oe),P==null?(r(ve,K,ne),r(ge,K,ne),d(F.children||[],K,ge,le,oe,Re,Se,be)):Ee>0&&Ee&64&&Te&&P.dynamicChildren?(c(P.dynamicChildren,Te,K,le,oe,Re,Se),(F.key!=null||le&&F===le.subTree)&&Oo(P,F,!0)):H(P,F,K,ge,le,oe,Re,Se,be)},h=(P,F,K,ne,le,oe,Re,Se,be)=>{F.slotScopeIds=Se,P==null?F.shapeFlag&512?le.ctx.activate(F,K,ne,Re,be):v(F,K,ne,le,oe,Re,be):x(P,F,be)},v=(P,F,K,ne,le,oe,Re)=>{const Se=P.component=g2(P,ne,le);if(os(P)&&(Se.ctx.renderer=ee),I2(Se,!1,Re),Se.asyncDep){if(le&&le.registerDep(Se,C,Re),!P.el){const be=Se.subTree=Ut(Ot);w(null,be,F,K),P.placeholder=be.el}}else C(Se,P,F,K,le,oe,Re)},x=(P,F,K)=>{const ne=F.component=P.component;if(b2(P,F,K))if(ne.asyncDep&&!ne.asyncResolved){q(ne,F,K);return}else ne.next=F,ne.update();else F.el=P.el,ne.vnode=F},C=(P,F,K,ne,le,oe,Re)=>{const Se=()=>{if(P.isMounted){let{next:Ee,bu:Te,u:Oe,parent:Ve,vnode:De}=P;{const I=No(P);if(I){Ee&&(Ee.el=De.el,q(P,Ee,Re)),I.asyncDep.then(()=>{P.isUnmounted||Se()});return}}let Xe=Ee,St;Q0(P,!1),Ee?(Ee.el=De.el,q(P,Ee,Re)):Ee=De,Te&&Vr(Te),(St=Ee.props&&Ee.props.onVnodeBeforeUpdate)&&u0(St,Ve,Ee,De),Q0(P,!0);const yt=mi(P),xt=P.subTree;P.subTree=yt,Y(xt,yt,_(xt.el),U(xt),P,le,oe),Ee.el=yt.el,Xe===null&&S2(P,yt.el),Oe&&qt(Oe,le),(St=Ee.props&&Ee.props.onVnodeUpdated)&&qt(()=>u0(St,Ve,Ee,De),le)}else{let Ee;const{el:Te,props:Oe}=F,{bm:Ve,m:De,parent:Xe,root:St,type:yt}=P,xt=tr(F);Q0(P,!1),Ve&&Vr(Ve),!xt&&(Ee=Oe&&Oe.onVnodeBeforeMount)&&u0(Ee,Xe,F),Q0(P,!0);{St.ce&&St.ce._def.shadowRoot!==!1&&St.ce._injectChildStyle(yt);const I=P.subTree=mi(P);Y(null,I,K,ne,P,le,oe),F.el=I.el}if(De&&qt(De,le),!xt&&(Ee=Oe&&Oe.onVnodeMounted)){const I=F;qt(()=>u0(Ee,Xe,I),le)}(F.shapeFlag&256||Xe&&tr(Xe.vnode)&&Xe.vnode.shapeFlag&256)&&P.a&&qt(P.a,le),P.isMounted=!0,F=K=ne=null}};P.scope.on();const be=P.effect=new D1(Se);P.scope.off();const ve=P.update=be.run.bind(be),ge=P.job=be.runIfDirty.bind(be);ge.i=P,ge.id=P.uid,be.scheduler=()=>Na(ge),Q0(P,!0),ve()},q=(P,F,K)=>{F.component=P;const ne=P.vnode.props;P.vnode=F,P.next=null,t2(P,F.props,ne,K),a2(P,F.children,K),g0(),ii(P),I0()},H=(P,F,K,ne,le,oe,Re,Se,be=!1)=>{const ve=P&&P.children,ge=P?P.shapeFlag:0,Ee=F.children,{patchFlag:Te,shapeFlag:Oe}=F;if(Te>0){if(Te&128){u(ve,Ee,K,ne,le,oe,Re,Se,be);return}else if(Te&256){X(ve,Ee,K,ne,le,oe,Re,Se,be);return}}Oe&8?(ge&16&&pe(ve,le,oe),Ee!==ve&&E(K,Ee)):ge&16?Oe&16?u(ve,Ee,K,ne,le,oe,Re,Se,be):pe(ve,le,oe,!0):(ge&8&&E(K,""),Oe&16&&d(Ee,K,ne,le,oe,Re,Se,be))},X=(P,F,K,ne,le,oe,Re,Se,be)=>{P=P||Bn,F=F||Bn;const ve=P.length,ge=F.length,Ee=Math.min(ve,ge);let Te;for(Te=0;Te<Ee;Te++){const Oe=F[Te]=be?D0(F[Te]):v0(F[Te]);Y(P[Te],Oe,K,null,le,oe,Re,Se,be)}ve>ge?pe(P,le,oe,!0,!1,Ee):d(F,K,ne,le,oe,Re,Se,be,Ee)},u=(P,F,K,ne,le,oe,Re,Se,be)=>{let ve=0;const ge=F.length;let Ee=P.length-1,Te=ge-1;for(;ve<=Ee&&ve<=Te;){const Oe=P[ve],Ve=F[ve]=be?D0(F[ve]):v0(F[ve]);if(dn(Oe,Ve))Y(Oe,Ve,K,null,le,oe,Re,Se,be);else break;ve++}for(;ve<=Ee&&ve<=Te;){const Oe=P[Ee],Ve=F[Te]=be?D0(F[Te]):v0(F[Te]);if(dn(Oe,Ve))Y(Oe,Ve,K,null,le,oe,Re,Se,be);else break;Ee--,Te--}if(ve>Ee){if(ve<=Te){const Oe=Te+1,Ve=Oe<ge?F[Oe].el:ne;for(;ve<=Te;)Y(null,F[ve]=be?D0(F[ve]):v0(F[ve]),K,Ve,le,oe,Re,Se,be),ve++}}else if(ve>Te)for(;ve<=Ee;)G(P[ve],le,oe,!0),ve++;else{const Oe=ve,Ve=ve,De=new Map;for(ve=Ve;ve<=Te;ve++){const D=F[ve]=be?D0(F[ve]):v0(F[ve]);D.key!=null&&De.set(D.key,ve)}let Xe,St=0;const yt=Te-Ve+1;let xt=!1,I=0;const L=new Array(yt);for(ve=0;ve<yt;ve++)L[ve]=0;for(ve=Oe;ve<=Ee;ve++){const D=P[ve];if(St>=yt){G(D,le,oe,!0);continue}let W;if(D.key!=null)W=De.get(D.key);else for(Xe=Ve;Xe<=Te;Xe++)if(L[Xe-Ve]===0&&dn(D,F[Xe])){W=Xe;break}W===void 0?G(D,le,oe,!0):(L[W-Ve]=ve+1,W>=I?I=W:xt=!0,Y(D,F[W],K,null,le,oe,Re,Se,be),St++)}const $=xt?c2(L):Bn;for(Xe=$.length-1,ve=yt-1;ve>=0;ve--){const D=Ve+ve,W=F[D],V=F[D+1],Z=D+1<ge?V.el||V.placeholder:ne;L[ve]===0?Y(null,W,K,Z,le,oe,Re,Se,be):xt&&(Xe<0||ve!==$[Xe]?A(W,K,Z,2):Xe--)}}},A=(P,F,K,ne,le=null)=>{const{el:oe,type:Re,transition:Se,children:be,shapeFlag:ve}=P;if(ve&6){A(P.component.subTree,F,K,ne);return}if(ve&128){P.suspense.move(F,K,ne);return}if(ve&64){Re.move(P,F,K,ee);return}if(Re===r0){r(oe,F,K);for(let Ee=0;Ee<be.length;Ee++)A(be[Ee],F,K,ne);r(P.anchor,F,K);return}if(Re===Pr){s(P,F,K);return}if(ne!==2&&ve&1&&Se)if(ne===0)Se.beforeEnter(oe),r(oe,F,K),qt(()=>Se.enter(oe),le);else{const{leave:Ee,delayLeave:Te,afterLeave:Oe}=Se,Ve=()=>{P.ctx.isUnmounted?a(oe):r(oe,F,K)},De=()=>{oe._isLeaving&&oe[E0](!0),Ee(oe,()=>{Ve(),Oe&&Oe()})};Te?Te(oe,Ve,De):De()}else r(oe,F,K)},G=(P,F,K,ne=!1,le=!1)=>{const{type:oe,props:Re,ref:Se,children:be,dynamicChildren:ve,shapeFlag:ge,patchFlag:Ee,dirs:Te,cacheIndex:Oe}=P;if(Ee===-2&&(le=!1),Se!=null&&(g0(),er(Se,null,K,P,!0),I0()),Oe!=null&&(F.renderCache[Oe]=void 0),ge&256){F.ctx.deactivate(P);return}const Ve=ge&1&&Te,De=!tr(P);let Xe;if(De&&(Xe=Re&&Re.onVnodeBeforeUnmount)&&u0(Xe,F,P),ge&6)ye(P.component,K,ne);else{if(ge&128){P.suspense.unmount(K,ne);return}Ve&&Z0(P,null,F,"beforeUnmount"),ge&64?P.type.remove(P,F,K,ee,ne):ve&&!ve.hasOnce&&(oe!==r0||Ee>0&&Ee&64)?pe(ve,F,K,!1,!0):(oe===r0&&Ee&384||!le&&ge&16)&&pe(be,F,K),ne&&j(P)}(De&&(Xe=Re&&Re.onVnodeUnmounted)||Ve)&&qt(()=>{Xe&&u0(Xe,F,P),Ve&&Z0(P,null,F,"unmounted")},K)},j=P=>{const{type:F,el:K,anchor:ne,transition:le}=P;if(F===r0){me(K,ne);return}if(F===Pr){B(P);return}const oe=()=>{a(K),le&&!le.persisted&&le.afterLeave&&le.afterLeave()};if(P.shapeFlag&1&&le&&!le.persisted){const{leave:Re,delayLeave:Se}=le,be=()=>Re(K,oe);Se?Se(P.el,oe,be):be()}else oe()},me=(P,F)=>{let K;for(;P!==F;)K=N(P),a(P),P=K;a(F)},ye=(P,F,K)=>{const{bum:ne,scope:le,job:oe,subTree:Re,um:Se,m:be,a:ve}=P;vi(be),vi(ve),ne&&Vr(ne),le.stop(),oe&&(oe.flags|=8,G(Re,P,F,K)),Se&&qt(Se,F),qt(()=>{P.isUnmounted=!0},F)},pe=(P,F,K,ne=!1,le=!1,oe=0)=>{for(let Re=oe;Re<P.length;Re++)G(P[Re],F,K,ne,le)},U=P=>{if(P.shapeFlag&6)return U(P.component.subTree);if(P.shapeFlag&128)return P.suspense.next();const F=N(P.anchor||P.el),K=F&&F[wc];return K?N(K):F};let ce=!1;const te=(P,F,K)=>{P==null?F._vnode&&G(F._vnode,null,null,!0):Y(F._vnode||null,P,F,null,null,null,K),F._vnode=P,ce||(ce=!0,ii(),oo(),ce=!1)},ee={p:Y,um:G,m:A,r:j,mt:v,mc:d,pc:H,pbc:c,n:U,o:e};return{render:te,hydrate:void 0,createApp:Qc(te)}}function ks({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Q0({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function l2(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Oo(e,t,n=!1){const r=e.children,a=t.children;if(Ne(r)&&Ne(a))for(let o=0;o<r.length;o++){const f=r[o];let m=a[o];m.shapeFlag&1&&!m.dynamicChildren&&((m.patchFlag<=0||m.patchFlag===32)&&(m=a[o]=D0(a[o]),m.el=f.el),!n&&m.patchFlag!==-2&&Oo(f,m)),m.type===_s&&m.patchFlag!==-1&&(m.el=f.el),m.type===Ot&&!m.el&&(m.el=f.el)}}function c2(e){const t=e.slice(),n=[0];let r,a,o,f,m;const S=e.length;for(r=0;r<S;r++){const R=e[r];if(R!==0){if(a=n[n.length-1],e[a]<R){t[r]=a,n.push(r);continue}for(o=0,f=n.length-1;o<f;)m=o+f>>1,e[n[m]]<R?o=m+1:f=m;R<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,f=n[o-1];o-- >0;)n[o]=f,f=t[f];return n}function No(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:No(t)}function vi(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const u2=Symbol.for("v-scx"),f2=()=>b0(u2);function rr(e,t,n){return Ho(e,t,n)}function Ho(e,t,n=We){const{immediate:r,deep:a,flush:o,once:f}=n,m=bt({},n),S=t&&r||!t&&o!=="post";let R;if(hr){if(o==="sync"){const g=f2();R=g.__watcherHandles||(g.__watcherHandles=[])}else if(!S){const g=()=>{};return g.stop=p0,g.resume=p0,g.pause=p0,g}}const E=Ct;m.call=(g,O,Y)=>i0(g,E,O,Y);let _=!1;o==="post"?m.scheduler=g=>{qt(g,E&&E.suspense)}:o!=="sync"&&(_=!0,m.scheduler=(g,O)=>{O?g():Na(g)}),m.augmentJob=g=>{t&&(g.flags|=4),_&&(g.flags|=2,E&&(g.id=E.uid,g.i=E))};const N=xc(e,t,m);return hr&&(R?R.push(N):S&&N()),N}function _2(e,t,n){const r=this.proxy,a=ht(e)?e.includes(".")?ko(r,e):()=>r[e]:e.bind(r,r);let o;Pe(t)?o=t:(o=t.handler,n=t);const f=yr(this),m=Ho(a,o.bind(r),n);return f(),m}function ko(e,t){const n=t.split(".");return()=>{let r=e;for(let a=0;a<n.length&&r;a++)r=r[n[a]];return r}}const h2=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Jt(t)}Modifiers`]||e[`${K0(t)}Modifiers`];function d2(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||We;let a=n;const o=t.startsWith("update:"),f=o&&h2(r,t.slice(7));f&&(f.trim&&(a=n.map(E=>ht(E)?E.trim():E)),f.number&&(a=n.map(sa)));let m,S=r[m=Cs(t)]||r[m=Cs(Jt(t))];!S&&o&&(S=r[m=Cs(K0(t))]),S&&i0(S,e,6,a);const R=r[m+"Once"];if(R){if(!e.emitted)e.emitted={};else if(e.emitted[m])return;e.emitted[m]=!0,i0(R,e,6,a)}}const v2=new WeakMap;function Vo(e,t,n=!1){const r=n?v2:t.emitsCache,a=r.get(e);if(a!==void 0)return a;const o=e.emits;let f={},m=!1;if(!Pe(e)){const S=R=>{const E=Vo(R,t,!0);E&&(m=!0,bt(f,E))};!n&&t.mixins.length&&t.mixins.forEach(S),e.extends&&S(e.extends),e.mixins&&e.mixins.forEach(S)}return!o&&!m?(Je(e)&&r.set(e,null),null):(Ne(o)?o.forEach(S=>f[S]=null):bt(f,o),Je(e)&&r.set(e,f),f)}function fs(e,t){return!e||!Jr(t)?!1:(t=t.slice(2).replace(/Once$/,""),je(e,t[0].toLowerCase()+t.slice(1))||je(e,K0(t))||je(e,t))}function mi(e){const{type:t,vnode:n,proxy:r,withProxy:a,propsOptions:[o],slots:f,attrs:m,emit:S,render:R,renderCache:E,props:_,data:N,setupState:g,ctx:O,inheritAttrs:Y}=e,k=Ur(e);let w,l;try{if(n.shapeFlag&4){const B=a||r,b=B;w=v0(R.call(b,B,E,_,g,N,O)),l=m}else{const B=t;w=v0(B.length>1?B(_,{attrs:m,slots:f,emit:S}):B(_,null)),l=t.props?m:m2(m)}}catch(B){sr.length=0,is(B,e,1),w=Ut(Ot)}let s=w;if(l&&Y!==!1){const B=Object.keys(l),{shapeFlag:b}=s;B.length&&b&7&&(o&&B.some(Ra)&&(l=p2(l,o)),s=U0(s,l,!1,!0))}return n.dirs&&(s=U0(s,null,!1,!0),s.dirs=s.dirs?s.dirs.concat(n.dirs):n.dirs),n.transition&&fr(s,n.transition),w=s,Ur(k),w}const m2=e=>{let t;for(const n in e)(n==="class"||n==="style"||Jr(n))&&((t||(t={}))[n]=e[n]);return t},p2=(e,t)=>{const n={};for(const r in e)(!Ra(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function b2(e,t,n){const{props:r,children:a,component:o}=e,{props:f,children:m,patchFlag:S}=t,R=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&S>=0){if(S&1024)return!0;if(S&16)return r?pi(r,f,R):!!f;if(S&8){const E=t.dynamicProps;for(let _=0;_<E.length;_++){const N=E[_];if(f[N]!==r[N]&&!fs(R,N))return!0}}}else return(a||m)&&(!m||!m.$stable)?!0:r===f?!1:r?f?pi(r,f,R):!0:!!f;return!1}function pi(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let a=0;a<r.length;a++){const o=r[a];if(t[o]!==e[o]&&!fs(n,o))return!0}return!1}function S2({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const Fo=e=>e.__isSuspense;function y2(e,t){t&&t.pendingBranch?Ne(e)?t.effects.push(...e):t.effects.push(e):Ec(e)}const r0=Symbol.for("v-fgt"),_s=Symbol.for("v-txt"),Ot=Symbol.for("v-cmt"),Pr=Symbol.for("v-stc"),sr=[];let Yt=null;function At(e=!1){sr.push(Yt=e?null:[])}function x2(){sr.pop(),Yt=sr[sr.length-1]||null}let _r=1;function Wr(e,t=!1){_r+=e,e<0&&Yt&&t&&(Yt.hasOnce=!0)}function Po(e){return e.dynamicChildren=_r>0?Yt||Bn:null,x2(),_r>0&&Yt&&Yt.push(e),e}function Tt(e,t,n,r,a,o){return Po(ue(e,t,n,r,a,o,!0))}function R2(e,t,n,r,a){return Po(Ut(e,t,n,r,a,!0))}function zr(e){return e?e.__v_isVNode===!0:!1}function dn(e,t){return e.type===t.type&&e.key===t.key}const $o=({key:e})=>e??null,$r=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?ht(e)||_t(e)||Pe(e)?{i:Gt,r:e,k:t,f:!!n}:e:null);function ue(e,t=null,n=null,r=0,a=null,o=e===r0?0:1,f=!1,m=!1){const S={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&$o(t),ref:t&&$r(t),scopeId:co,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:Gt};return m?(Fa(S,n),o&128&&e.normalize(S)):n&&(S.shapeFlag|=ht(n)?8:16),_r>0&&!f&&Yt&&(S.patchFlag>0||o&6)&&S.patchFlag!==32&&Yt.push(S),S}const Ut=A2;function A2(e,t=null,n=null,r=0,a=null,o=!1){if((!e||e===Xc)&&(e=Ot),zr(e)){const m=U0(e,t,!0);return n&&Fa(m,n),_r>0&&!o&&Yt&&(m.shapeFlag&6?Yt[Yt.indexOf(e)]=m:Yt.push(m)),m.patchFlag=-2,m}if(k2(e)&&(e=e.__vccOpts),t){t=E2(t);let{class:m,style:S}=t;m&&!ht(m)&&(t.class=m0(m)),Je(S)&&(Ia(S)&&!Ne(S)&&(S=bt({},S)),t.style=ss(S))}const f=ht(e)?1:Fo(e)?128:fo(e)?64:Je(e)?4:Pe(e)?2:0;return ue(e,t,n,r,a,f,o,!0)}function E2(e){return e?Ia(e)||To(e)?bt({},e):e:null}function U0(e,t,n=!1,r=!1){const{props:a,ref:o,patchFlag:f,children:m,transition:S}=e,R=t?T2(a||{},t):a,E={__v_isVNode:!0,__v_skip:!0,type:e.type,props:R,key:R&&$o(R),ref:t&&t.ref?n&&o?Ne(o)?o.concat($r(t)):[o,$r(t)]:$r(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:m,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==r0?f===-1?16:f|16:f,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:S,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&U0(e.ssContent),ssFallback:e.ssFallback&&U0(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return S&&r&&fr(E,S.clone(E)),E}function M2(e=" ",t=0){return Ut(_s,null,e,t)}function w2(e,t){const n=Ut(Pr,null,e);return n.staticCount=t,n}function Va(e="",t=!1){return t?(At(),R2(Ot,null,e)):Ut(Ot,null,e)}function v0(e){return e==null||typeof e=="boolean"?Ut(Ot):Ne(e)?Ut(r0,null,e.slice()):zr(e)?D0(e):Ut(_s,null,String(e))}function D0(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:U0(e)}function Fa(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Ne(t))n=16;else if(typeof t=="object")if(r&65){const a=t.default;a&&(a._c&&(a._d=!1),Fa(e,a()),a._c&&(a._d=!0));return}else{n=32;const a=t._;!a&&!To(t)?t._ctx=Gt:a===3&&Gt&&(Gt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Pe(t)?(t={default:t,_ctx:Gt},n=32):(t=String(t),r&64?(n=16,t=[M2(t)]):n=8);e.children=t,e.shapeFlag|=n}function T2(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const a in r)if(a==="class")t.class!==r.class&&(t.class=m0([t.class,r.class]));else if(a==="style")t.style=ss([t.style,r.style]);else if(Jr(a)){const o=t[a],f=r[a];f&&o!==f&&!(Ne(o)&&o.includes(f))&&(t[a]=o?[].concat(o,f):f)}else a!==""&&(t[a]=r[a])}return t}function u0(e,t,n,r=null){i0(e,t,7,[n,r])}const B2=Eo();let C2=0;function g2(e,t,n){const r=e.type,a=(t?t.appContext:e.appContext)||B2,o={uid:C2++,vnode:e,type:r,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new F1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Co(r,a),emitsOptions:Vo(r,a),emit:null,emitted:null,propsDefaults:We,inheritAttrs:r.inheritAttrs,ctx:We,data:We,props:We,attrs:We,slots:We,refs:We,setupState:We,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=d2.bind(null,o),e.ce&&e.ce(o),o}let Ct=null;const Pa=()=>Ct||Gt;let Zr,ha;{const e=rs(),t=(n,r)=>{let a;return(a=e[n])||(a=e[n]=[]),a.push(r),o=>{a.length>1?a.forEach(f=>f(o)):a[0](o)}};Zr=t("__VUE_INSTANCE_SETTERS__",n=>Ct=n),ha=t("__VUE_SSR_SETTERS__",n=>hr=n)}const yr=e=>{const t=Ct;return Zr(e),e.scope.on(),()=>{e.scope.off(),Zr(t)}},bi=()=>{Ct&&Ct.scope.off(),Zr(null)};function Do(e){return e.vnode.shapeFlag&4}let hr=!1;function I2(e,t=!1,n=!1){t&&ha(t);const{props:r,children:a}=e.vnode,o=Do(e);e2(e,r,o,t),s2(e,a,n||t);const f=o?L2(e,t):void 0;return t&&ha(!1),f}function L2(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Yc);const{setup:r}=n;if(r){g0();const a=e.setupContext=r.length>1?N2(e):null,o=yr(e),f=Sr(r,e,0,[e.props,a]),m=I1(f);if(I0(),o(),(m||e.sp)&&!tr(e)&&So(e),m){if(f.then(bi,bi),t)return f.then(S=>{Si(e,S)}).catch(S=>{is(S,e,0)});e.asyncDep=f}else Si(e,f)}else Xo(e)}function Si(e,t,n){Pe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Je(t)&&(e.setupState=so(t)),Xo(e)}function Xo(e,t,n){const r=e.type;e.render||(e.render=r.render||p0);{const a=yr(e);g0();try{Uc(e)}finally{I0(),a()}}}const O2={get(e,t){return Bt(e,"get",""),e[t]}};function N2(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,O2),slots:e.slots,emit:e.emit,expose:t}}function hs(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(so(La(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in nr)return nr[n](e)},has(t,n){return n in t||n in nr}})):e.proxy}function H2(e,t=!0){return Pe(e)?e.displayName||e.name:e.name||t&&e.__name}function k2(e){return Pe(e)&&"__vccOpts"in e}const Zt=(e,t)=>Sc(e,t,hr);function $a(e,t,n){const r=(o,f,m)=>{Wr(-1);try{return Ut(o,f,m)}finally{Wr(1)}},a=arguments.length;return a===2?Je(t)&&!Ne(t)?zr(t)?r(e,null,[t]):r(e,t):r(e,null,t):(a>3?n=Array.prototype.slice.call(arguments,2):a===3&&zr(n)&&(n=[n]),r(e,t,n))}const V2="3.5.21";/**
* @vue/runtime-dom v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let da;const yi=typeof window<"u"&&window.trustedTypes;if(yi)try{da=yi.createPolicy("vue",{createHTML:e=>e})}catch{}const qo=da?e=>da.createHTML(e):e=>e,F2="http://www.w3.org/2000/svg",P2="http://www.w3.org/1998/Math/MathML",A0=typeof document<"u"?document:null,xi=A0&&A0.createElement("template"),$2={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const a=t==="svg"?A0.createElementNS(F2,e):t==="mathml"?A0.createElementNS(P2,e):n?A0.createElement(e,{is:n}):A0.createElement(e);return e==="select"&&r&&r.multiple!=null&&a.setAttribute("multiple",r.multiple),a},createText:e=>A0.createTextNode(e),createComment:e=>A0.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>A0.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,a,o){const f=n?n.previousSibling:t.lastChild;if(a&&(a===o||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),n),!(a===o||!(a=a.nextSibling)););else{xi.innerHTML=qo(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const m=xi.content;if(r==="svg"||r==="mathml"){const S=m.firstChild;for(;S.firstChild;)m.appendChild(S.firstChild);m.removeChild(S)}t.insertBefore(m,n)}return[f?f.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},H0="transition",Gn="animation",dr=Symbol("_vtc"),Go={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},D2=bt({},_o,Go),X2=e=>(e.displayName="Transition",e.props=D2,e),q2=X2((e,{slots:t})=>$a(Cc,G2(e),t)),J0=(e,t=[])=>{Ne(e)?e.forEach(n=>n(...t)):e&&e(...t)},Ri=e=>e?Ne(e)?e.some(t=>t.length>1):e.length>1:!1;function G2(e){const t={};for(const i in e)i in Go||(t[i]=e[i]);if(e.css===!1)return t;const{name:n="v",type:r,duration:a,enterFromClass:o=`${n}-enter-from`,enterActiveClass:f=`${n}-enter-active`,enterToClass:m=`${n}-enter-to`,appearFromClass:S=o,appearActiveClass:R=f,appearToClass:E=m,leaveFromClass:_=`${n}-leave-from`,leaveActiveClass:N=`${n}-leave-active`,leaveToClass:g=`${n}-leave-to`}=e,O=Y2(a),Y=O&&O[0],k=O&&O[1],{onBeforeEnter:w,onEnter:l,onEnterCancelled:s,onLeave:B,onLeaveCancelled:b,onBeforeAppear:T=w,onAppear:M=l,onAppearCancelled:d=s}=t,p=(i,h,v,x)=>{i._enterCancelled=x,en(i,h?E:m),en(i,h?R:f),v&&v()},c=(i,h)=>{i._isLeaving=!1,en(i,_),en(i,g),en(i,N),h&&h()},y=i=>(h,v)=>{const x=i?M:l,C=()=>p(h,i,v);J0(x,[h,C]),Ai(()=>{en(h,i?S:o),y0(h,i?E:m),Ri(x)||Ei(h,r,Y,C)})};return bt(t,{onBeforeEnter(i){J0(w,[i]),y0(i,o),y0(i,f)},onBeforeAppear(i){J0(T,[i]),y0(i,S),y0(i,R)},onEnter:y(!1),onAppear:y(!0),onLeave(i,h){i._isLeaving=!0;const v=()=>c(i,h);y0(i,_),i._enterCancelled?(y0(i,N),Ti()):(Ti(),y0(i,N)),Ai(()=>{i._isLeaving&&(en(i,_),y0(i,g),Ri(B)||Ei(i,r,k,v))}),J0(B,[i,v])},onEnterCancelled(i){p(i,!1,void 0,!0),J0(s,[i])},onAppearCancelled(i){p(i,!0,void 0,!0),J0(d,[i])},onLeaveCancelled(i){c(i),J0(b,[i])}})}function Y2(e){if(e==null)return null;if(Je(e))return[Vs(e.enter),Vs(e.leave)];{const t=Vs(e);return[t,t]}}function Vs(e){return Pl(e)}function y0(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[dr]||(e[dr]=new Set)).add(t)}function en(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[dr];n&&(n.delete(t),n.size||(e[dr]=void 0))}function Ai(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let U2=0;function Ei(e,t,n,r){const a=e._endId=++U2,o=()=>{a===e._endId&&r()};if(n!=null)return setTimeout(o,n);const{type:f,timeout:m,propCount:S}=j2(e,t);if(!f)return r();const R=f+"end";let E=0;const _=()=>{e.removeEventListener(R,N),o()},N=g=>{g.target===e&&++E>=S&&_()};setTimeout(()=>{E<S&&_()},m+1),e.addEventListener(R,N)}function j2(e,t){const n=window.getComputedStyle(e),r=O=>(n[O]||"").split(", "),a=r(`${H0}Delay`),o=r(`${H0}Duration`),f=Mi(a,o),m=r(`${Gn}Delay`),S=r(`${Gn}Duration`),R=Mi(m,S);let E=null,_=0,N=0;t===H0?f>0&&(E=H0,_=f,N=o.length):t===Gn?R>0&&(E=Gn,_=R,N=S.length):(_=Math.max(f,R),E=_>0?f>R?H0:Gn:null,N=E?E===H0?o.length:S.length:0);const g=E===H0&&/\b(?:transform|all)(?:,|$)/.test(r(`${H0}Property`).toString());return{type:E,timeout:_,propCount:N,hasTransform:g}}function Mi(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>wi(n)+wi(e[r])))}function wi(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Ti(){return document.body.offsetHeight}function K2(e,t,n){const r=e[dr];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Bi=Symbol("_vod"),W2=Symbol("_vsh"),z2=Symbol(""),Z2=/(?:^|;)\s*display\s*:/;function Q2(e,t,n){const r=e.style,a=ht(n);let o=!1;if(n&&!a){if(t)if(ht(t))for(const f of t.split(";")){const m=f.slice(0,f.indexOf(":")).trim();n[m]==null&&Dr(r,m,"")}else for(const f in t)n[f]==null&&Dr(r,f,"");for(const f in n)f==="display"&&(o=!0),Dr(r,f,n[f])}else if(a){if(t!==n){const f=r[z2];f&&(n+=";"+f),r.cssText=n,o=Z2.test(n)}}else t&&e.removeAttribute("style");Bi in e&&(e[Bi]=o?r.display:"",e[W2]&&(r.display="none"))}const Ci=/\s*!important$/;function Dr(e,t,n){if(Ne(n))n.forEach(r=>Dr(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=J2(e,t);Ci.test(n)?e.setProperty(K0(r),n.replace(Ci,""),"important"):e[r]=n}}const gi=["Webkit","Moz","ms"],Fs={};function J2(e,t){const n=Fs[t];if(n)return n;let r=Jt(t);if(r!=="filter"&&r in e)return Fs[t]=r;r=ns(r);for(let a=0;a<gi.length;a++){const o=gi[a]+r;if(o in e)return Fs[t]=o}return t}const Ii="http://www.w3.org/1999/xlink";function Li(e,t,n,r,a,o=Yl(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Ii,t.slice(6,t.length)):e.setAttributeNS(Ii,t,n):n==null||o&&!H1(n)?e.removeAttribute(t):e.setAttribute(t,o?"":j0(n)?String(n):n)}function Oi(e,t,n,r,a){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?qo(n):n);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const m=o==="OPTION"?e.getAttribute("value")||"":e.value,S=n==null?e.type==="checkbox"?"on":"":String(n);(m!==S||!("_value"in e))&&(e.value=S),n==null&&e.removeAttribute(t),e._value=n;return}let f=!1;if(n===""||n==null){const m=typeof e[t];m==="boolean"?n=H1(n):n==null&&m==="string"?(n="",f=!0):m==="number"&&(n=0,f=!0)}try{e[t]=n}catch{}f&&e.removeAttribute(a||t)}function wn(e,t,n,r){e.addEventListener(t,n,r)}function eu(e,t,n,r){e.removeEventListener(t,n,r)}const Ni=Symbol("_vei");function tu(e,t,n,r,a=null){const o=e[Ni]||(e[Ni]={}),f=o[t];if(r&&f)f.value=r;else{const[m,S]=nu(t);if(r){const R=o[t]=au(r,a);wn(e,m,R,S)}else f&&(eu(e,m,f,S),o[t]=void 0)}}const Hi=/(?:Once|Passive|Capture)$/;function nu(e){let t;if(Hi.test(e)){t={};let r;for(;r=e.match(Hi);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):K0(e.slice(2)),t]}let Ps=0;const ru=Promise.resolve(),su=()=>Ps||(ru.then(()=>Ps=0),Ps=Date.now());function au(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;i0(iu(r,n.value),t,5,[r])};return n.value=e,n.attached=su(),n}function iu(e,t){if(Ne(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>a=>!a._stopped&&r&&r(a))}else return t}const ki=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,ou=(e,t,n,r,a,o)=>{const f=a==="svg";t==="class"?K2(e,r,f):t==="style"?Q2(e,n,r):Jr(t)?Ra(t)||tu(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):lu(e,t,r,f))?(Oi(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Li(e,t,r,f,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!ht(r))?Oi(e,Jt(t),r,o,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Li(e,t,r,f))};function lu(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&ki(t)&&Pe(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return ki(t)&&ht(n)?!1:t in e}const Vi=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ne(t)?n=>Vr(t,n):t};function cu(e){e.target.composing=!0}function Fi(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const $s=Symbol("_assign"),uu={created(e,{modifiers:{lazy:t,trim:n,number:r}},a){e[$s]=Vi(a);const o=r||a.props&&a.props.type==="number";wn(e,t?"change":"input",f=>{if(f.target.composing)return;let m=e.value;n&&(m=m.trim()),o&&(m=sa(m)),e[$s](m)}),n&&wn(e,"change",()=>{e.value=e.value.trim()}),t||(wn(e,"compositionstart",cu),wn(e,"compositionend",Fi),wn(e,"change",Fi))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:a,number:o}},f){if(e[$s]=Vi(f),e.composing)return;const m=(o||e.type==="number")&&!/^0\d/.test(e.value)?sa(e.value):e.value,S=t??"";m!==S&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||a&&e.value.trim()===S)||(e.value=S))}},fu=["ctrl","shift","alt","meta"],_u={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>fu.some(n=>e[`${n}Key`]&&!t.includes(n))},Yo=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(a,...o)=>{for(let f=0;f<t.length;f++){const m=_u[t[f]];if(m&&m(a,t))return}return e(a,...o)})},hu={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},du=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=a=>{if(!("key"in a))return;const o=K0(a.key);if(t.some(f=>f===o||hu[f]===o))return e(a)})},vu=bt({patchProp:ou},$2);let Pi;function mu(){return Pi||(Pi=i2(vu))}const pu=(...e)=>{const t=mu().createApp(...e),{mount:n}=t;return t.mount=r=>{const a=Su(r);if(!a)return;const o=t._component;!Pe(o)&&!o.render&&!o.template&&(o.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const f=n(a,!1,bu(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),f},t};function bu(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Su(e){return ht(e)?document.querySelector(e):e}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Uo;const ds=e=>Uo=e,jo=Symbol();function va(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var ar;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(ar||(ar={}));function yu(){const e=P1(!0),t=e.run(()=>Rt({}));let n=[],r=[];const a=La({install(o){ds(a),a._a=o,o.provide(jo,a),o.config.globalProperties.$pinia=a,r.forEach(f=>n.push(f)),r=[]},use(o){return this._a?n.push(o):r.push(o),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return a}const Ko=()=>{};function $i(e,t,n,r=Ko){e.push(t);const a=()=>{const o=e.indexOf(t);o>-1&&(e.splice(o,1),r())};return!n&&$1()&&Ul(a),a}function yn(e,...t){e.slice().forEach(n=>{n(...t)})}const xu=e=>e(),Di=Symbol(),Ds=Symbol();function ma(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,r)=>e.set(r,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],a=e[n];va(a)&&va(r)&&e.hasOwnProperty(n)&&!_t(r)&&!G0(r)?e[n]=ma(a,r):e[n]=r}return e}const Ru=Symbol();function Au(e){return!va(e)||!e.hasOwnProperty(Ru)}const{assign:P0}=Object;function Eu(e){return!!(_t(e)&&e.effect)}function Mu(e,t,n,r){const{state:a,actions:o,getters:f}=t,m=n.state.value[e];let S;function R(){m||(n.state.value[e]=a?a():{});const E=vc(n.state.value[e]);return P0(E,o,Object.keys(f||{}).reduce((_,N)=>(_[N]=La(Zt(()=>{ds(n);const g=n._s.get(e);return f[N].call(g,g)})),_),{}))}return S=Wo(e,R,t,n,r,!0),S}function Wo(e,t,n={},r,a,o){let f;const m=P0({actions:{}},n),S={deep:!0};let R,E,_=[],N=[],g;const O=r.state.value[e];!o&&!O&&(r.state.value[e]={}),Rt({});let Y;function k(d){let p;R=E=!1,typeof d=="function"?(d(r.state.value[e]),p={type:ar.patchFunction,storeId:e,events:g}):(ma(r.state.value[e],d),p={type:ar.patchObject,payload:d,storeId:e,events:g});const c=Y=Symbol();Oa().then(()=>{Y===c&&(R=!0)}),E=!0,yn(_,p,r.state.value[e])}const w=o?function(){const{state:p}=n,c=p?p():{};this.$patch(y=>{P0(y,c)})}:Ko;function l(){f.stop(),_=[],N=[],r._s.delete(e)}const s=(d,p="")=>{if(Di in d)return d[Ds]=p,d;const c=function(){ds(r);const y=Array.from(arguments),i=[],h=[];function v(q){i.push(q)}function x(q){h.push(q)}yn(N,{args:y,name:c[Ds],store:b,after:v,onError:x});let C;try{C=d.apply(this&&this.$id===e?this:b,y)}catch(q){throw yn(h,q),q}return C instanceof Promise?C.then(q=>(yn(i,q),q)).catch(q=>(yn(h,q),Promise.reject(q))):(yn(i,C),C)};return c[Di]=!0,c[Ds]=p,c},B={_p:r,$id:e,$onAction:$i.bind(null,N),$patch:k,$reset:w,$subscribe(d,p={}){const c=$i(_,d,p.detached,()=>y()),y=f.run(()=>rr(()=>r.state.value[e],i=>{(p.flush==="sync"?E:R)&&d({storeId:e,type:ar.direct,events:g},i)},P0({},S,p)));return c},$dispose:l},b=br(B);r._s.set(e,b);const M=(r._a&&r._a.runWithContext||xu)(()=>r._e.run(()=>(f=P1()).run(()=>t({action:s}))));for(const d in M){const p=M[d];if(_t(p)&&!Eu(p)||G0(p))o||(O&&Au(p)&&(_t(p)?p.value=O[d]:ma(p,O[d])),r.state.value[e][d]=p);else if(typeof p=="function"){const c=s(p,d);M[d]=c,m.actions[d]=p}}return P0(b,M),P0(Ye(b),M),Object.defineProperty(b,"$state",{get:()=>r.state.value[e],set:d=>{k(p=>{P0(p,d)})}}),r._p.forEach(d=>{P0(b,f.run(()=>d({store:b,app:r._a,pinia:r,options:m})))}),O&&o&&n.hydrate&&n.hydrate(b.$state,O),R=!0,E=!0,b}/*! #__NO_SIDE_EFFECTS__ */function wu(e,t,n){let r,a;const o=typeof t=="function";r=e,a=o?n:t;function f(m,S){const R=Jc();return m=m||(R?b0(jo,null):null),m&&ds(m),m=Uo,m._s.has(r)||(o?Wo(r,t,a,m):Mu(r,a,m)),m._s.get(r)}return f.$id=r,f}const Da=wu("recorder",{state:()=>({isRecording:!1,isPaused:!1,recordingTime:0,currentRecording:null,recordings:[],currentPlayingId:null,isPlaying:!1,settings:{audioQuality:"high",maxRecordingTime:300,autoSave:!0,showNotifications:!0,inputSource:"mix",downloadDir:"recordings",echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,gain:1},hasPermission:!1,permissionError:null}),getters:{formattedRecordingTime:e=>{const t=Math.floor(e.recordingTime/60),n=e.recordingTime%60;return`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`},totalRecordings:e=>e.recordings.length,totalRecordingTime:e=>e.recordings.reduce((t,n)=>t+n.duration,0),currentRecordingData:e=>e.recordings.find(t=>t.id===e.currentPlayingId)},actions:{setRecordingState(e,t=!1){this.isRecording=e,this.isPaused=t},updateRecordingTime(e){this.recordingTime=e},addRecording(e){const t={id:Date.now().toString(),name:e.name||` ${this.recordings.length+1}`,duration:e.duration||0,size:e.size||0,createdAt:new Date().toISOString(),audioUrl:e.audioUrl,audioBlob:e.audioBlob};this.recordings.unshift(t),this.saveToStorage()},deleteRecording(e){const t=this.recordings.findIndex(n=>n.id===e);t>-1&&(this.currentPlayingId===e&&this.stopPlaying(),this.recordings.splice(t,1),this.saveToStorage())},renameRecording(e,t){const n=this.recordings.find(r=>r.id===e);n&&(n.name=t,this.saveToStorage())},setPlayingState(e,t){this.currentPlayingId=t?e:null,this.isPlaying=t},stopPlaying(){this.currentPlayingId=null,this.isPlaying=!1},updateSettings(e){this.settings={...this.settings,...e},this.saveToStorage()},setPermission(e,t=null){this.hasPermission=e,this.permissionError=t},resetRecordingTime(){this.recordingTime=0},async saveToStorage(){try{const e={recordings:this.recordings.map(t=>({...t,audioBlob:void 0})),settings:this.settings};await chrome.storage.local.set({voiceRecorderData:e})}catch(e){console.error(":",e)}},async loadFromStorage(){try{const e=await chrome.storage.local.get(["voiceRecorderData"]);if(e.voiceRecorderData){const t=e.voiceRecorderData;t.recordings&&(this.recordings=t.recordings),t.settings&&(this.settings={...this.settings,...t.settings})}}catch(e){console.error(":",e)}},clearAllRecordings(){this.recordings=[],this.stopPlaying(),this.saveToStorage()}}});class zo{constructor(){this.mediaRecorder=null,this.stream=null,this.micStream=null,this.tabStream=null,this.chunks=[],this.isRecording=!1,this.isPaused=!1,this.audioContext=null,this.analyser=null,this.levelDataArray=null,this.levelCallback=null}isSupported(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&window.MediaRecorder)}async requestPermissionAndStart(t="mix"){if(!this.isSupported())throw new Error("");console.log(" ...");try{if((t==="mic"||t==="mix")&&(this.micStream=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,sampleRate:44100}})),t==="tab"||t==="mix")try{const n=await navigator.mediaDevices.getUserMedia({audio:{mandatory:{chromeMediaSource:"tab"}}});this.tabStream=n}catch(n){console.warn(":",n)}if(t==="tab")this.stream=this.tabStream||this.micStream;else if(t==="mic")this.stream=this.micStream||this.tabStream;else if(this.tabStream&&this.micStream){const n=new(window.AudioContext||window.webkitAudioContext),r=n.createMediaStreamDestination(),a=[];a.push(n.createMediaStreamSource(this.micStream)),a[a.length-1].connect(r),a.push(n.createMediaStreamSource(this.tabStream)),a[a.length-1].connect(r),this.stream=r.stream,this.audioContext=n}else this.stream=this.micStream||this.tabStream;try{const n=this.audioContext||new(window.AudioContext||window.webkitAudioContext),r=n.createMediaStreamSource(this.stream),a=n.createAnalyser();a.fftSize=256;const o=a.frequencyBinCount,f=new Uint8Array(o);r.connect(a),this.analyser=a,this.levelDataArray=f,this.audioContext=n}catch{}return console.log(" "),console.log(" :",this.stream.getAudioTracks().map(n=>({label:n.label,enabled:n.enabled,readyState:n.readyState}))),!0}catch(n){throw console.error(" :",n),n&&n.name==="NotAllowedError"&&(n._dismissed=/dismissed/i.test(String(n.message))),n}}async startRecording(t="mix"){if(console.log("SimpleRecorder: "),this.isRecording)throw new Error("");this.stream?console.log("SimpleRecorder: "):(console.log("SimpleRecorder: "),await this.requestPermissionAndStart(t)),console.log("SimpleRecorder: MediaRecorder"),this.chunks=[];try{this.mediaRecorder=new MediaRecorder(this.stream,{mimeType:"audio/webm;codecs=opus"}),console.log("SimpleRecorder: MediaRecorder")}catch(n){throw console.error("SimpleRecorder: MediaRecorder:",n),new Error(`MediaRecorder: ${n.message}`)}this.mediaRecorder.ondataavailable=n=>{n.data.size>0&&(console.log("SimpleRecorder: :",n.data.size,"bytes"),this.chunks.push(n.data))},this.mediaRecorder.onstart=()=>{console.log("SimpleRecorder: MediaRecorder"),this.isRecording=!0,this.isPaused=!1},this.mediaRecorder.onpause=()=>{console.log(""),this.isPaused=!0},this.mediaRecorder.onresume=()=>{console.log(""),this.isPaused=!1},this.mediaRecorder.onstop=()=>{console.log("SimpleRecorder: MediaRecorder"),this.isRecording=!1,this.isPaused=!1},this.mediaRecorder.onerror=n=>{console.error("SimpleRecorder: MediaRecorder:",n.error)},console.log("SimpleRecorder: MediaRecorder...");try{this.mediaRecorder.start(1e3),console.log("SimpleRecorder: MediaRecorder.start()")}catch(n){throw console.error("SimpleRecorder: MediaRecorder.start():",n),n}return!0}async stopRecording(){if(!this.isRecording)throw new Error("");return new Promise((t,n)=>{this.mediaRecorder.onstop=()=>{try{const r=new Blob(this.chunks,{type:"audio/webm"}),a=URL.createObjectURL(r),o={blob:r,url:a,duration:this.chunks.length,size:r.size,timestamp:Date.now()};this.isRecording=!1,this.isPaused=!1,t(o)}catch(r){n(r)}},this.mediaRecorder.stop()})}pauseRecording(){if(!this.isRecording||this.isPaused)throw new Error("");this.mediaRecorder.pause()}resumeRecording(){if(!this.isRecording||!this.isPaused)throw new Error("");this.mediaRecorder.resume()}getState(){return this.mediaRecorder?this.mediaRecorder.state:"inactive"}onLevel(t){if(this.levelCallback=t,!this.analyser||!this.levelDataArray)return;const n=()=>{if(!this.levelCallback)return;this.analyser.getByteTimeDomainData(this.levelDataArray);let r=0;for(let o=0;o<this.levelDataArray.length;o++){const f=(this.levelDataArray[o]-128)/128;r+=f*f}const a=Math.sqrt(r/this.levelDataArray.length);this.levelCallback(Math.min(1,a*1.5)),requestAnimationFrame(n)};requestAnimationFrame(n)}offLevel(){this.levelCallback=null}cleanup(){const t=n=>{try{n&&n.getTracks().forEach(r=>r.stop())}catch{}};t(this.stream),t(this.micStream),t(this.tabStream),this.stream=null,this.micStream=null,this.tabStream=null,this.mediaRecorder&&this.mediaRecorder.state!=="inactive"&&this.mediaRecorder.stop(),this.mediaRecorder=null,this.chunks=[],this.isRecording=!1,this.isPaused=!1,this.levelCallback=null}}var Xa={};function Tu(e){return new Int8Array(e)}function Bu(e){return new Int16Array(e)}function Zo(e){return new Int32Array(e)}function Qo(e){return new Float32Array(e)}function Cu(e){return new Float64Array(e)}function Jo(e){if(e.length==1)return Qo(e[0]);var t=e[0];e=e.slice(1);for(var n=[],r=0;r<t;r++)n.push(Jo(e));return n}function el(e){if(e.length==1)return Zo(e[0]);var t=e[0];e=e.slice(1);for(var n=[],r=0;r<t;r++)n.push(el(e));return n}function tl(e){if(e.length==1)return Bu(e[0]);var t=e[0];e=e.slice(1);for(var n=[],r=0;r<t;r++)n.push(tl(e));return n}function nl(e){if(e.length==1)return new Array(e[0]);var t=e[0];e=e.slice(1);for(var n=[],r=0;r<t;r++)n.push(nl(e));return n}var rl={};rl.fill=function(e,t,n,r){if(arguments.length==2)for(var a=0;a<e.length;a++)e[a]=arguments[1];else for(var a=t;a<n;a++)e[a]=r};var xr={};xr.arraycopy=function(e,t,n,r,a){for(var o=t+a;t<o;)n[r++]=e[t++]};xr.out={};xr.out.println=function(e){console.log(e)};xr.out.printf=function(){console.log.apply(console,arguments)};var vs={};vs.SQRT2=1.4142135623730951;vs.FAST_LOG10=function(e){return Math.log10(e)};vs.FAST_LOG10_X=function(e,t){return Math.log10(e)*t};function L0(e){this.ordinal=e}L0.short_block_allowed=new L0(0);L0.short_block_coupled=new L0(1);L0.short_block_dispensed=new L0(2);L0.short_block_forced=new L0(3);var sl={};sl.MAX_VALUE=34028235e31;function jt(e){this.ordinal=e}jt.vbr_off=new jt(0);jt.vbr_mt=new jt(1);jt.vbr_rh=new jt(2);jt.vbr_abr=new jt(3);jt.vbr_mtrh=new jt(4);jt.vbr_default=jt.vbr_mtrh;var gu=function(e){},rt={System:xr,VbrMode:jt,Float:sl,ShortBlock:L0,Util:vs,Arrays:rl,new_array_n:nl,new_byte:Tu,new_double:Cu,new_float:Qo,new_float_n:Jo,new_int:Zo,new_int_n:el,new_short_n:tl,assert:gu},Xs,Xi;function Iu(){if(Xi)return Xs;Xi=1;var e=rt,t=e.System,n=e.Util,r=e.Arrays,a=e.new_float,o=gt();function f(){var m=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*n.SQRT2*.5/2384e-9,.017876148*n.SQRT2*.5/2384e-9,.003134727*n.SQRT2*.5/2384e-9,.002457142*n.SQRT2*.5/2384e-9,971317e-9*n.SQRT2*.5/2384e-9,218868e-9*n.SQRT2*.5/2384e-9,101566e-9*n.SQRT2*.5/2384e-9,13828e-9*n.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],S=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],R=S[o.SHORT_TYPE],E=S[o.SHORT_TYPE],_=S[o.SHORT_TYPE],N=S[o.SHORT_TYPE],g=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function O(w,l,s){for(var B=10,b=l+238-14-286,T=-15;T<0;T++){var M,d,p;M=m[B+-10],d=w[b+-224]*M,p=w[l+224]*M,M=m[B+-9],d+=w[b+-160]*M,p+=w[l+160]*M,M=m[B+-8],d+=w[b+-96]*M,p+=w[l+96]*M,M=m[B+-7],d+=w[b+-32]*M,p+=w[l+32]*M,M=m[B+-6],d+=w[b+32]*M,p+=w[l+-32]*M,M=m[B+-5],d+=w[b+96]*M,p+=w[l+-96]*M,M=m[B+-4],d+=w[b+160]*M,p+=w[l+-160]*M,M=m[B+-3],d+=w[b+224]*M,p+=w[l+-224]*M,M=m[B+-2],d+=w[l+-256]*M,p-=w[b+256]*M,M=m[B+-1],d+=w[l+-192]*M,p-=w[b+192]*M,M=m[B+0],d+=w[l+-128]*M,p-=w[b+128]*M,M=m[B+1],d+=w[l+-64]*M,p-=w[b+64]*M,M=m[B+2],d+=w[l+0]*M,p-=w[b+0]*M,M=m[B+3],d+=w[l+64]*M,p-=w[b+-64]*M,M=m[B+4],d+=w[l+128]*M,p-=w[b+-128]*M,M=m[B+5],d+=w[l+192]*M,p-=w[b+-192]*M,d*=m[B+6],M=p-d,s[30+T*2]=p+d,s[31+T*2]=m[B+7]*M,B+=18,l--,b++}{var d,p,c,y;p=w[l+-16]*m[B+-10],d=w[l+-32]*m[B+-2],p+=(w[l+-48]-w[l+16])*m[B+-9],d+=w[l+-96]*m[B+-1],p+=(w[l+-80]+w[l+48])*m[B+-8],d+=w[l+-160]*m[B+0],p+=(w[l+-112]-w[l+80])*m[B+-7],d+=w[l+-224]*m[B+1],p+=(w[l+-144]+w[l+112])*m[B+-6],d-=w[l+32]*m[B+2],p+=(w[l+-176]-w[l+144])*m[B+-5],d-=w[l+96]*m[B+3],p+=(w[l+-208]+w[l+176])*m[B+-4],d-=w[l+160]*m[B+4],p+=(w[l+-240]-w[l+208])*m[B+-3],d-=w[l+224],c=d-p,y=d+p,p=s[14],d=s[15]-p,s[31]=y+p,s[30]=c+d,s[15]=c-d,s[14]=y-p}{var i;i=s[28]-s[0],s[0]+=s[28],s[28]=i*m[B+-2*18+7],i=s[29]-s[1],s[1]+=s[29],s[29]=i*m[B+-2*18+7],i=s[26]-s[2],s[2]+=s[26],s[26]=i*m[B+-4*18+7],i=s[27]-s[3],s[3]+=s[27],s[27]=i*m[B+-4*18+7],i=s[24]-s[4],s[4]+=s[24],s[24]=i*m[B+-6*18+7],i=s[25]-s[5],s[5]+=s[25],s[25]=i*m[B+-6*18+7],i=s[22]-s[6],s[6]+=s[22],s[22]=i*n.SQRT2,i=s[23]-s[7],s[7]+=s[23],s[23]=i*n.SQRT2-s[7],s[7]-=s[6],s[22]-=s[7],s[23]-=s[22],i=s[6],s[6]=s[31]-i,s[31]=s[31]+i,i=s[7],s[7]=s[30]-i,s[30]=s[30]+i,i=s[22],s[22]=s[15]-i,s[15]=s[15]+i,i=s[23],s[23]=s[14]-i,s[14]=s[14]+i,i=s[20]-s[8],s[8]+=s[20],s[20]=i*m[B+-10*18+7],i=s[21]-s[9],s[9]+=s[21],s[21]=i*m[B+-10*18+7],i=s[18]-s[10],s[10]+=s[18],s[18]=i*m[B+-12*18+7],i=s[19]-s[11],s[11]+=s[19],s[19]=i*m[B+-12*18+7],i=s[16]-s[12],s[12]+=s[16],s[16]=i*m[B+-14*18+7],i=s[17]-s[13],s[13]+=s[17],s[17]=i*m[B+-14*18+7],i=-s[20]+s[24],s[20]+=s[24],s[24]=i*m[B+-12*18+7],i=-s[21]+s[25],s[21]+=s[25],s[25]=i*m[B+-12*18+7],i=s[4]-s[8],s[4]+=s[8],s[8]=i*m[B+-12*18+7],i=s[5]-s[9],s[5]+=s[9],s[9]=i*m[B+-12*18+7],i=s[0]-s[12],s[0]+=s[12],s[12]=i*m[B+-4*18+7],i=s[1]-s[13],s[1]+=s[13],s[13]=i*m[B+-4*18+7],i=s[16]-s[28],s[16]+=s[28],s[28]=i*m[B+-4*18+7],i=-s[17]+s[29],s[17]+=s[29],s[29]=i*m[B+-4*18+7],i=n.SQRT2*(s[2]-s[10]),s[2]+=s[10],s[10]=i,i=n.SQRT2*(s[3]-s[11]),s[3]+=s[11],s[11]=i,i=n.SQRT2*(-s[18]+s[26]),s[18]+=s[26],s[26]=i-s[18],i=n.SQRT2*(-s[19]+s[27]),s[19]+=s[27],s[27]=i-s[19],i=s[2],s[19]-=s[3],s[3]-=i,s[2]=s[31]-i,s[31]+=i,i=s[3],s[11]-=s[19],s[18]-=i,s[3]=s[30]-i,s[30]+=i,i=s[18],s[27]-=s[11],s[19]-=i,s[18]=s[15]-i,s[15]+=i,i=s[19],s[10]-=i,s[19]=s[14]-i,s[14]+=i,i=s[10],s[11]-=i,s[10]=s[23]-i,s[23]+=i,i=s[11],s[26]-=i,s[11]=s[22]-i,s[22]+=i,i=s[26],s[27]-=i,s[26]=s[7]-i,s[7]+=i,i=s[27],s[27]=s[6]-i,s[6]+=i,i=n.SQRT2*(s[0]-s[4]),s[0]+=s[4],s[4]=i,i=n.SQRT2*(s[1]-s[5]),s[1]+=s[5],s[5]=i,i=n.SQRT2*(s[16]-s[20]),s[16]+=s[20],s[20]=i,i=n.SQRT2*(s[17]-s[21]),s[17]+=s[21],s[21]=i,i=-n.SQRT2*(s[8]-s[12]),s[8]+=s[12],s[12]=i-s[8],i=-n.SQRT2*(s[9]-s[13]),s[9]+=s[13],s[13]=i-s[9],i=-n.SQRT2*(s[25]-s[29]),s[25]+=s[29],s[29]=i-s[25],i=-n.SQRT2*(s[24]+s[28]),s[24]-=s[28],s[28]=i-s[24],i=s[24]-s[16],s[24]=i,i=s[20]-i,s[20]=i,i=s[28]-i,s[28]=i,i=s[25]-s[17],s[25]=i,i=s[21]-i,s[21]=i,i=s[29]-i,s[29]=i,i=s[17]-s[1],s[17]=i,i=s[9]-i,s[9]=i,i=s[25]-i,s[25]=i,i=s[5]-i,s[5]=i,i=s[21]-i,s[21]=i,i=s[13]-i,s[13]=i,i=s[29]-i,s[29]=i,i=s[1]-s[0],s[1]=i,i=s[16]-i,s[16]=i,i=s[17]-i,s[17]=i,i=s[8]-i,s[8]=i,i=s[9]-i,s[9]=i,i=s[24]-i,s[24]=i,i=s[25]-i,s[25]=i,i=s[4]-i,s[4]=i,i=s[5]-i,s[5]=i,i=s[20]-i,s[20]=i,i=s[21]-i,s[21]=i,i=s[12]-i,s[12]=i,i=s[13]-i,s[13]=i,i=s[28]-i,s[28]=i,i=s[29]-i,s[29]=i,i=s[0],s[0]+=s[31],s[31]-=i,i=s[1],s[1]+=s[30],s[30]-=i,i=s[16],s[16]+=s[15],s[15]-=i,i=s[17],s[17]+=s[14],s[14]-=i,i=s[8],s[8]+=s[23],s[23]-=i,i=s[9],s[9]+=s[22],s[22]-=i,i=s[24],s[24]+=s[7],s[7]-=i,i=s[25],s[25]+=s[6],s[6]-=i,i=s[4],s[4]+=s[27],s[27]-=i,i=s[5],s[5]+=s[26],s[26]-=i,i=s[20],s[20]+=s[11],s[11]-=i,i=s[21],s[21]+=s[10],s[10]-=i,i=s[12],s[12]+=s[19],s[19]-=i,i=s[13],s[13]+=s[18],s[18]-=i,i=s[28],s[28]+=s[3],s[3]-=i,i=s[29],s[29]+=s[2],s[2]-=i}}function Y(w,l){for(var s=0;s<3;s++){var B,b,T,M,d,p;M=w[l+2*3]*S[o.SHORT_TYPE][0]-w[l+5*3],B=w[l+0*3]*S[o.SHORT_TYPE][2]-w[l+3*3],b=M+B,T=M-B,M=w[l+5*3]*S[o.SHORT_TYPE][0]+w[l+2*3],B=w[l+3*3]*S[o.SHORT_TYPE][2]+w[l+0*3],d=M+B,p=-M+B,B=(w[l+1*3]*S[o.SHORT_TYPE][1]-w[l+4*3])*2069978111953089e-26,M=(w[l+4*3]*S[o.SHORT_TYPE][1]+w[l+1*3])*2069978111953089e-26,w[l+3*0]=b*190752519173728e-25+B,w[l+3*5]=-d*190752519173728e-25+M,T=T*.8660254037844387*1907525191737281e-26,d=d*.5*1907525191737281e-26+M,w[l+3*1]=T-d,w[l+3*2]=T+d,b=b*.5*1907525191737281e-26-B,p=p*.8660254037844387*1907525191737281e-26,w[l+3*3]=b+p,w[l+3*4]=b-p,l++}}function k(w,l,s){var B,b;{var T,M,d,p,c,y,i,h;T=s[17]-s[9],d=s[15]-s[11],p=s[14]-s[12],c=s[0]+s[8],y=s[1]+s[7],i=s[2]+s[6],h=s[3]+s[5],w[l+17]=c+i-h-(y-s[4]),b=(c+i-h)*E[19]+(y-s[4]),B=(T-d-p)*E[18],w[l+5]=B+b,w[l+6]=B-b,M=(s[16]-s[10])*E[18],y=y*E[19]+s[4],B=T*E[12]+M+d*E[13]+p*E[14],b=-c*E[16]+y-i*E[17]+h*E[15],w[l+1]=B+b,w[l+2]=B-b,B=T*E[13]-M-d*E[14]+p*E[12],b=-c*E[17]+y-i*E[15]+h*E[16],w[l+9]=B+b,w[l+10]=B-b,B=T*E[14]-M+d*E[12]-p*E[13],b=c*E[15]-y+i*E[16]-h*E[17],w[l+13]=B+b,w[l+14]=B-b}{var v,x,C,q,H,X,u,A;v=s[8]-s[0],C=s[6]-s[2],q=s[5]-s[3],H=s[17]+s[9],X=s[16]+s[10],u=s[15]+s[11],A=s[14]+s[12],w[l+0]=H+u+A+(X+s[13]),B=(H+u+A)*E[19]-(X+s[13]),b=(v-C+q)*E[18],w[l+11]=B+b,w[l+12]=B-b,x=(s[7]-s[1])*E[18],X=s[13]-X*E[19],B=H*E[15]-X+u*E[16]+A*E[17],b=v*E[14]+x+C*E[12]+q*E[13],w[l+3]=B+b,w[l+4]=B-b,B=-H*E[17]+X-u*E[15]-A*E[16],b=v*E[13]+x-C*E[14]-q*E[12],w[l+7]=B+b,w[l+8]=B-b,B=-H*E[16]+X-u*E[17]-A*E[15],b=v*E[12]-x+C*E[13]-q*E[14],w[l+15]=B+b,w[l+16]=B-b}}this.mdct_sub48=function(w,l,s){for(var B=l,b=286,T=0;T<w.channels_out;T++){for(var M=0;M<w.mode_gr;M++){for(var d,p=w.l3_side.tt[M][T],c=p.xr,y=0,i=w.sb_sample[T][1-M],h=0,v=0;v<18/2;v++)for(O(B,b,i[h]),O(B,b+32,i[h+1]),h+=2,b+=64,d=1;d<32;d+=2)i[h-1][d]*=-1;for(d=0;d<32;d++,y+=18){var x=p.block_type,C=w.sb_sample[T][M],q=w.sb_sample[T][1-M];if(p.mixed_block_flag!=0&&d<2&&(x=0),w.amp_filter[d]<1e-12)r.fill(c,y+0,y+18,0);else{if(w.amp_filter[d]<1)for(var v=0;v<18;v++)q[v][g[d]]*=w.amp_filter[d];if(x==o.SHORT_TYPE){for(var v=-12/4;v<0;v++){var H=S[o.SHORT_TYPE][v+3];c[y+v*3+9]=C[9+v][g[d]]*H-C[8-v][g[d]],c[y+v*3+18]=C[14-v][g[d]]*H+C[15+v][g[d]],c[y+v*3+10]=C[15+v][g[d]]*H-C[14-v][g[d]],c[y+v*3+19]=q[2-v][g[d]]*H+q[3+v][g[d]],c[y+v*3+11]=q[3+v][g[d]]*H-q[2-v][g[d]],c[y+v*3+20]=q[8-v][g[d]]*H+q[9+v][g[d]]}Y(c,y)}else{for(var X=a(18),v=-36/4;v<0;v++){var u,A;u=S[x][v+27]*q[v+9][g[d]]+S[x][v+36]*q[8-v][g[d]],A=S[x][v+9]*C[v+9][g[d]]-S[x][v+18]*C[8-v][g[d]],X[v+9]=u-A*R[3+v+9],X[v+18]=u*R[3+v+9]+A}k(c,y,X)}}if(x!=o.SHORT_TYPE&&d!=0)for(var v=7;v>=0;--v){var G,j;G=c[y+v]*_[20+v]+c[y+-1-v]*N[28+v],j=c[y+v]*N[28+v]-c[y+-1-v]*_[20+v],c[y+-1-v]=G,c[y+v]=j}}}if(B=s,b=286,w.mode_gr==1)for(var me=0;me<18;me++)t.arraycopy(w.sb_sample[T][1][me],0,w.sb_sample[T][0][me],0,32)}}}return Xs=f,Xs}var qs,qi;function al(){if(qi)return qs;qi=1;var e=gt(),t=rt,n=t.System,r=t.new_float,a=t.new_float_n;function o(){this.l=r(e.SBMAX_l),this.s=a([e.SBMAX_s,3]);var f=this;this.assign=function(m){n.arraycopy(m.l,0,f.l,0,e.SBMAX_l);for(var S=0;S<e.SBMAX_s;S++)for(var R=0;R<3;R++)f.s[S][R]=m.s[S][R]}}return qs=o,qs}var Gs,Gi;function Lu(){if(Gi)return Gs;Gi=1;var e=al();function t(){this.thm=new e,this.en=new e}return Gs=t,Gs}var Ys,Yi;function gt(){if(Yi)return Ys;Yi=1;var e=rt,t=e.System,n=e.VbrMode,r=e.new_array_n,a=e.new_float,o=e.new_float_n,f=e.new_int,m=e.assert;S.ENCDELAY=576,S.POSTDELAY=1152,S.MDCTDELAY=48,S.FFTOFFSET=224+S.MDCTDELAY,S.DECDELAY=528,S.SBLIMIT=32,S.CBANDS=64,S.SBPSY_l=21,S.SBPSY_s=12,S.SBMAX_l=22,S.SBMAX_s=13,S.PSFB21=6,S.PSFB12=6,S.BLKSIZE=1024,S.HBLKSIZE=S.BLKSIZE/2+1,S.BLKSIZE_s=256,S.HBLKSIZE_s=S.BLKSIZE_s/2+1,S.NORM_TYPE=0,S.START_TYPE=1,S.SHORT_TYPE=2,S.STOP_TYPE=3,S.MPG_MD_LR_LR=0,S.MPG_MD_LR_I=1,S.MPG_MD_MS_LR=2,S.MPG_MD_MS_I=3,S.fircoef=[-.0207887*5,-.0378413*5,-.0432472*5,-.031183*5,779609e-23*5,.0467745*5,.10091*5,.151365*5,.187098*5];function S(){var R=Iu(),E=Lu(),_=S.FFTOFFSET,N=S.MPG_MD_MS_LR,g=null;this.psy=null;var O=null,Y=null,k=null;this.setModules=function(b,T,M,d){g=b,this.psy=T,O=T,Y=d,k=M};var w=new R;function l(b){var T,M;if(b.ATH.useAdjust==0){b.ATH.adjust=1;return}if(M=b.loudness_sq[0][0],T=b.loudness_sq[1][0],b.channels_out==2?(M+=b.loudness_sq[0][1],T+=b.loudness_sq[1][1]):(M+=M,T+=T),b.mode_gr==2&&(M=Math.max(M,T)),M*=.5,M*=b.ATH.aaSensitivityP,M>.03125)b.ATH.adjust>=1?b.ATH.adjust=1:b.ATH.adjust<b.ATH.adjustLimit&&(b.ATH.adjust=b.ATH.adjustLimit),b.ATH.adjustLimit=1;else{var d=31.98*M+625e-6;b.ATH.adjust>=d?(b.ATH.adjust*=d*.075+.925,b.ATH.adjust<d&&(b.ATH.adjust=d)):b.ATH.adjustLimit>=d?b.ATH.adjust=d:b.ATH.adjust<b.ATH.adjustLimit&&(b.ATH.adjust=b.ATH.adjustLimit),b.ATH.adjustLimit=d}}function s(b){var T,M;for(m(0<=b.bitrate_index&&b.bitrate_index<16),m(0<=b.mode_ext&&b.mode_ext<4),b.bitrate_stereoMode_Hist[b.bitrate_index][4]++,b.bitrate_stereoMode_Hist[15][4]++,b.channels_out==2&&(b.bitrate_stereoMode_Hist[b.bitrate_index][b.mode_ext]++,b.bitrate_stereoMode_Hist[15][b.mode_ext]++),T=0;T<b.mode_gr;++T)for(M=0;M<b.channels_out;++M){var d=b.l3_side.tt[T][M].block_type|0;b.l3_side.tt[T][M].mixed_block_flag!=0&&(d=4),b.bitrate_blockType_Hist[b.bitrate_index][d]++,b.bitrate_blockType_Hist[b.bitrate_index][5]++,b.bitrate_blockType_Hist[15][d]++,b.bitrate_blockType_Hist[15][5]++}}function B(b,T){var M=b.internal_flags,d,p;if(M.lame_encode_frame_init==0){var c,y,i=a(2014),h=a(2014);for(M.lame_encode_frame_init=1,c=0,y=0;c<286+576*(1+M.mode_gr);++c)c<576*M.mode_gr?(i[c]=0,M.channels_out==2&&(h[c]=0)):(i[c]=T[0][y],M.channels_out==2&&(h[c]=T[1][y]),++y);for(p=0;p<M.mode_gr;p++)for(d=0;d<M.channels_out;d++)M.l3_side.tt[p][d].block_type=S.SHORT_TYPE;w.mdct_sub48(M,i,h),m(576>=S.FFTOFFSET),m(M.mf_size>=S.BLKSIZE+b.framesize-S.FFTOFFSET),m(M.mf_size>=512+b.framesize-32)}}this.lame_encode_mp3_frame=function(b,T,M,d,p,c){var y,i=r([2,2]);i[0][0]=new E,i[0][1]=new E,i[1][0]=new E,i[1][1]=new E;var h=r([2,2]);h[0][0]=new E,h[0][1]=new E,h[1][0]=new E,h[1][1]=new E;var v,x=[null,null],C=b.internal_flags,q=o([2,4]),H=[.5,.5],X=[[0,0],[0,0]],u=[[0,0],[0,0]],A,G,j;if(x[0]=T,x[1]=M,C.lame_encode_frame_init==0&&B(b,x),C.padding=0,(C.slot_lag-=C.frac_SpF)<0&&(C.slot_lag+=b.out_samplerate,C.padding=1),C.psymodel!=0){var me,ye=[null,null],pe=0,U=f(2);for(j=0;j<C.mode_gr;j++){for(G=0;G<C.channels_out;G++)ye[G]=x[G],pe=576+j*576-S.FFTOFFSET;if(b.VBR==n.vbr_mtrh||b.VBR==n.vbr_mt?me=O.L3psycho_anal_vbr(b,ye,pe,j,i,h,X[j],u[j],q[j],U):me=O.L3psycho_anal_ns(b,ye,pe,j,i,h,X[j],u[j],q[j],U),me!=0)return-4;for(b.mode==MPEGMode.JOINT_STEREO&&(H[j]=q[j][2]+q[j][3],H[j]>0&&(H[j]=q[j][3]/H[j])),G=0;G<C.channels_out;G++){var ce=C.l3_side.tt[j][G];ce.block_type=U[G],ce.mixed_block_flag=0}}}else for(j=0;j<C.mode_gr;j++)for(G=0;G<C.channels_out;G++)C.l3_side.tt[j][G].block_type=S.NORM_TYPE,C.l3_side.tt[j][G].mixed_block_flag=0,u[j][G]=X[j][G]=700;if(l(C),w.mdct_sub48(C,x[0],x[1]),C.mode_ext=S.MPG_MD_LR_LR,b.force_ms)C.mode_ext=S.MPG_MD_MS_LR;else if(b.mode==MPEGMode.JOINT_STEREO){var te=0,ee=0;for(j=0;j<C.mode_gr;j++)for(G=0;G<C.channels_out;G++)te+=u[j][G],ee+=X[j][G];if(te<=1*ee){var Be=C.l3_side.tt[0],P=C.l3_side.tt[C.mode_gr-1];Be[0].block_type==Be[1].block_type&&P[0].block_type==P[1].block_type&&(C.mode_ext=S.MPG_MD_MS_LR)}}if(C.mode_ext==N?(v=h,A=u):(v=i,A=X),b.analysis&&C.pinfo!=null)for(j=0;j<C.mode_gr;j++)for(G=0;G<C.channels_out;G++)C.pinfo.ms_ratio[j]=C.ms_ratio[j],C.pinfo.ms_ener_ratio[j]=H[j],C.pinfo.blocktype[j][G]=C.l3_side.tt[j][G].block_type,C.pinfo.pe[j][G]=A[j][G],t.arraycopy(C.l3_side.tt[j][G].xr,0,C.pinfo.xr[j][G],0,576),C.mode_ext==N&&(C.pinfo.ers[j][G]=C.pinfo.ers[j][G+2],t.arraycopy(C.pinfo.energy[j][G+2],0,C.pinfo.energy[j][G],0,C.pinfo.energy[j][G].length));if(b.VBR==n.vbr_off||b.VBR==n.vbr_abr){var F,K;for(F=0;F<18;F++)C.nsPsy.pefirbuf[F]=C.nsPsy.pefirbuf[F+1];for(K=0,j=0;j<C.mode_gr;j++)for(G=0;G<C.channels_out;G++)K+=A[j][G];for(C.nsPsy.pefirbuf[18]=K,K=C.nsPsy.pefirbuf[9],F=0;F<9;F++)K+=(C.nsPsy.pefirbuf[F]+C.nsPsy.pefirbuf[18-F])*S.fircoef[F];for(K=670*5*C.mode_gr*C.channels_out/K,j=0;j<C.mode_gr;j++)for(G=0;G<C.channels_out;G++)A[j][G]*=K}if(C.iteration_loop.iteration_loop(b,A,H,v),g.format_bitstream(b),y=g.copy_buffer(C,d,p,c,1),b.bWriteVbrTag&&Y.addVbrFrame(b),b.analysis&&C.pinfo!=null){for(G=0;G<C.channels_out;G++){var ne;for(ne=0;ne<_;ne++)C.pinfo.pcmdata[G][ne]=C.pinfo.pcmdata[G][ne+b.framesize];for(ne=_;ne<1600;ne++)C.pinfo.pcmdata[G][ne]=x[G][ne-_]}k.set_frame_pinfo(b,v)}return s(C),y}}return Ys=S,Ys}var il=rt,Ui=il.Util,ji=il.new_float,ft=gt();function Ou(){var e=ji(ft.BLKSIZE),t=ji(ft.BLKSIZE_s/2),n=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function r(o,f,m){var S=0,R,E,_;m<<=1;var N=f+m;R=4;do{var g,O,Y,k,w,l,s;s=R>>1,k=R,w=R<<1,l=w+k,R=w<<1,E=f,_=E+s;do{var B,b,T,M;b=o[E+0]-o[E+k],B=o[E+0]+o[E+k],M=o[E+w]-o[E+l],T=o[E+w]+o[E+l],o[E+w]=B-T,o[E+0]=B+T,o[E+l]=b-M,o[E+k]=b+M,b=o[_+0]-o[_+k],B=o[_+0]+o[_+k],M=Ui.SQRT2*o[_+l],T=Ui.SQRT2*o[_+w],o[_+w]=B-T,o[_+0]=B+T,o[_+l]=b-M,o[_+k]=b+M,_+=R,E+=R}while(E<N);for(O=n[S+0],g=n[S+1],Y=1;Y<s;Y++){var d,p;d=1-2*g*g,p=2*g*O,E=f+Y,_=f+k-Y;do{var c,y,i,B,b,h,T,v,M,x;y=p*o[E+k]-d*o[_+k],c=d*o[E+k]+p*o[_+k],b=o[E+0]-c,B=o[E+0]+c,h=o[_+0]-y,i=o[_+0]+y,y=p*o[E+l]-d*o[_+l],c=d*o[E+l]+p*o[_+l],M=o[E+w]-c,T=o[E+w]+c,x=o[_+w]-y,v=o[_+w]+y,y=g*T-O*x,c=O*T+g*x,o[E+w]=B-c,o[E+0]=B+c,o[_+l]=h-y,o[_+k]=h+y,y=O*v-g*M,c=g*v+O*M,o[_+w]=i-c,o[_+0]=i+c,o[E+l]=b-y,o[E+k]=b+y,_+=R,E+=R}while(E<N);d=O,O=d*n[S+0]-g*n[S+1],g=d*n[S+1]+g*n[S+0]}S+=2}while(R<m)}var a=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(o,f,m,S,R){for(var E=0;E<3;E++){var _=ft.BLKSIZE_s/2,N=65535&576/3*(E+1),g=ft.BLKSIZE_s/8-1;do{var O,Y,k,w,l,s=a[g<<2]&255;O=t[s]*S[m][R+s+N],l=t[127-s]*S[m][R+s+N+128],Y=O-l,O=O+l,k=t[s+64]*S[m][R+s+N+64],l=t[63-s]*S[m][R+s+N+192],w=k-l,k=k+l,_-=4,f[E][_+0]=O+k,f[E][_+2]=O-k,f[E][_+1]=Y+w,f[E][_+3]=Y-w,O=t[s+1]*S[m][R+s+N+1],l=t[126-s]*S[m][R+s+N+129],Y=O-l,O=O+l,k=t[s+65]*S[m][R+s+N+65],l=t[62-s]*S[m][R+s+N+193],w=k-l,k=k+l,f[E][_+ft.BLKSIZE_s/2+0]=O+k,f[E][_+ft.BLKSIZE_s/2+2]=O-k,f[E][_+ft.BLKSIZE_s/2+1]=Y+w,f[E][_+ft.BLKSIZE_s/2+3]=Y-w}while(--g>=0);r(f[E],_,ft.BLKSIZE_s/2)}},this.fft_long=function(o,f,m,S,R){var E=ft.BLKSIZE/8-1,_=ft.BLKSIZE/2;do{var N,g,O,Y,k,w=a[E]&255;N=e[w]*S[m][R+w],k=e[w+512]*S[m][R+w+512],g=N-k,N=N+k,O=e[w+256]*S[m][R+w+256],k=e[w+768]*S[m][R+w+768],Y=O-k,O=O+k,_-=4,f[_+0]=N+O,f[_+2]=N-O,f[_+1]=g+Y,f[_+3]=g-Y,N=e[w+1]*S[m][R+w+1],k=e[w+513]*S[m][R+w+513],g=N-k,N=N+k,O=e[w+257]*S[m][R+w+257],k=e[w+769]*S[m][R+w+769],Y=O-k,O=O+k,f[_+ft.BLKSIZE/2+0]=N+O,f[_+ft.BLKSIZE/2+2]=N-O,f[_+ft.BLKSIZE/2+1]=g+Y,f[_+ft.BLKSIZE/2+3]=g-Y}while(--E>=0);r(f,_,ft.BLKSIZE/2)},this.init_fft=function(o){for(var f=0;f<ft.BLKSIZE;f++)e[f]=.42-.5*Math.cos(2*Math.PI*(f+.5)/ft.BLKSIZE)+.08*Math.cos(4*Math.PI*(f+.5)/ft.BLKSIZE);for(var f=0;f<ft.BLKSIZE_s/2;f++)t[f]=.5*(1-Math.cos(2*Math.PI*(f+.5)/ft.BLKSIZE_s))}}var Nu=Ou,N0=rt,xn=N0.VbrMode,Ki=N0.Float,Rn=N0.ShortBlock,kt=N0.Util,Hu=N0.Arrays,dt=N0.new_float,Wt=N0.new_float_n,tn=N0.new_int,ke=N0.assert,ku=Nu,se=gt();function Vu(){var e=new ku,t=2.302585092994046,n=2,r=16,a=2,o=16,f=.34,m=1/(14752*14752)/(se.BLKSIZE/2),S=.01,R=.8,E=.6,_=.3,N=3.5,g=21,O=.2302585093;function Y(I){return I}function k(I,L){for(var $=0,D=0;D<se.BLKSIZE/2;++D)$+=I[D]*L.ATH.eql_w[D];return $*=m,$}function w(I,L,$,D,W,V,Z,Q,z,ae,J){var ie=I.internal_flags;if(z<2)e.fft_long(ie,D[W],z,ae,J),e.fft_short(ie,V[Z],z,ae,J);else if(z==2){for(var xe=se.BLKSIZE-1;xe>=0;--xe){var Ie=D[W+0][xe],fe=D[W+1][xe];D[W+0][xe]=(Ie+fe)*kt.SQRT2*.5,D[W+1][xe]=(Ie-fe)*kt.SQRT2*.5}for(var Ce=2;Ce>=0;--Ce)for(var xe=se.BLKSIZE_s-1;xe>=0;--xe){var Ie=V[Z+0][Ce][xe],fe=V[Z+1][Ce][xe];V[Z+0][Ce][xe]=(Ie+fe)*kt.SQRT2*.5,V[Z+1][Ce][xe]=(Ie-fe)*kt.SQRT2*.5}}L[0]=D[W+0][0],L[0]*=L[0];for(var xe=se.BLKSIZE/2-1;xe>=0;--xe){var re=D[W+0][se.BLKSIZE/2-xe],Me=D[W+0][se.BLKSIZE/2+xe];L[se.BLKSIZE/2-xe]=(re*re+Me*Me)*.5}for(var Ce=2;Ce>=0;--Ce){$[Ce][0]=V[Z+0][Ce][0],$[Ce][0]*=$[Ce][0];for(var xe=se.BLKSIZE_s/2-1;xe>=0;--xe){var re=V[Z+0][Ce][se.BLKSIZE_s/2-xe],Me=V[Z+0][Ce][se.BLKSIZE_s/2+xe];$[Ce][se.BLKSIZE_s/2-xe]=(re*re+Me*Me)*.5}}{for(var Fe=0,xe=11;xe<se.HBLKSIZE;xe++)Fe+=L[xe];ie.tot_ener[z]=Fe}if(I.analysis){for(var xe=0;xe<se.HBLKSIZE;xe++)ie.pinfo.energy[Q][z][xe]=ie.pinfo.energy_save[z][xe],ie.pinfo.energy_save[z][xe]=L[xe];ie.pinfo.pe[Q][z]=ie.pe[z]}I.athaa_loudapprox==2&&z<2&&(ie.loudness_sq[Q][z]=ie.loudness_sq_save[z],ie.loudness_sq_save[z]=k(L,ie))}var l=8,s=23,B=15,b,T,M,d=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];function p(){b=Math.pow(10,(l+1)/16),T=Math.pow(10,(s+1)/16),M=Math.pow(10,B/10)}var c=[3.3246*3.3246,3.23837*3.23837,3.15437*3.15437,3.00412*3.00412,2.86103*2.86103,2.65407*2.65407,2.46209*2.46209,2.284*2.284,2.11879*2.11879,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,1.56911*1.56911,1.46658*1.46658,1.37074*1.37074,1.31036*1.31036,1.25264*1.25264,1.20648*1.20648,1.16203*1.16203,1.12765*1.12765,1.09428*1.09428,1.0659*1.0659,1.03826*1.03826,1.01895*1.01895,1],y=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1],i=[2.35364*2.35364,2.29259*2.29259,2.23313*2.23313,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,1.49999*1.49999,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.11084*1.11084,1.03826*1.03826];function h(I,L,$,D,W,V){var Z;if(L>I)if(L<I*T)Z=L/I;else return I+L;else{if(I>=L*T)return I+L;Z=I/L}if(I+=L,D+3<=6){if(Z>=b)return I;var Q=0|kt.FAST_LOG10_X(Z,16);return I*y[Q]}var Q=0|kt.FAST_LOG10_X(Z,16);if(L=W.ATH.cb_l[$]*W.ATH.adjust,I<M*L){if(I>L){var z,ae;return z=1,Q<=13&&(z=i[Q]),ae=kt.FAST_LOG10_X(I/L,10/15),I*((c[Q]-z)*ae+z)}return Q>13?I:I*i[Q]}return I*c[Q]}var v=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1];function x(I,L,$){var D;if(I<0&&(I=0),L<0&&(L=0),I<=0)return L;if(L<=0)return I;if(L>I?D=L/I:D=I/L,-2<=$&&$<=2){if(D>=b)return I+L;var W=0|kt.FAST_LOG10_X(D,16);return(I+L)*v[W]}return D<T?I+L:(I<L&&(I=L),I)}function C(I,L){var $=I.internal_flags;if($.channels_out>1){for(var D=0;D<se.SBMAX_l;D++){var W=$.thm[0].l[D],V=$.thm[1].l[D];$.thm[0].l[D]+=V*L,$.thm[1].l[D]+=W*L}for(var D=0;D<se.SBMAX_s;D++)for(var Z=0;Z<3;Z++){var W=$.thm[0].s[D][Z],V=$.thm[1].s[D][Z];$.thm[0].s[D][Z]+=V*L,$.thm[1].s[D][Z]+=W*L}}}function q(I){for(var L=0;L<se.SBMAX_l;L++)if(!(I.thm[0].l[L]>1.58*I.thm[1].l[L]||I.thm[1].l[L]>1.58*I.thm[0].l[L])){var $=I.mld_l[L]*I.en[3].l[L],D=Math.max(I.thm[2].l[L],Math.min(I.thm[3].l[L],$));$=I.mld_l[L]*I.en[2].l[L];var W=Math.max(I.thm[3].l[L],Math.min(I.thm[2].l[L],$));I.thm[2].l[L]=D,I.thm[3].l[L]=W}for(var L=0;L<se.SBMAX_s;L++)for(var V=0;V<3;V++)if(!(I.thm[0].s[L][V]>1.58*I.thm[1].s[L][V]||I.thm[1].s[L][V]>1.58*I.thm[0].s[L][V])){var $=I.mld_s[L]*I.en[3].s[L][V],D=Math.max(I.thm[2].s[L][V],Math.min(I.thm[3].s[L][V],$));$=I.mld_s[L]*I.en[2].s[L][V];var W=Math.max(I.thm[3].s[L][V],Math.min(I.thm[2].s[L][V],$));I.thm[2].s[L][V]=D,I.thm[3].s[L][V]=W}}function H(I,L,$){var D=L,W=Math.pow(10,$);L*=2,D*=2;for(var V=0;V<se.SBMAX_l;V++){var Z,Q,z,ae;if(ae=I.ATH.cb_l[I.bm_l[V]]*W,Z=Math.min(Math.max(I.thm[0].l[V],ae),Math.max(I.thm[1].l[V],ae)),Q=Math.max(I.thm[2].l[V],ae),z=Math.max(I.thm[3].l[V],ae),Z*L<Q+z){var J=Z*D/(Q+z);Q*=J,z*=J}I.thm[2].l[V]=Math.min(Q,I.thm[2].l[V]),I.thm[3].l[V]=Math.min(z,I.thm[3].l[V])}W*=se.BLKSIZE_s/se.BLKSIZE;for(var V=0;V<se.SBMAX_s;V++)for(var ie=0;ie<3;ie++){var Z,Q,z,ae;if(ae=I.ATH.cb_s[I.bm_s[V]]*W,Z=Math.min(Math.max(I.thm[0].s[V][ie],ae),Math.max(I.thm[1].s[V][ie],ae)),Q=Math.max(I.thm[2].s[V][ie],ae),z=Math.max(I.thm[3].s[V][ie],ae),Z*L<Q+z){var J=Z*L/(Q+z);Q*=J,z*=J}I.thm[2].s[V][ie]=Math.min(I.thm[2].s[V][ie],Q),I.thm[3].s[V][ie]=Math.min(I.thm[3].s[V][ie],z)}}function X(I,L,$,D,W){var V,Z,Q=0,z=0;for(V=Z=0;V<se.SBMAX_s;++Z,++V){for(var ae=I.bo_s[V],J=I.npart_s,ie=ae<J?ae:J;Z<ie;)ke(L[Z]>=0),ke($[Z]>=0),Q+=L[Z],z+=$[Z],Z++;if(I.en[D].s[V][W]=Q,I.thm[D].s[V][W]=z,Z>=J){++V;break}ke(L[Z]>=0),ke($[Z]>=0);{var xe=I.PSY.bo_s_weight[V],Ie=1-xe;Q=xe*L[Z],z=xe*$[Z],I.en[D].s[V][W]+=Q,I.thm[D].s[V][W]+=z,Q=Ie*L[Z],z=Ie*$[Z]}}for(;V<se.SBMAX_s;++V)I.en[D].s[V][W]=0,I.thm[D].s[V][W]=0}function u(I,L,$,D){var W,V,Z=0,Q=0;for(W=V=0;W<se.SBMAX_l;++V,++W){for(var z=I.bo_l[W],ae=I.npart_l,J=z<ae?z:ae;V<J;)ke(L[V]>=0),ke($[V]>=0),Z+=L[V],Q+=$[V],V++;if(I.en[D].l[W]=Z,I.thm[D].l[W]=Q,V>=ae){++W;break}ke(L[V]>=0),ke($[V]>=0);{var ie=I.PSY.bo_l_weight[W],xe=1-ie;Z=ie*L[V],Q=ie*$[V],I.en[D].l[W]+=Z,I.thm[D].l[W]+=Q,Z=xe*L[V],Q=xe*$[V]}}for(;W<se.SBMAX_l;++W)I.en[D].l[W]=0,I.thm[D].l[W]=0}function A(I,L,$,D,W,V){var Z=I.internal_flags,Q,z;for(z=Q=0;z<Z.npart_s;++z){for(var ae=0,J=Z.numlines_s[z],ie=0;ie<J;++ie,++Q){var xe=L[V][Q];ae+=xe}$[z]=ae}for(ke(z==Z.npart_s),Q=z=0;z<Z.npart_s;z++){var Ie=Z.s3ind_s[z][0],fe=Z.s3_ss[Q++]*$[Ie];for(++Ie;Ie<=Z.s3ind_s[z][1];)fe+=Z.s3_ss[Q]*$[Ie],++Q,++Ie;{var Ce=a*Z.nb_s1[W][z];D[z]=Math.min(fe,Ce)}if(Z.blocktype_old[W&1]==se.SHORT_TYPE){var Ce=o*Z.nb_s2[W][z],re=D[z];D[z]=Math.min(Ce,re)}Z.nb_s2[W][z]=Z.nb_s1[W][z],Z.nb_s1[W][z]=fe,ke(D[z]>=0)}for(;z<=se.CBANDS;++z)$[z]=0,D[z]=0}function G(I,L,$,D){var W=I.internal_flags;I.short_blocks==Rn.short_block_coupled&&!(L[0]!=0&&L[1]!=0)&&(L[0]=L[1]=0);for(var V=0;V<W.channels_out;V++)D[V]=se.NORM_TYPE,I.short_blocks==Rn.short_block_dispensed&&(L[V]=1),I.short_blocks==Rn.short_block_forced&&(L[V]=0),L[V]!=0?(ke(W.blocktype_old[V]!=se.START_TYPE),W.blocktype_old[V]==se.SHORT_TYPE&&(D[V]=se.STOP_TYPE)):(D[V]=se.SHORT_TYPE,W.blocktype_old[V]==se.NORM_TYPE&&(W.blocktype_old[V]=se.START_TYPE),W.blocktype_old[V]==se.STOP_TYPE&&(W.blocktype_old[V]=se.SHORT_TYPE)),$[V]=W.blocktype_old[V],W.blocktype_old[V]=D[V]}function j(I,L,$){return $>=1?I:$<=0?L:L>0?Math.pow(I/L,$)*L:0}var me=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function ye(I,L){for(var $=309.07,D=0;D<se.SBMAX_s-1;D++)for(var W=0;W<3;W++){var V=I.thm.s[D][W];if(V>0){var Z=V*L,Q=I.en.s[D][W];Q>Z&&(Q>Z*1e10?$+=me[D]*(10*t):$+=me[D]*kt.FAST_LOG10(Q/Z))}}return $}var pe=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function U(I,L){for(var $=281.0575,D=0;D<se.SBMAX_l-1;D++){var W=I.thm.l[D];if(W>0){var V=W*L,Z=I.en.l[D];Z>V&&(Z>V*1e10?$+=pe[D]*(10*t):$+=pe[D]*kt.FAST_LOG10(Z/V))}}return $}function ce(I,L,$,D,W){var V,Z;for(V=Z=0;V<I.npart_l;++V){var Q=0,z=0,ae;for(ae=0;ae<I.numlines_l[V];++ae,++Z){var J=L[Z];Q+=J,z<J&&(z=J)}$[V]=Q,D[V]=z,W[V]=Q*I.rnumlines_l[V],ke(I.rnumlines_l[V]>=0),ke($[V]>=0),ke(D[V]>=0),ke(W[V]>=0)}}function te(I,L,$,D){var W=d.length-1,V=0,Z=$[V]+$[V+1];if(Z>0){var Q=L[V];Q<L[V+1]&&(Q=L[V+1]),ke(I.numlines_l[V]+I.numlines_l[V+1]-1>0),Z=20*(Q*2-Z)/(Z*(I.numlines_l[V]+I.numlines_l[V+1]-1));var z=0|Z;z>W&&(z=W),D[V]=z}else D[V]=0;for(V=1;V<I.npart_l-1;V++)if(Z=$[V-1]+$[V]+$[V+1],Z>0){var Q=L[V-1];Q<L[V]&&(Q=L[V]),Q<L[V+1]&&(Q=L[V+1]),ke(I.numlines_l[V-1]+I.numlines_l[V]+I.numlines_l[V+1]-1>0),Z=20*(Q*3-Z)/(Z*(I.numlines_l[V-1]+I.numlines_l[V]+I.numlines_l[V+1]-1));var z=0|Z;z>W&&(z=W),D[V]=z}else D[V]=0;if(ke(V==I.npart_l-1),Z=$[V-1]+$[V],Z>0){var Q=L[V-1];Q<L[V]&&(Q=L[V]),ke(I.numlines_l[V-1]+I.numlines_l[V]-1>0),Z=20*(Q*2-Z)/(Z*(I.numlines_l[V-1]+I.numlines_l[V]-1));var z=0|Z;z>W&&(z=W),D[V]=z}else D[V]=0;ke(V==I.npart_l-1)}var ee=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];this.L3psycho_anal_ns=function(I,L,$,D,W,V,Z,Q,z,ae){var J=I.internal_flags,ie=Wt([2,se.BLKSIZE]),xe=Wt([2,3,se.BLKSIZE_s]),Ie=dt(se.CBANDS+1),fe=dt(se.CBANDS+1),Ce=dt(se.CBANDS+2),re=tn(2),Me=tn(2),Fe,_e,we,he,Le,ze,Ae,He,$e=Wt([2,576]),et,Pt=tn(se.CBANDS+2),ut=tn(se.CBANDS+2);for(Hu.fill(ut,0),Fe=J.channels_out,I.mode==MPEGMode.JOINT_STEREO&&(Fe=4),I.VBR==xn.vbr_off?et=J.ResvMax==0?0:J.ResvSize/J.ResvMax*.5:I.VBR==xn.vbr_rh||I.VBR==xn.vbr_mtrh||I.VBR==xn.vbr_mt?et=.6:et=1,_e=0;_e<J.channels_out;_e++){var tt=L[_e],Nt=$+576-350-g+192;for(he=0;he<576;he++){var $t,Dt;for($t=tt[Nt+he+10],Dt=0,Le=0;Le<(g-1)/2-1;Le+=2)$t+=ee[Le]*(tt[Nt+he+Le]+tt[Nt+he+g-Le]),Dt+=ee[Le+1]*(tt[Nt+he+Le+1]+tt[Nt+he+g-Le-1]);$e[_e][he]=$t+Dt}W[D][_e].en.assign(J.en[_e]),W[D][_e].thm.assign(J.thm[_e]),Fe>2&&(V[D][_e].en.assign(J.en[_e+2]),V[D][_e].thm.assign(J.thm[_e+2]))}for(_e=0;_e<Fe;_e++){var e0,t0,Mt=dt(12),c0=[0,0,0,0],bn=dt(12),xs=1,Za,Qa=dt(se.CBANDS),Ja=dt(se.CBANDS),nt=[0,0,0,0],ei=dt(se.HBLKSIZE),ti=Wt([3,se.HBLKSIZE_s]);for(ke(J.npart_s<=se.CBANDS),ke(J.npart_l<=se.CBANDS),he=0;he<3;he++)Mt[he]=J.nsPsy.last_en_subshort[_e][he+6],ke(J.nsPsy.last_en_subshort[_e][he+4]>0),bn[he]=Mt[he]/J.nsPsy.last_en_subshort[_e][he+4],c0[0]+=Mt[he];if(_e==2)for(he=0;he<576;he++){var Rs,As;Rs=$e[0][he],As=$e[1][he],$e[0][he]=Rs+As,$e[1][he]=Rs-As}{var ni=$e[_e&1],Pn=0;for(he=0;he<9;he++){for(var Nl=Pn+64,mt=1;Pn<Nl;Pn++)mt<Math.abs(ni[Pn])&&(mt=Math.abs(ni[Pn]));J.nsPsy.last_en_subshort[_e][he]=Mt[he+3]=mt,c0[1+he/3]+=mt,mt>Mt[he+3-2]?(ke(Mt[he+3-2]>0),mt=mt/Mt[he+3-2]):Mt[he+3-2]>mt*10?mt=Mt[he+3-2]/(mt*10):mt=0,bn[he+3]=mt}}if(I.analysis){var Es=bn[0];for(he=1;he<12;he++)Es<bn[he]&&(Es=bn[he]);J.pinfo.ers[D][_e]=J.pinfo.ers_save[_e],J.pinfo.ers_save[_e]=Es}for(Za=_e==3?J.nsPsy.attackthre_s:J.nsPsy.attackthre,he=0;he<12;he++)nt[he/3]==0&&bn[he]>Za&&(nt[he/3]=he%3+1);for(he=1;he<4;he++){var Ms;c0[he-1]>c0[he]?(ke(c0[he]>0),Ms=c0[he-1]/c0[he]):(ke(c0[he-1]>0),Ms=c0[he]/c0[he-1]),Ms<1.7&&(nt[he]=0,he==1&&(nt[0]=0))}for(nt[0]!=0&&J.nsPsy.lastAttacks[_e]!=0&&(nt[0]=0),(J.nsPsy.lastAttacks[_e]==3||nt[0]+nt[1]+nt[2]+nt[3]!=0)&&(xs=0,nt[1]!=0&&nt[0]!=0&&(nt[1]=0),nt[2]!=0&&nt[1]!=0&&(nt[2]=0),nt[3]!=0&&nt[2]!=0&&(nt[3]=0)),_e<2?Me[_e]=xs:xs==0&&(Me[0]=Me[1]=0),z[_e]=J.tot_ener[_e],t0=xe,e0=ie,w(I,ei,ti,e0,_e&1,t0,_e&1,D,_e,L,$),ce(J,ei,Ie,Qa,Ja),te(J,Qa,Ja,Pt),He=0;He<3;He++){var ws,Ht;for(A(I,ti,fe,Ce,_e,He),X(J,fe,Ce,_e,He),Ae=0;Ae<se.SBMAX_s;Ae++){if(Ht=J.thm[_e].s[Ae][He],Ht*=R,nt[He]>=2||nt[He+1]==1){var $n=He!=0?He-1:2,mt=j(J.thm[_e].s[Ae][$n],Ht,E*et);Ht=Math.min(Ht,mt)}if(nt[He]==1){var $n=He!=0?He-1:2,mt=j(J.thm[_e].s[Ae][$n],Ht,_*et);Ht=Math.min(Ht,mt)}else if(He!=0&&nt[He-1]==3||He==0&&J.nsPsy.lastAttacks[_e]==3){var $n=He!=2?He+1:0,mt=j(J.thm[_e].s[Ae][$n],Ht,_*et);Ht=Math.min(Ht,mt)}ws=Mt[He*3+3]+Mt[He*3+4]+Mt[He*3+5],Mt[He*3+5]*6<ws&&(Ht*=.5,Mt[He*3+4]*6<ws&&(Ht*=.5)),J.thm[_e].s[Ae][He]=Ht}}for(J.nsPsy.lastAttacks[_e]=nt[2],ze=0,we=0;we<J.npart_l;we++){for(var W0=J.s3ind[we][0],Ts=Ie[W0]*d[Pt[W0]],z0=J.s3_ll[ze++]*Ts;++W0<=J.s3ind[we][1];)Ts=Ie[W0]*d[Pt[W0]],z0=h(z0,J.s3_ll[ze++]*Ts,W0,W0-we,J);z0*=.158489319246111,J.blocktype_old[_e&1]==se.SHORT_TYPE?Ce[we]=z0:Ce[we]=j(Math.min(z0,Math.min(n*J.nb_1[_e][we],r*J.nb_2[_e][we])),z0,et),J.nb_2[_e][we]=J.nb_1[_e][we],J.nb_1[_e][we]=z0}for(;we<=se.CBANDS;++we)Ie[we]=0,Ce[we]=0;u(J,Ie,Ce,_e)}if((I.mode==MPEGMode.STEREO||I.mode==MPEGMode.JOINT_STEREO)&&I.interChRatio>0&&C(I,I.interChRatio),I.mode==MPEGMode.JOINT_STEREO){var Bs;q(J),Bs=I.msfix,Math.abs(Bs)>0&&H(J,Bs,I.ATHlower*J.ATH.adjust)}for(G(I,Me,ae,re),_e=0;_e<Fe;_e++){var Dn,Xn=0,Rr,Ar;_e>1?(Dn=Q,Xn=-2,Rr=se.NORM_TYPE,(ae[0]==se.SHORT_TYPE||ae[1]==se.SHORT_TYPE)&&(Rr=se.SHORT_TYPE),Ar=V[D][_e-2]):(Dn=Z,Xn=0,Rr=ae[_e],Ar=W[D][_e]),Rr==se.SHORT_TYPE?Dn[Xn+_e]=ye(Ar,J.masking_lower):Dn[Xn+_e]=U(Ar,J.masking_lower),I.analysis&&(J.pinfo.pe[D][_e]=Dn[Xn+_e])}return 0};function Be(I,L,$,D,W,V,Z,Q){var z=I.internal_flags;if(D<2)e.fft_long(z,Z[Q],D,L,$);else if(D==2)for(var ae=se.BLKSIZE-1;ae>=0;--ae){var J=Z[Q+0][ae],ie=Z[Q+1][ae];Z[Q+0][ae]=(J+ie)*kt.SQRT2*.5,Z[Q+1][ae]=(J-ie)*kt.SQRT2*.5}V[0]=Z[Q+0][0],V[0]*=V[0];for(var ae=se.BLKSIZE/2-1;ae>=0;--ae){var xe=Z[Q+0][se.BLKSIZE/2-ae],Ie=Z[Q+0][se.BLKSIZE/2+ae];V[se.BLKSIZE/2-ae]=(xe*xe+Ie*Ie)*.5}{for(var fe=0,ae=11;ae<se.HBLKSIZE;ae++)fe+=V[ae];z.tot_ener[D]=fe}if(I.analysis){for(var ae=0;ae<se.HBLKSIZE;ae++)z.pinfo.energy[W][D][ae]=z.pinfo.energy_save[D][ae],z.pinfo.energy_save[D][ae]=V[ae];z.pinfo.pe[W][D]=z.pe[D]}}function P(I,L,$,D,W,V,Z,Q){var z=I.internal_flags;if(W==0&&D<2&&e.fft_short(z,Z[Q],D,L,$),D==2)for(var ae=se.BLKSIZE_s-1;ae>=0;--ae){var J=Z[Q+0][W][ae],ie=Z[Q+1][W][ae];Z[Q+0][W][ae]=(J+ie)*kt.SQRT2*.5,Z[Q+1][W][ae]=(J-ie)*kt.SQRT2*.5}V[W][0]=Z[Q+0][W][0],V[W][0]*=V[W][0];for(var ae=se.BLKSIZE_s/2-1;ae>=0;--ae){var xe=Z[Q+0][W][se.BLKSIZE_s/2-ae],Ie=Z[Q+0][W][se.BLKSIZE_s/2+ae];V[W][se.BLKSIZE_s/2-ae]=(xe*xe+Ie*Ie)*.5}}function F(I,L,$,D){var W=I.internal_flags;I.athaa_loudapprox==2&&$<2&&(W.loudness_sq[L][$]=W.loudness_sq_save[$],W.loudness_sq_save[$]=k(D,W))}var K=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];function ne(I,L,$,D,W,V,Z,Q,z,ae){for(var J=Wt([2,576]),ie=I.internal_flags,xe=ie.channels_out,Ie=I.mode==MPEGMode.JOINT_STEREO?4:xe,fe=0;fe<xe;fe++){firbuf=L[fe];for(var Ce=$+576-350-g+192,re=0;re<576;re++){var Me,Fe;Me=firbuf[Ce+re+10],Fe=0;for(var _e=0;_e<(g-1)/2-1;_e+=2)Me+=K[_e]*(firbuf[Ce+re+_e]+firbuf[Ce+re+g-_e]),Fe+=K[_e+1]*(firbuf[Ce+re+_e+1]+firbuf[Ce+re+g-_e-1]);J[fe][re]=Me+Fe}W[D][fe].en.assign(ie.en[fe]),W[D][fe].thm.assign(ie.thm[fe]),Ie>2&&(V[D][fe].en.assign(ie.en[fe+2]),V[D][fe].thm.assign(ie.thm[fe+2]))}for(var fe=0;fe<Ie;fe++){var we=dt(12),he=dt(12),Le=[0,0,0,0],ze=J[fe&1],Ae=0,He=fe==3?ie.nsPsy.attackthre_s:ie.nsPsy.attackthre,$e=1;if(fe==2)for(var re=0,_e=576;_e>0;++re,--_e){var et=J[0][re],Pt=J[1][re];J[0][re]=et+Pt,J[1][re]=et-Pt}for(var re=0;re<3;re++)he[re]=ie.nsPsy.last_en_subshort[fe][re+6],ke(ie.nsPsy.last_en_subshort[fe][re+4]>0),we[re]=he[re]/ie.nsPsy.last_en_subshort[fe][re+4],Le[0]+=he[re];for(var re=0;re<9;re++){for(var ut=Ae+64,tt=1;Ae<ut;Ae++)tt<Math.abs(ze[Ae])&&(tt=Math.abs(ze[Ae]));ie.nsPsy.last_en_subshort[fe][re]=he[re+3]=tt,Le[1+re/3]+=tt,tt>he[re+3-2]?(ke(he[re+3-2]>0),tt=tt/he[re+3-2]):he[re+3-2]>tt*10?tt=he[re+3-2]/(tt*10):tt=0,we[re+3]=tt}for(var re=0;re<3;++re){var Nt=he[re*3+3]+he[re*3+4]+he[re*3+5],$t=1;he[re*3+5]*6<Nt&&($t*=.5,he[re*3+4]*6<Nt&&($t*=.5)),Q[fe][re]=$t}if(I.analysis){for(var Dt=we[0],re=1;re<12;re++)Dt<we[re]&&(Dt=we[re]);ie.pinfo.ers[D][fe]=ie.pinfo.ers_save[fe],ie.pinfo.ers_save[fe]=Dt}for(var re=0;re<12;re++)z[fe][re/3]==0&&we[re]>He&&(z[fe][re/3]=re%3+1);for(var re=1;re<4;re++){var e0=Le[re-1],t0=Le[re],Mt=Math.max(e0,t0);Mt<4e4&&e0<1.7*t0&&t0<1.7*e0&&(re==1&&z[fe][0]<=z[fe][re]&&(z[fe][0]=0),z[fe][re]=0)}z[fe][0]<=ie.nsPsy.lastAttacks[fe]&&(z[fe][0]=0),(ie.nsPsy.lastAttacks[fe]==3||z[fe][0]+z[fe][1]+z[fe][2]+z[fe][3]!=0)&&($e=0,z[fe][1]!=0&&z[fe][0]!=0&&(z[fe][1]=0),z[fe][2]!=0&&z[fe][1]!=0&&(z[fe][2]=0),z[fe][3]!=0&&z[fe][2]!=0&&(z[fe][3]=0)),fe<2?ae[fe]=$e:$e==0&&(ae[0]=ae[1]=0),Z[fe]=ie.tot_ener[fe]}}function le(I,L,$){if($==0)for(var D=0;D<I.npart_s;D++)I.nb_s2[L][D]=I.nb_s1[L][D],I.nb_s1[L][D]=0}function oe(I,L){for(var $=0;$<I.npart_l;$++)I.nb_2[L][$]=I.nb_1[L][$],I.nb_1[L][$]=0}function Re(I,L,$,D){var W=d.length-1,V=0,Z=$[V]+$[V+1];if(Z>0){var Q=L[V];Q<L[V+1]&&(Q=L[V+1]),ke(I.numlines_s[V]+I.numlines_s[V+1]-1>0),Z=20*(Q*2-Z)/(Z*(I.numlines_s[V]+I.numlines_s[V+1]-1));var z=0|Z;z>W&&(z=W),D[V]=z}else D[V]=0;for(V=1;V<I.npart_s-1;V++)if(Z=$[V-1]+$[V]+$[V+1],ke(V+1<I.npart_s),Z>0){var Q=L[V-1];Q<L[V]&&(Q=L[V]),Q<L[V+1]&&(Q=L[V+1]),ke(I.numlines_s[V-1]+I.numlines_s[V]+I.numlines_s[V+1]-1>0),Z=20*(Q*3-Z)/(Z*(I.numlines_s[V-1]+I.numlines_s[V]+I.numlines_s[V+1]-1));var z=0|Z;z>W&&(z=W),D[V]=z}else D[V]=0;if(ke(V==I.npart_s-1),Z=$[V-1]+$[V],Z>0){var Q=L[V-1];Q<L[V]&&(Q=L[V]),ke(I.numlines_s[V-1]+I.numlines_s[V]-1>0),Z=20*(Q*2-Z)/(Z*(I.numlines_s[V-1]+I.numlines_s[V]-1));var z=0|Z;z>W&&(z=W),D[V]=z}else D[V]=0;ke(V==I.npart_s-1)}function Se(I,L,$,D,W,V){var Z=I.internal_flags,Q=new float[se.CBANDS],z=dt(se.CBANDS),ae,J,ie,xe=new int[se.CBANDS];for(ie=J=0;ie<Z.npart_s;++ie){var Ie=0,fe=0,Ce=Z.numlines_s[ie];for(ae=0;ae<Ce;++ae,++J){var re=L[V][J];Ie+=re,fe<re&&(fe=re)}$[ie]=Ie,Q[ie]=fe,z[ie]=Ie/Ce,ke(z[ie]>=0)}for(ke(ie==Z.npart_s);ie<se.CBANDS;++ie)Q[ie]=0,z[ie]=0;for(Re(Z,Q,z,xe),J=ie=0;ie<Z.npart_s;ie++){var Me=Z.s3ind_s[ie][0],Fe=Z.s3ind_s[ie][1],_e,we,he,Le,ze;for(_e=xe[Me],we=1,Le=Z.s3_ss[J]*$[Me]*d[xe[Me]],++J,++Me;Me<=Fe;)_e+=xe[Me],we+=1,he=Z.s3_ss[J]*$[Me]*d[xe[Me]],Le=x(Le,he,Me-ie),++J,++Me;_e=(1+2*_e)/(2*we),ze=d[_e]*.5,Le*=ze,D[ie]=Le,Z.nb_s2[W][ie]=Z.nb_s1[W][ie],Z.nb_s1[W][ie]=Le,he=Q[ie],he*=Z.minval_s[ie],he*=ze,D[ie]>he&&(D[ie]=he),Z.masking_lower>1&&(D[ie]*=Z.masking_lower),D[ie]>$[ie]&&(D[ie]=$[ie]),Z.masking_lower<1&&(D[ie]*=Z.masking_lower),ke(D[ie]>=0)}for(;ie<se.CBANDS;++ie)$[ie]=0,D[ie]=0}function be(I,L,$,D,W){var V=dt(se.CBANDS),Z=dt(se.CBANDS),Q=tn(se.CBANDS+2),z;ce(I,L,$,V,Z),te(I,V,Z,Q);var ae=0;for(z=0;z<I.npart_l;z++){var J,ie,xe,Ie,fe=I.s3ind[z][0],Ce=I.s3ind[z][1],re=0,Me=0;for(re=Q[fe],Me+=1,ie=I.s3_ll[ae]*$[fe]*d[Q[fe]],++ae,++fe;fe<=Ce;)re+=Q[fe],Me+=1,J=I.s3_ll[ae]*$[fe]*d[Q[fe]],Ie=x(ie,J,fe-z),ie=Ie,++ae,++fe;if(re=(1+2*re)/(2*Me),xe=d[re]*.5,ie*=xe,I.blocktype_old[W&1]==se.SHORT_TYPE){var Fe=n*I.nb_1[W][z];Fe>0?D[z]=Math.min(ie,Fe):D[z]=Math.min(ie,$[z]*_)}else{var _e=r*I.nb_2[W][z],we=n*I.nb_1[W][z],Fe;_e<=0&&(_e=ie),we<=0&&(we=ie),I.blocktype_old[W&1]==se.NORM_TYPE?Fe=Math.min(we,_e):Fe=we,D[z]=Math.min(ie,Fe)}I.nb_2[W][z]=I.nb_1[W][z],I.nb_1[W][z]=ie,J=V[z],J*=I.minval_l[z],J*=xe,D[z]>J&&(D[z]=J),I.masking_lower>1&&(D[z]*=I.masking_lower),D[z]>$[z]&&(D[z]=$[z]),I.masking_lower<1&&(D[z]*=I.masking_lower),ke(D[z]>=0)}for(;z<se.CBANDS;++z)$[z]=0,D[z]=0}function ve(I,L){var $=I.internal_flags;I.short_blocks==Rn.short_block_coupled&&!(L[0]!=0&&L[1]!=0)&&(L[0]=L[1]=0);for(var D=0;D<$.channels_out;D++)I.short_blocks==Rn.short_block_dispensed&&(L[D]=1),I.short_blocks==Rn.short_block_forced&&(L[D]=0)}function ge(I,L,$){for(var D=I.internal_flags,W=0;W<D.channels_out;W++){var V=se.NORM_TYPE;L[W]!=0?(ke(D.blocktype_old[W]!=se.START_TYPE),D.blocktype_old[W]==se.SHORT_TYPE&&(V=se.STOP_TYPE)):(V=se.SHORT_TYPE,D.blocktype_old[W]==se.NORM_TYPE&&(D.blocktype_old[W]=se.START_TYPE),D.blocktype_old[W]==se.STOP_TYPE&&(D.blocktype_old[W]=se.SHORT_TYPE)),$[W]=D.blocktype_old[W],D.blocktype_old[W]=V}}function Ee(I,L,$,D,W,V,Z){for(var Q=V*2,z=V>0?Math.pow(10,W):1,ae,J,ie=0;ie<Z;++ie){var xe=I[2][ie],Ie=I[3][ie],fe=L[0][ie],Ce=L[1][ie],re=L[2][ie],Me=L[3][ie];if(fe<=1.58*Ce&&Ce<=1.58*fe){var Fe=$[ie]*Ie,_e=$[ie]*xe;J=Math.max(re,Math.min(Me,Fe)),ae=Math.max(Me,Math.min(re,_e))}else J=re,ae=Me;if(V>0){var we,he,Le=D[ie]*z;if(we=Math.min(Math.max(fe,Le),Math.max(Ce,Le)),re=Math.max(J,Le),Me=Math.max(ae,Le),he=re+Me,he>0&&we*Q<he){var ze=we*Q/he;re*=ze,Me*=ze}J=Math.min(re,J),ae=Math.min(Me,ae)}J>xe&&(J=xe),ae>Ie&&(ae=Ie),L[2][ie]=J,L[3][ie]=ae}}this.L3psycho_anal_vbr=function(I,L,$,D,W,V,Z,Q,z,ae){var J=I.internal_flags,ie,xe,Ie=dt(se.HBLKSIZE),fe=Wt([3,se.HBLKSIZE_s]),Ce=Wt([2,se.BLKSIZE]),re=Wt([2,3,se.BLKSIZE_s]),Me=Wt([4,se.CBANDS]),Fe=Wt([4,se.CBANDS]),_e=Wt([4,3]),we=.6,he=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],Le=tn(2),ze=I.mode==MPEGMode.JOINT_STEREO?4:J.channels_out;ne(I,L,$,D,W,V,z,_e,he,Le),ve(I,Le);{for(var Ae=0;Ae<ze;Ae++){var He=Ae&1;ie=Ce,Be(I,L,$,Ae,D,Ie,ie,He),F(I,D,Ae,Ie),Le[He]!=0?be(J,Ie,Me[Ae],Fe[Ae],Ae):oe(J,Ae)}Le[0]+Le[1]==2&&I.mode==MPEGMode.JOINT_STEREO&&Ee(Me,Fe,J.mld_cb_l,J.ATH.cb_l,I.ATHlower*J.ATH.adjust,I.msfix,J.npart_l);for(var Ae=0;Ae<ze;Ae++){var He=Ae&1;Le[He]!=0&&u(J,Me[Ae],Fe[Ae],Ae)}}{for(var $e=0;$e<3;$e++){for(var Ae=0;Ae<ze;++Ae){var He=Ae&1;Le[He]!=0?le(J,Ae,$e):(xe=re,P(I,L,$,Ae,$e,fe,xe,He),Se(I,fe,Me[Ae],Fe[Ae],Ae,$e))}Le[0]+Le[1]==0&&I.mode==MPEGMode.JOINT_STEREO&&Ee(Me,Fe,J.mld_cb_s,J.ATH.cb_s,I.ATHlower*J.ATH.adjust,I.msfix,J.npart_s);for(var Ae=0;Ae<ze;++Ae){var He=Ae&1;Le[He]==0&&X(J,Me[Ae],Fe[Ae],Ae,$e)}}for(var Ae=0;Ae<ze;Ae++){var He=Ae&1;if(Le[He]==0)for(var et=0;et<se.SBMAX_s;et++){for(var Pt=dt(3),$e=0;$e<3;$e++){var ut=J.thm[Ae].s[et][$e];if(ut*=R,he[Ae][$e]>=2||he[Ae][$e+1]==1){var tt=$e!=0?$e-1:2,Nt=j(J.thm[Ae].s[et][tt],ut,E*we);ut=Math.min(ut,Nt)}else if(he[Ae][$e]==1){var tt=$e!=0?$e-1:2,Nt=j(J.thm[Ae].s[et][tt],ut,_*we);ut=Math.min(ut,Nt)}else if($e!=0&&he[Ae][$e-1]==3||$e==0&&J.nsPsy.lastAttacks[Ae]==3){var tt=$e!=2?$e+1:0,Nt=j(J.thm[Ae].s[et][tt],ut,_*we);ut=Math.min(ut,Nt)}ut*=_e[Ae][$e],Pt[$e]=ut}for(var $e=0;$e<3;$e++)J.thm[Ae].s[et][$e]=Pt[$e]}}}for(var Ae=0;Ae<ze;Ae++)J.nsPsy.lastAttacks[Ae]=he[Ae][2];ge(I,Le,ae);for(var Ae=0;Ae<ze;Ae++){var $t,Dt,e0,t0;Ae>1?($t=Q,Dt=-2,e0=se.NORM_TYPE,(ae[0]==se.SHORT_TYPE||ae[1]==se.SHORT_TYPE)&&(e0=se.SHORT_TYPE),t0=V[D][Ae-2]):($t=Z,Dt=0,e0=ae[Ae],t0=W[D][Ae]),e0==se.SHORT_TYPE?$t[Dt+Ae]=ye(t0,J.masking_lower):$t[Dt+Ae]=U(t0,J.masking_lower),I.analysis&&(J.pinfo.pe[D][Ae]=$t[Dt+Ae])}return 0};function Te(I,L){var $=I,D;return $>=0?D=-$*27:D=$*L,D<=-72?0:Math.exp(D*O)}function Oe(I){var L=0,$=0;{var D=0,W,V;for(D=0;Te(D,I)>1e-20;D-=1);for(W=D,V=0;Math.abs(V-W)>1e-12;)D=(V+W)/2,Te(D,I)>0?V=D:W=D;L=W}{var D=0,W,V;for(D=0;Te(D,I)>1e-20;D+=1);for(W=0,V=D;Math.abs(V-W)>1e-12;)D=(V+W)/2,Te(D,I)>0?W=D:V=D;$=V}{var Z=0,Q=1e3,z;for(z=0;z<=Q;++z){var D=L+z*($-L)/Q,ae=Te(D,I);Z+=ae}{var J=(Q+1)/(Z*($-L));return J}}}function Ve(I){var L,$,D,W;return L=I,L>=0?L*=3:L*=1.5,L>=.5&&L<=2.5?(W=L-.5,$=8*(W*W-2*W)):$=0,L+=.474,D=15.811389+7.5*L-17.5*Math.sqrt(1+L*L),D<=-60?0:(L=Math.exp(($+D)*O),L/=.6609193,L)}function De(I){return I<0&&(I=0),I=I*.001,13*Math.atan(.76*I)+3.5*Math.atan(I*I/(7.5*7.5))}function Xe(I,L,$,D,W,V,Z,Q,z,ae,J,ie){var xe=dt(se.CBANDS+1),Ie=Q/(ie>15?2*576:2*192),fe=tn(se.HBLKSIZE),Ce;Q/=z;var re=0,Me=0;for(Ce=0;Ce<se.CBANDS;Ce++){var Fe,_e;for(Fe=De(Q*re),xe[Ce]=Q*re,_e=re;De(Q*_e)-Fe<f&&_e<=z/2;_e++);for(I[Ce]=_e-re,Me=Ce+1;re<_e;)ke(re<se.HBLKSIZE),fe[re++]=Ce;if(re>z/2){re=z/2,++Ce;break}}ke(Ce<se.CBANDS),xe[Ce]=Q*re;for(var we=0;we<ie;we++){var he,Le,ze,Ae,He;ze=ae[we],Ae=ae[we+1],he=0|Math.floor(.5+J*(ze-.5)),he<0&&(he=0),Le=0|Math.floor(.5+J*(Ae-.5)),Le>z/2&&(Le=z/2),$[we]=(fe[he]+fe[Le])/2,L[we]=fe[Le];var $e=Ie*Ae;Z[we]=($e-xe[L[we]])/(xe[L[we]+1]-xe[L[we]]),Z[we]<0?Z[we]=0:Z[we]>1&&(Z[we]=1),He=De(Q*ae[we]*J),He=Math.min(He,15.5)/15.5,V[we]=Math.pow(10,1.25*(1-Math.cos(Math.PI*He))-2.5)}re=0;for(var et=0;et<Me;et++){var Pt=I[et],Fe,ut;Fe=De(Q*re),ut=De(Q*(re+Pt-1)),D[et]=.5*(Fe+ut),Fe=De(Q*(re-.5)),ut=De(Q*(re+Pt-.5)),W[et]=ut-Fe,re+=Pt}return Me}function St(I,L,$,D,W,V){var Z=Wt([se.CBANDS,se.CBANDS]),Q,z=0;if(V)for(var ae=0;ae<L;ae++)for(Q=0;Q<L;Q++){var J=Ve($[ae]-$[Q])*D[Q];Z[ae][Q]=J*W[ae]}else for(Q=0;Q<L;Q++)for(var ie=15+Math.min(21/$[Q],12),xe=Oe(ie),ae=0;ae<L;ae++){var J=xe*Te($[ae]-$[Q],ie)*D[Q];Z[ae][Q]=J*W[ae]}for(var ae=0;ae<L;ae++){for(Q=0;Q<L&&!(Z[ae][Q]>0);Q++);for(I[ae][0]=Q,Q=L-1;Q>0&&!(Z[ae][Q]>0);Q--);I[ae][1]=Q,z+=I[ae][1]-I[ae][0]+1}for(var Ie=dt(z),fe=0,ae=0;ae<L;ae++)for(Q=I[ae][0];Q<=I[ae][1];Q++)Ie[fe++]=Z[ae][Q];return Ie}function yt(I){var L=De(I);return L=Math.min(L,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*L))-2.5)}this.psymodel_init=function(I){var L=I.internal_flags,$,D=!0,W=13,V=24,Z=0,Q=0,z=-8.25,ae=-4.5,J=dt(se.CBANDS),ie=dt(se.CBANDS),xe=dt(se.CBANDS),Ie=I.out_samplerate;switch(I.experimentalZ){default:case 0:D=!0;break;case 1:D=!(I.VBR==xn.vbr_mtrh||I.VBR==xn.vbr_mt);break;case 2:D=!1;break;case 3:W=8,Z=-1.75,Q=-.0125,z=-8.25,ae=-2.25;break}for(L.ms_ener_ratio_old=.25,L.blocktype_old[0]=L.blocktype_old[1]=se.NORM_TYPE,$=0;$<4;++$){for(var re=0;re<se.CBANDS;++re)L.nb_1[$][re]=1e20,L.nb_2[$][re]=1e20,L.nb_s1[$][re]=L.nb_s2[$][re]=1;for(var fe=0;fe<se.SBMAX_l;fe++)L.en[$].l[fe]=1e20,L.thm[$].l[fe]=1e20;for(var re=0;re<3;++re){for(var fe=0;fe<se.SBMAX_s;fe++)L.en[$].s[fe][re]=1e20,L.thm[$].s[fe][re]=1e20;L.nsPsy.lastAttacks[$]=0}for(var re=0;re<9;re++)L.nsPsy.last_en_subshort[$][re]=10}for(L.loudness_sq_save[0]=L.loudness_sq_save[1]=0,L.npart_l=Xe(L.numlines_l,L.bo_l,L.bm_l,J,ie,L.mld_l,L.PSY.bo_l_weight,Ie,se.BLKSIZE,L.scalefac_band.l,se.BLKSIZE/(2*576),se.SBMAX_l),ke(L.npart_l<se.CBANDS),$=0;$<L.npart_l;$++){var Ce=Z;J[$]>=W&&(Ce=Q*(J[$]-W)/(V-W)+Z*(V-J[$])/(V-W)),xe[$]=Math.pow(10,Ce/10),L.numlines_l[$]>0?L.rnumlines_l[$]=1/L.numlines_l[$]:L.rnumlines_l[$]=0}L.s3_ll=St(L.s3ind,L.npart_l,J,ie,xe,D);var re=0;for($=0;$<L.npart_l;$++){var Me;Me=Ki.MAX_VALUE;for(var Fe=0;Fe<L.numlines_l[$];Fe++,re++){var _e=Ie*re/(1e3*se.BLKSIZE),we;we=this.ATHformula(_e*1e3,I)-20,we=Math.pow(10,.1*we),we*=L.numlines_l[$],Me>we&&(Me=we)}L.ATH.cb_l[$]=Me,Me=-20+J[$]*20/10,Me>6&&(Me=100),Me<-15&&(Me=-15),Me-=8,L.minval_l[$]=Math.pow(10,Me/10)*L.numlines_l[$]}for(L.npart_s=Xe(L.numlines_s,L.bo_s,L.bm_s,J,ie,L.mld_s,L.PSY.bo_s_weight,Ie,se.BLKSIZE_s,L.scalefac_band.s,se.BLKSIZE_s/(2*192),se.SBMAX_s),ke(L.npart_s<se.CBANDS),re=0,$=0;$<L.npart_s;$++){var Me,Ce=z;J[$]>=W&&(Ce=ae*(J[$]-W)/(V-W)+z*(V-J[$])/(V-W)),xe[$]=Math.pow(10,Ce/10),Me=Ki.MAX_VALUE;for(var Fe=0;Fe<L.numlines_s[$];Fe++,re++){var _e=Ie*re/(1e3*se.BLKSIZE_s),we;we=this.ATHformula(_e*1e3,I)-20,we=Math.pow(10,.1*we),we*=L.numlines_s[$],Me>we&&(Me=we)}L.ATH.cb_s[$]=Me,Me=-7+J[$]*7/12,J[$]>12&&(Me*=1+Math.log(1+Me)*3.1),J[$]<12&&(Me*=1+Math.log(1-Me)*2.3),Me<-15&&(Me=-15),Me-=8,L.minval_s[$]=Math.pow(10,Me/10)*L.numlines_s[$]}L.s3_ss=St(L.s3ind_s,L.npart_s,J,ie,xe,D),p(),e.init_fft(L),L.decay=Math.exp(-1*t/(S*Ie/192));{var he;he=N,I.exp_nspsytune&2&&(he=1),Math.abs(I.msfix)>0&&(he=I.msfix),I.msfix=he;for(var Le=0;Le<L.npart_l;Le++)L.s3ind[Le][1]>L.npart_l-1&&(L.s3ind[Le][1]=L.npart_l-1)}var ze=576*L.mode_gr/Ie;if(L.ATH.decay=Math.pow(10,-12/10*ze),L.ATH.adjust=.01,L.ATH.adjustLimit=1,ke(L.bo_l[se.SBMAX_l-1]<=L.npart_l),ke(L.bo_s[se.SBMAX_s-1]<=L.npart_s),I.ATHtype!=-1){var _e,Ae=I.out_samplerate/se.BLKSIZE,He=0;for(_e=0,$=0;$<se.BLKSIZE/2;++$)_e+=Ae,L.ATH.eql_w[$]=1/Math.pow(10,this.ATHformula(_e,I)/10),He+=L.ATH.eql_w[$];for(He=1/He,$=se.BLKSIZE/2;--$>=0;)L.ATH.eql_w[$]*=He}{for(var Le=re=0;Le<L.npart_s;++Le)for($=0;$<L.numlines_s[Le];++$)++re;for(var Le=re=0;Le<L.npart_l;++Le)for($=0;$<L.numlines_l[Le];++$)++re}for(re=0,$=0;$<L.npart_l;$++){var _e=Ie*(re+L.numlines_l[$]/2)/(1*se.BLKSIZE);L.mld_cb_l[$]=yt(_e),re+=L.numlines_l[$]}for(;$<se.CBANDS;++$)L.mld_cb_l[$]=1;for(re=0,$=0;$<L.npart_s;$++){var _e=Ie*(re+L.numlines_s[$]/2)/(1*se.BLKSIZE_s);L.mld_cb_s[$]=yt(_e),re+=L.numlines_s[$]}for(;$<se.CBANDS;++$)L.mld_cb_s[$]=1;return 0};function xt(I,L){I<-.3&&(I=3410),I/=1e3,I=Math.max(.1,I);var $=3.64*Math.pow(I,-.8)-6.8*Math.exp(-.6*Math.pow(I-3.4,2))+6*Math.exp(-.15*Math.pow(I-8.7,2))+(.6+.04*L)*.001*Math.pow(I,4);return $}this.ATHformula=function(I,L){var $;switch(L.ATHtype){case 0:$=xt(I,9);break;case 1:$=xt(I,-1);break;case 2:$=xt(I,0);break;case 3:$=xt(I,1)+6;break;case 4:$=xt(I,L.ATHcurve);break;default:$=xt(I,0);break}return $}}var Fu=Vu;function o0(e){var t=e;this.ordinal=function(){return t}}o0.STEREO=new o0(0);o0.JOINT_STEREO=new o0(1);o0.DUAL_CHANNEL=new o0(2);o0.MONO=new o0(3);o0.NOT_SET=new o0(4);var ol=o0,Pu=ol;function $u(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=Pu.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}var Du=$u,Xu=gt(),ll={};ll.SFBMAX=Xu.SBMAX_s*3;var ms=ll,cl=rt,qu=cl.new_float,nn=cl.new_int,Us=ms;function Gu(){this.xr=qu(576),this.l3_enc=nn(576),this.scalefac=nn(Us.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=nn(3),this.subblock_gain=nn(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=nn(Us.SFBMAX),this.window=nn(Us.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=nn(4),this.max_nonzero_coeff=0;var e=this;function t(r){return new Int32Array(r)}function n(r){return new Float32Array(r)}this.assign=function(r){e.xr=n(r.xr),e.l3_enc=t(r.l3_enc),e.scalefac=t(r.scalefac),e.xrpow_max=r.xrpow_max,e.part2_3_length=r.part2_3_length,e.big_values=r.big_values,e.count1=r.count1,e.global_gain=r.global_gain,e.scalefac_compress=r.scalefac_compress,e.block_type=r.block_type,e.mixed_block_flag=r.mixed_block_flag,e.table_select=t(r.table_select),e.subblock_gain=t(r.subblock_gain),e.region0_count=r.region0_count,e.region1_count=r.region1_count,e.preflag=r.preflag,e.scalefac_scale=r.scalefac_scale,e.count1table_select=r.count1table_select,e.part2_length=r.part2_length,e.sfb_lmax=r.sfb_lmax,e.sfb_smin=r.sfb_smin,e.psy_lmax=r.psy_lmax,e.sfbmax=r.sfbmax,e.psymax=r.psymax,e.sfbdivide=r.sfbdivide,e.width=t(r.width),e.window=t(r.window),e.count1bits=r.count1bits,e.sfb_partition_table=r.sfb_partition_table.slice(0),e.slen=t(r.slen),e.max_nonzero_coeff=r.max_nonzero_coeff}}var qa=Gu,Yu=rt,Wi=Yu.new_int,Uu=qa;function ju(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[Wi(4),Wi(4)];for(var e=0;e<2;e++)for(var t=0;t<2;t++)this.tt[e][t]=new Uu}var Ku=ju,ul=rt,Br=ul.System,Cr=ul.new_int,gr=gt();function Wu(e,t,n,r){this.l=Cr(1+gr.SBMAX_l),this.s=Cr(1+gr.SBMAX_s),this.psfb21=Cr(1+gr.PSFB21),this.psfb12=Cr(1+gr.PSFB12);var a=this.l,o=this.s;arguments.length==4&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],Br.arraycopy(this.arrL,0,a,0,Math.min(this.arrL.length,this.l.length)),Br.arraycopy(this.arrS,0,o,0,Math.min(this.arrS.length,this.s.length)),Br.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),Br.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}var fl=Wu,Ga=rt,js=Ga.new_float,zu=Ga.new_float_n,Zu=Ga.new_int,zi=gt();function Qu(){this.last_en_subshort=zu([4,9]),this.lastAttacks=Zu(4),this.pefirbuf=js(19),this.longfact=js(zi.SBMAX_l),this.shortfact=js(zi.SBMAX_s),this.attackthre=0,this.attackthre_s=0}var Ju=Qu;function ef(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}var tf=ef,Nn=rt,nf=Nn.new_byte,rf=Nn.new_double,zt=Nn.new_float,rn=Nn.new_float_n,n0=Nn.new_int,Ir=Nn.new_int_n,sf=Ku,af=fl,of=Ju,lf=tf,Zi=al(),lt=gt(),cf=ms;C0.MFSIZE=3*1152+lt.ENCDELAY-lt.MDCTDELAY;C0.MAX_HEADER_BUF=256;C0.MAX_BITS_PER_CHANNEL=4095;C0.MAX_BITS_PER_GRANULE=7680;C0.BPC=320;function C0(){var e=40;this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=rn([2,C0.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new sf,this.ms_ratio=zt(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=n0(2),this.CurrentStep=n0(2),this.masking_lower=0,this.bv_scf=n0(576),this.pseudohalf=n0(cf.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*C0.BPC+1),this.itime=rf(2),this.sideinfo_len=0,this.sb_sample=rn([2,2,18,lt.SBLIMIT]),this.amp_filter=zt(32);function t(){this.write_timing=0,this.ptr=0,this.buf=nf(e)}this.header=new Array(C0.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new af,this.minval_l=zt(lt.CBANDS),this.minval_s=zt(lt.CBANDS),this.nb_1=rn([4,lt.CBANDS]),this.nb_2=rn([4,lt.CBANDS]),this.nb_s1=rn([4,lt.CBANDS]),this.nb_s2=rn([4,lt.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=zt(4),this.loudness_sq=rn([2,2]),this.loudness_sq_save=zt(2),this.mld_l=zt(lt.SBMAX_l),this.mld_s=zt(lt.SBMAX_s),this.bm_l=n0(lt.SBMAX_l),this.bo_l=n0(lt.SBMAX_l),this.bm_s=n0(lt.SBMAX_s),this.bo_s=n0(lt.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=Ir([lt.CBANDS,2]),this.s3ind_s=Ir([lt.CBANDS,2]),this.numlines_s=n0(lt.CBANDS),this.numlines_l=n0(lt.CBANDS),this.rnumlines_l=zt(lt.CBANDS),this.mld_cb_l=zt(lt.CBANDS),this.mld_cb_s=zt(lt.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=zt(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=n0(2),this.nsPsy=new of,this.VBR_seek_table=new lf,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=Ir([16,5]),this.bitrate_blockType_Hist=Ir([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var n=0;n<this.en.length;n++)this.en[n]=new Zi;for(var n=0;n<this.thm.length;n++)this.thm[n]=new Zi;for(var n=0;n<this.header.length;n++)this.header[n]=new t}var ps=C0,uf=rt,sn=uf.new_float,an=gt();function ff(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=sn(an.SBMAX_l),this.s=sn(an.SBMAX_s),this.psfb21=sn(an.PSFB21),this.psfb12=sn(an.PSFB12),this.cb_l=sn(an.CBANDS),this.cb_s=sn(an.CBANDS),this.eql_w=sn(an.BLKSIZE/2)}var _f=ff,_l=rt,Vt=_l.System,Qi=_l.Arrays;ct.STEPS_per_dB=100;ct.MAX_dB=120;ct.GAIN_NOT_ENOUGH_SAMPLES=-24601;ct.GAIN_ANALYSIS_ERROR=0;ct.GAIN_ANALYSIS_OK=1;ct.INIT_GAIN_ANALYSIS_ERROR=0;ct.INIT_GAIN_ANALYSIS_OK=1;ct.YULE_ORDER=10;ct.MAX_ORDER=ct.YULE_ORDER;ct.MAX_SAMP_FREQ=48e3;ct.RMS_WINDOW_TIME_NUMERATOR=1;ct.RMS_WINDOW_TIME_DENOMINATOR=20;ct.MAX_SAMPLES_PER_WINDOW=ct.MAX_SAMP_FREQ*ct.RMS_WINDOW_TIME_NUMERATOR/ct.RMS_WINDOW_TIME_DENOMINATOR+1;function ct(){var e=64.82,t=.95,n=ct.RMS_WINDOW_TIME_NUMERATOR,r=ct.RMS_WINDOW_TIME_DENOMINATOR,a=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],o=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function f(_,N,g,O,Y,k){for(;Y--!=0;)g[O]=1e-10+_[N+0]*k[0]-g[O-1]*k[1]+_[N-1]*k[2]-g[O-2]*k[3]+_[N-2]*k[4]-g[O-3]*k[5]+_[N-3]*k[6]-g[O-4]*k[7]+_[N-4]*k[8]-g[O-5]*k[9]+_[N-5]*k[10]-g[O-6]*k[11]+_[N-6]*k[12]-g[O-7]*k[13]+_[N-7]*k[14]-g[O-8]*k[15]+_[N-8]*k[16]-g[O-9]*k[17]+_[N-9]*k[18]-g[O-10]*k[19]+_[N-10]*k[20],++O,++N}function m(_,N,g,O,Y,k){for(;Y--!=0;)g[O]=_[N+0]*k[0]-g[O-1]*k[1]+_[N-1]*k[2]-g[O-2]*k[3]+_[N-2]*k[4],++O,++N}function S(_,N){for(var g=0;g<MAX_ORDER;g++)_.linprebuf[g]=_.lstepbuf[g]=_.loutbuf[g]=_.rinprebuf[g]=_.rstepbuf[g]=_.routbuf[g]=0;switch(0|N){case 48e3:_.reqindex=0;break;case 44100:_.reqindex=1;break;case 32e3:_.reqindex=2;break;case 24e3:_.reqindex=3;break;case 22050:_.reqindex=4;break;case 16e3:_.reqindex=5;break;case 12e3:_.reqindex=6;break;case 11025:_.reqindex=7;break;case 8e3:_.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return _.sampleWindow=0|(N*n+r-1)/r,_.lsum=0,_.rsum=0,_.totsamp=0,Qi.ill(_.A,0),INIT_GAIN_ANALYSIS_OK}this.InitGainAnalysis=function(_,N){return S(_,N)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(_.linpre=MAX_ORDER,_.rinpre=MAX_ORDER,_.lstep=MAX_ORDER,_.rstep=MAX_ORDER,_.lout=MAX_ORDER,_.rout=MAX_ORDER,Qi.fill(_.B,0),INIT_GAIN_ANALYSIS_OK)};function R(_){return _*_}this.AnalyzeSamples=function(_,N,g,O,Y,k,w){var l,s,B,b,T,M,d;if(k==0)return GAIN_ANALYSIS_OK;switch(d=0,T=k,w){case 1:O=N,Y=g;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(k<MAX_ORDER?(Vt.arraycopy(N,g,_.linprebuf,MAX_ORDER,k),Vt.arraycopy(O,Y,_.rinprebuf,MAX_ORDER,k)):(Vt.arraycopy(N,g,_.linprebuf,MAX_ORDER,MAX_ORDER),Vt.arraycopy(O,Y,_.rinprebuf,MAX_ORDER,MAX_ORDER));T>0;){M=T>_.sampleWindow-_.totsamp?_.sampleWindow-_.totsamp:T,d<MAX_ORDER?(l=_.linpre+d,s=_.linprebuf,B=_.rinpre+d,b=_.rinprebuf,M>MAX_ORDER-d&&(M=MAX_ORDER-d)):(l=g+d,s=N,B=Y+d,b=O),f(s,l,_.lstepbuf,_.lstep+_.totsamp,M,a[_.reqindex]),f(b,B,_.rstepbuf,_.rstep+_.totsamp,M,a[_.reqindex]),m(_.lstepbuf,_.lstep+_.totsamp,_.loutbuf,_.lout+_.totsamp,M,o[_.reqindex]),m(_.rstepbuf,_.rstep+_.totsamp,_.routbuf,_.rout+_.totsamp,M,o[_.reqindex]),l=_.lout+_.totsamp,s=_.loutbuf,B=_.rout+_.totsamp,b=_.routbuf;for(var p=M%8;p--!=0;)_.lsum+=R(s[l++]),_.rsum+=R(b[B++]);for(p=M/8;p--!=0;)_.lsum+=R(s[l+0])+R(s[l+1])+R(s[l+2])+R(s[l+3])+R(s[l+4])+R(s[l+5])+R(s[l+6])+R(s[l+7]),l+=8,_.rsum+=R(b[B+0])+R(b[B+1])+R(b[B+2])+R(b[B+3])+R(b[B+4])+R(b[B+5])+R(b[B+6])+R(b[B+7]),B+=8;if(T-=M,d+=M,_.totsamp+=M,_.totsamp==_.sampleWindow){var c=ct.STEPS_per_dB*10*Math.log10((_.lsum+_.rsum)/_.totsamp*.5+1e-37),y=c<=0?0:0|c;y>=_.A.length&&(y=_.A.length-1),_.A[y]++,_.lsum=_.rsum=0,Vt.arraycopy(_.loutbuf,_.totsamp,_.loutbuf,0,MAX_ORDER),Vt.arraycopy(_.routbuf,_.totsamp,_.routbuf,0,MAX_ORDER),Vt.arraycopy(_.lstepbuf,_.totsamp,_.lstepbuf,0,MAX_ORDER),Vt.arraycopy(_.rstepbuf,_.totsamp,_.rstepbuf,0,MAX_ORDER),_.totsamp=0}if(_.totsamp>_.sampleWindow)return GAIN_ANALYSIS_ERROR}return k<MAX_ORDER?(Vt.arraycopy(_.linprebuf,k,_.linprebuf,0,MAX_ORDER-k),Vt.arraycopy(_.rinprebuf,k,_.rinprebuf,0,MAX_ORDER-k),Vt.arraycopy(N,g,_.linprebuf,MAX_ORDER-k,k),Vt.arraycopy(O,Y,_.rinprebuf,MAX_ORDER-k,k)):(Vt.arraycopy(N,g+k-MAX_ORDER,_.linprebuf,0,MAX_ORDER),Vt.arraycopy(O,Y+k-MAX_ORDER,_.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK};function E(_,N){var g,O=0;for(g=0;g<N;g++)O+=_[g];if(O==0)return GAIN_NOT_ENOUGH_SAMPLES;var Y=0|Math.ceil(O*(1-t));for(g=N;g-- >0&&!((Y-=_[g])<=0););return e-g/ct.STEPS_per_dB}this.GetTitleGain=function(_){for(var N=E(_.A,_.A.length),g=0;g<_.A.length;g++)_.B[g]+=_.A[g],_.A[g]=0;for(var g=0;g<MAX_ORDER;g++)_.linprebuf[g]=_.lstepbuf[g]=_.loutbuf[g]=_.rinprebuf[g]=_.rstepbuf[g]=_.routbuf[g]=0;return _.totsamp=0,_.lsum=_.rsum=0,N}}var hl=ct,dl=rt,An=dl.new_float,Ji=dl.new_int,Ft=hl;function hf(){this.linprebuf=An(Ft.MAX_ORDER*2),this.linpre=0,this.lstepbuf=An(Ft.MAX_SAMPLES_PER_WINDOW+Ft.MAX_ORDER),this.lstep=0,this.loutbuf=An(Ft.MAX_SAMPLES_PER_WINDOW+Ft.MAX_ORDER),this.lout=0,this.rinprebuf=An(Ft.MAX_ORDER*2),this.rinpre=0,this.rstepbuf=An(Ft.MAX_SAMPLES_PER_WINDOW+Ft.MAX_ORDER),this.rstep=0,this.routbuf=An(Ft.MAX_SAMPLES_PER_WINDOW+Ft.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=Ji(0|Ft.STEPS_per_dB*Ft.MAX_dB),this.B=Ji(0|Ft.STEPS_per_dB*Ft.MAX_dB)}var df=hf;function vf(e){this.bits=e}var vl=vf,Ya=rt,e1=Ya.new_float,mf=Ya.new_int,t1=Ya.assert,pf=vl,n1=gt(),bf=ms,Sf=ps;function yf(e){var t=e;this.quantize=t,this.iteration_loop=function(n,r,a,o){var f=n.internal_flags,m=e1(bf.SFBMAX),S=e1(576),R=mf(2),E=0,_,N=f.l3_side,g=new pf(E);this.quantize.rv.ResvFrameBegin(n,g),E=g.bits;for(var O=0;O<f.mode_gr;O++){_=this.quantize.qupvt.on_pe(n,r,R,E,O,O),f.mode_ext==n1.MPG_MD_MS_LR&&(this.quantize.ms_convert(f.l3_side,O),this.quantize.qupvt.reduce_side(R,a[O],E,_));for(var Y=0;Y<f.channels_out;Y++){var k,w,l=N.tt[O][Y];l.block_type!=n1.SHORT_TYPE?(k=0,w=f.PSY.mask_adjust-k):(k=0,w=f.PSY.mask_adjust_short-k),f.masking_lower=Math.pow(10,w*.1),this.quantize.init_outer_loop(f,l),this.quantize.init_xrpow(f,l,S)&&(this.quantize.qupvt.calc_xmin(n,o[O][Y],l,m),this.quantize.outer_loop(n,l,m,S,Y,R[Y])),this.quantize.iteration_finish_one(f,O,Y),t1(l.part2_3_length<=Sf.MAX_BITS_PER_CHANNEL),t1(l.part2_3_length<=R[Y])}}this.quantize.rv.ResvFrameEnd(f,E)}}var xf=yf;function qe(e,t,n,r){this.xlen=e,this.linmax=t,this.table=n,this.hlen=r}var de={};de.t1HB=[1,1,1,0];de.t2HB=[1,2,1,3,1,1,3,2,0];de.t3HB=[3,2,1,1,1,1,3,2,0];de.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0];de.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0];de.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0];de.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0];de.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0];de.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0];de.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0];de.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0];de.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1];de.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0];de.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3];de.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3];de.t32HB=[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16];de.t33HB=[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0];de.t1l=[1,4,3,5];de.t2l=[1,4,7,4,5,7,6,7,8];de.t3l=[2,3,7,4,4,7,6,7,8];de.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10];de.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9];de.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12];de.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13];de.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11];de.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13];de.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12];de.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12];de.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18];de.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15];de.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12];de.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10];de.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6];de.t32l=[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10];de.t33l=[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8];de.ht=[new qe(0,0,null,null),new qe(2,0,de.t1HB,de.t1l),new qe(3,0,de.t2HB,de.t2l),new qe(3,0,de.t3HB,de.t3l),new qe(0,0,null,null),new qe(4,0,de.t5HB,de.t5l),new qe(4,0,de.t6HB,de.t6l),new qe(6,0,de.t7HB,de.t7l),new qe(6,0,de.t8HB,de.t8l),new qe(6,0,de.t9HB,de.t9l),new qe(8,0,de.t10HB,de.t10l),new qe(8,0,de.t11HB,de.t11l),new qe(8,0,de.t12HB,de.t12l),new qe(16,0,de.t13HB,de.t13l),new qe(0,0,null,de.t16_5l),new qe(16,0,de.t15HB,de.t15l),new qe(1,1,de.t16HB,de.t16l),new qe(2,3,de.t16HB,de.t16l),new qe(3,7,de.t16HB,de.t16l),new qe(4,15,de.t16HB,de.t16l),new qe(6,63,de.t16HB,de.t16l),new qe(8,255,de.t16HB,de.t16l),new qe(10,1023,de.t16HB,de.t16l),new qe(13,8191,de.t16HB,de.t16l),new qe(4,15,de.t24HB,de.t24l),new qe(5,31,de.t24HB,de.t24l),new qe(6,63,de.t24HB,de.t24l),new qe(7,127,de.t24HB,de.t24l),new qe(8,255,de.t24HB,de.t24l),new qe(9,511,de.t24HB,de.t24l),new qe(11,2047,de.t24HB,de.t24l),new qe(13,8191,de.t24HB,de.t24l),new qe(0,0,de.t32HB,de.t32l),new qe(0,0,de.t33HB,de.t33l)];de.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366];de.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296];de.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369];de.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]];de.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]];de.scfsi_band=[0,6,11,16,21];var Ua=de,x0=fl,Hn=rt,on=Hn.VbrMode,Lr=Hn.Float,Ks=Hn.Util,ln=Hn.new_float,Rf=Hn.new_int,Yn=Hn.assert,pt=gt(),Af=vl,Xt=ps;B0.Q_MAX=257;B0.Q_MAX2=116;B0.LARGE_BITS=1e5;B0.IXMAX_VAL=8206;function B0(){var e=null,t=null,n=null;this.setModules=function(l,s,B){e=l,t=s,n=B};function r(l){return _[l+B0.Q_MAX2]}this.IPOW20=function(l){return N[l]};var a=2220446049250313e-31,o=B0.IXMAX_VAL,f=o+2,m=B0.Q_MAX,S=B0.Q_MAX2,R=100;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var E=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=E,this.sfBandIndex=[new x0([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new x0([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new x0([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new x0([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new x0([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new x0([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new x0([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new x0([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new x0([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0/3,24/3,48/3,72/3,108/3,156/3,216/3,288/3,372/3,480/3,486/3,492/3,498/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var _=ln(m+S+1),N=ln(m),g=ln(f),O=ln(f);this.adj43=O;function Y(l,s){var B=n.ATHformula(s,l);return B-=R,B=Math.pow(10,B/10+l.ATHlower),B}function k(l){for(var s=l.internal_flags.ATH.l,B=l.internal_flags.ATH.psfb21,b=l.internal_flags.ATH.s,T=l.internal_flags.ATH.psfb12,M=l.internal_flags,d=l.out_samplerate,p=0;p<pt.SBMAX_l;p++){var c=M.scalefac_band.l[p],y=M.scalefac_band.l[p+1];s[p]=Lr.MAX_VALUE;for(var i=c;i<y;i++){var h=i*d/1152,v=Y(l,h);s[p]=Math.min(s[p],v)}}for(var p=0;p<pt.PSFB21;p++){var c=M.scalefac_band.psfb21[p],y=M.scalefac_band.psfb21[p+1];B[p]=Lr.MAX_VALUE;for(var i=c;i<y;i++){var h=i*d/1152,v=Y(l,h);B[p]=Math.min(B[p],v)}}for(var p=0;p<pt.SBMAX_s;p++){var c=M.scalefac_band.s[p],y=M.scalefac_band.s[p+1];b[p]=Lr.MAX_VALUE;for(var i=c;i<y;i++){var h=i*d/384,v=Y(l,h);b[p]=Math.min(b[p],v)}b[p]*=M.scalefac_band.s[p+1]-M.scalefac_band.s[p]}for(var p=0;p<pt.PSFB12;p++){var c=M.scalefac_band.psfb12[p],y=M.scalefac_band.psfb12[p+1];T[p]=Lr.MAX_VALUE;for(var i=c;i<y;i++){var h=i*d/384,v=Y(l,h);T[p]=Math.min(T[p],v)}T[p]*=M.scalefac_band.s[13]-M.scalefac_band.s[12]}if(l.noATH){for(var p=0;p<pt.SBMAX_l;p++)s[p]=1e-20;for(var p=0;p<pt.PSFB21;p++)B[p]=1e-20;for(var p=0;p<pt.SBMAX_s;p++)b[p]=1e-20;for(var p=0;p<pt.PSFB12;p++)T[p]=1e-20}M.ATH.floor=10*Math.log10(Y(l,-1))}this.iteration_init=function(l){var s=l.internal_flags,B=s.l3_side,b;if(s.iteration_init_init==0){for(s.iteration_init_init=1,B.main_data_begin=0,k(l),g[0]=0,b=1;b<f;b++)g[b]=Math.pow(b,4/3);for(b=0;b<f-1;b++)O[b]=b+1-Math.pow(.5*(g[b]+g[b+1]),.75);for(O[b]=.5,b=0;b<m;b++)N[b]=Math.pow(2,(b-210)*-.1875);for(b=0;b<=m+S;b++)_[b]=Math.pow(2,(b-210-S)*.25);e.huffman_init(s);{var T,M,d,p;for(b=l.exp_nspsytune>>2&63,b>=32&&(b-=64),T=Math.pow(10,b/4/10),b=l.exp_nspsytune>>8&63,b>=32&&(b-=64),M=Math.pow(10,b/4/10),b=l.exp_nspsytune>>14&63,b>=32&&(b-=64),d=Math.pow(10,b/4/10),b=l.exp_nspsytune>>20&63,b>=32&&(b-=64),p=d*Math.pow(10,b/4/10),b=0;b<pt.SBMAX_l;b++){var c;b<=6?c=T:b<=13?c=M:b<=20?c=d:c=p,s.nsPsy.longfact[b]=c}for(b=0;b<pt.SBMAX_s;b++){var c;b<=5?c=T:b<=10?c=M:b<=11?c=d:c=p,s.nsPsy.shortfact[b]=c}}}},this.on_pe=function(l,s,B,b,T,M){var d=l.internal_flags,p=0,c,y=Rf(2),i,h=new Af(p),v=t.ResvMaxBits(l,b,h,M);p=h.bits;var x=p+v;for(x>Xt.MAX_BITS_PER_GRANULE&&(x=Xt.MAX_BITS_PER_GRANULE),c=0,i=0;i<d.channels_out;++i)B[i]=Math.min(Xt.MAX_BITS_PER_CHANNEL,p/d.channels_out),y[i]=0|B[i]*s[T][i]/700-B[i],y[i]>b*3/4&&(y[i]=b*3/4),y[i]<0&&(y[i]=0),y[i]+B[i]>Xt.MAX_BITS_PER_CHANNEL&&(y[i]=Math.max(0,Xt.MAX_BITS_PER_CHANNEL-B[i])),c+=y[i];if(c>v)for(i=0;i<d.channels_out;++i)y[i]=v*y[i]/c;for(i=0;i<d.channels_out;++i)B[i]+=y[i],v-=y[i];for(c=0,i=0;i<d.channels_out;++i)c+=B[i];if(c>Xt.MAX_BITS_PER_GRANULE){var C=0;for(i=0;i<d.channels_out;++i)B[i]*=Xt.MAX_BITS_PER_GRANULE,B[i]/=c,C+=B[i]}return x},this.reduce_side=function(l,s,B,b){Yn(l[0]+l[1]<=Xt.MAX_BITS_PER_GRANULE);var T=.33*(.5-s)/.5;T<0&&(T=0),T>.5&&(T=.5);var M=0|T*.5*(l[0]+l[1]);M>Xt.MAX_BITS_PER_CHANNEL-l[0]&&(M=Xt.MAX_BITS_PER_CHANNEL-l[0]),M<0&&(M=0),l[1]>=125&&(l[1]-M>125?(l[0]<B&&(l[0]+=M),l[1]-=M):(l[0]+=l[1]-125,l[1]=125)),M=l[0]+l[1],M>b&&(l[0]=b*l[0]/M,l[1]=b*l[1]/M),Yn(l[0]<=Xt.MAX_BITS_PER_CHANNEL),Yn(l[1]<=Xt.MAX_BITS_PER_CHANNEL),Yn(l[0]+l[1]<=Xt.MAX_BITS_PER_GRANULE)},this.athAdjust=function(l,s,B){var b=90.30873362,T=94.82444863,M=Ks.FAST_LOG10_X(s,10),d=l*l,p=0;return M-=B,d>1e-20&&(p=1+Ks.FAST_LOG10_X(d,10/b)),p<0&&(p=0),M*=p,M+=B+b-T,Math.pow(10,.1*M)},this.calc_xmin=function(l,s,B,b){var T=0,M=l.internal_flags,d,p=0,c=0,y=M.ATH,i=B.xr,h=l.VBR==on.vbr_mtrh?1:0,v=M.masking_lower;for((l.VBR==on.vbr_mtrh||l.VBR==on.vbr_mt)&&(v=1),d=0;d<B.psy_lmax;d++){var x,C,q,H,X,u;l.VBR==on.vbr_rh||l.VBR==on.vbr_mtrh?C=athAdjust(y.adjust,y.l[d],y.floor):C=y.adjust*y.l[d],X=B.width[d],q=C/X,H=a,u=X>>1,x=0;do{var A,G;A=i[p]*i[p],x+=A,H+=A<q?A:q,p++,G=i[p]*i[p],x+=G,H+=G<q?G:q,p++}while(--u>0);if(x>C&&c++,d==pt.SBPSY_l){var j=C*M.nsPsy.longfact[d];H<j&&(H=j)}if(h!=0&&(C=H),!l.ATHonly){var me=s.en.l[d];if(me>0){var j;j=x*s.thm.l[d]*v/me,h!=0&&(j*=M.nsPsy.longfact[d]),C<j&&(C=j)}}h!=0?b[T++]=C:b[T++]=C*M.nsPsy.longfact[d]}var ye=575;if(B.block_type!=pt.SHORT_TYPE)for(var pe=576;pe--!=0&&BitStream.EQ(i[pe],0);)ye=pe;B.max_nonzero_coeff=ye;for(var U=B.sfb_smin;d<B.psymax;U++,d+=3){var X,ce,te;for(l.VBR==on.vbr_rh||l.VBR==on.vbr_mtrh?te=athAdjust(y.adjust,y.s[U],y.floor):te=y.adjust*y.s[U],X=B.width[d],ce=0;ce<3;ce++){var x=0,C,q,H,u=X>>1;q=te/X,H=a;do{var A,G;A=i[p]*i[p],x+=A,H+=A<q?A:q,p++,G=i[p]*i[p],x+=G,H+=G<q?G:q,p++}while(--u>0);if(x>te&&c++,U==pt.SBPSY_s){var j=te*M.nsPsy.shortfact[U];H<j&&(H=j)}if(h!=0?C=H:C=te,!l.ATHonly&&!l.ATHshort){var me=s.en.s[U][ce];if(me>0){var j;j=x*s.thm.s[U][ce]*v/me,h!=0&&(j*=M.nsPsy.shortfact[U]),C<j&&(C=j)}}h!=0?b[T++]=C:b[T++]=C*M.nsPsy.shortfact[U]}l.useTemporal&&(b[T-3]>b[T-3+1]&&(b[T-3+1]+=(b[T-3]-b[T-3+1])*M.decay),b[T-3+1]>b[T-3+2]&&(b[T-3+2]+=(b[T-3+1]-b[T-3+2])*M.decay))}return c};function w(l){this.s=l}this.calc_noise_core=function(l,s,B,b){var T=0,M=s.s,d=l.l3_enc;if(M>l.count1)for(;B--!=0;){var p;p=l.xr[M],M++,T+=p*p,p=l.xr[M],M++,T+=p*p}else if(M>l.big_values){var c=ln(2);for(c[0]=0,c[1]=b;B--!=0;){var p;p=Math.abs(l.xr[M])-c[d[M]],M++,T+=p*p,p=Math.abs(l.xr[M])-c[d[M]],M++,T+=p*p}}else for(;B--!=0;){var p;p=Math.abs(l.xr[M])-g[d[M]]*b,M++,T+=p*p,p=Math.abs(l.xr[M])-g[d[M]]*b,M++,T+=p*p}return s.s=M,T},this.calc_noise=function(l,s,B,b,T){var M=0,d=0,p,c,y=0,i=0,h=0,v=-20,x=0,C=l.scalefac,q=0;for(b.over_SSD=0,p=0;p<l.psymax;p++){var H=l.global_gain-(C[q++]+(l.preflag!=0?E[p]:0)<<l.scalefac_scale+1)-l.subblock_gain[l.window[p]]*8,X=0;if(T!=null&&T.step[p]==H)X=T.noise[p],x+=l.width[p],B[M++]=X/s[d++],X=T.noise_log[p];else{var u=r(H);if(c=l.width[p]>>1,x+l.width[p]>l.max_nonzero_coeff){var A;A=l.max_nonzero_coeff-x+1,A>0?c=A>>1:c=0}var G=new w(x);X=this.calc_noise_core(l,G,c,u),x=G.s,T!=null&&(T.step[p]=H,T.noise[p]=X),X=B[M++]=X/s[d++],X=Ks.FAST_LOG10(Math.max(X,1e-20)),T!=null&&(T.noise_log[p]=X)}if(T!=null&&(T.global_gain=l.global_gain),h+=X,X>0){var j;j=Math.max(0|X*10+.5,1),b.over_SSD+=j*j,y++,i+=X}v=Math.max(v,X)}return b.over_count=y,b.tot_noise=h,b.over_noise=i,b.max_noise=v,y},this.set_pinfo=function(l,s,B,b,T){var M=l.internal_flags,d,p,c,y,i,h=s.scalefac_scale==0?.5:1,v=s.scalefac,x=ln(L3Side.SFBMAX),C=ln(L3Side.SFBMAX),q=new CalcNoiseResult;calc_xmin(l,B,s,x),calc_noise(s,x,C,q,null);var H=0;for(p=s.sfb_lmax,s.block_type!=pt.SHORT_TYPE&&s.mixed_block_flag==0&&(p=22),d=0;d<p;d++){var X=M.scalefac_band.l[d],u=M.scalefac_band.l[d+1],A=u-X;for(y=0;H<u;H++)y+=s.xr[H]*s.xr[H];y/=A,i=1e15,M.pinfo.en[b][T][d]=i*y,M.pinfo.xfsf[b][T][d]=i*x[d]*C[d]/A,B.en.l[d]>0&&!l.ATHonly?y=y/B.en.l[d]:y=0,M.pinfo.thr[b][T][d]=i*Math.max(y*B.thm.l[d],M.ATH.l[d]),M.pinfo.LAMEsfb[b][T][d]=0,s.preflag!=0&&d>=11&&(M.pinfo.LAMEsfb[b][T][d]=-h*E[d]),d<pt.SBPSY_l&&(Yn(v[d]>=0),M.pinfo.LAMEsfb[b][T][d]-=h*v[d])}if(s.block_type==pt.SHORT_TYPE)for(p=d,d=s.sfb_smin;d<pt.SBMAX_s;d++)for(var X=M.scalefac_band.s[d],u=M.scalefac_band.s[d+1],A=u-X,G=0;G<3;G++){for(y=0,c=X;c<u;c++)y+=s.xr[H]*s.xr[H],H++;y=Math.max(y/A,1e-20),i=1e15,M.pinfo.en_s[b][T][3*d+G]=i*y,M.pinfo.xfsf_s[b][T][3*d+G]=i*x[p]*C[p]/A,B.en.s[d][G]>0?y=y/B.en.s[d][G]:y=0,(l.ATHonly||l.ATHshort)&&(y=0),M.pinfo.thr_s[b][T][3*d+G]=i*Math.max(y*B.thm.s[d][G],M.ATH.s[d]),M.pinfo.LAMEsfb_s[b][T][3*d+G]=-2*s.subblock_gain[G],d<pt.SBPSY_s&&(M.pinfo.LAMEsfb_s[b][T][3*d+G]-=h*v[p]),p++}M.pinfo.LAMEqss[b][T]=s.global_gain,M.pinfo.LAMEmainbits[b][T]=s.part2_3_length+s.part2_length,M.pinfo.LAMEsfbits[b][T]=s.part2_length,M.pinfo.over[b][T]=q.over_count,M.pinfo.max_noise[b][T]=q.max_noise*10,M.pinfo.over_noise[b][T]=q.over_noise*10,M.pinfo.tot_noise[b][T]=q.tot_noise*10,M.pinfo.over_SSD[b][T]=q.over_SSD}}var ml=B0,bs=rt,Ef=bs.System,Mf=bs.Arrays,Un=bs.new_int,Or=bs.assert,st=gt(),at=Ua,wf=qa,cn=ml;function pa(){var e=null;this.qupvt=null,this.setModules=function(c){this.qupvt=c,e=c};function t(c){this.bits=0|c}var n=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function r(c,y,i,h,v,x){var C=.5946/y;for(c=c>>1;c--!=0;)v[x++]=C>i[h++]?0:1,v[x++]=C>i[h++]?0:1}function a(c,y,i,h,v,x){c=c>>1;var C=c%2;for(c=c>>1;c--!=0;){var q,H,X,u,A,G,j,me;q=i[h++]*y,H=i[h++]*y,A=0|q,X=i[h++]*y,G=0|H,u=i[h++]*y,j=0|X,q+=e.adj43[A],me=0|u,H+=e.adj43[G],v[x++]=0|q,X+=e.adj43[j],v[x++]=0|H,u+=e.adj43[me],v[x++]=0|X,v[x++]=0|u}if(C!=0){var q,H,A,G;q=i[h++]*y,H=i[h++]*y,A=0|q,G=0|H,q+=e.adj43[A],H+=e.adj43[G],v[x++]=0|q,v[x++]=0|H}}function o(c,y,i,h,v){var x,C,q=0,H,X=0,u=0,A=0,G=y,j=0,me=G,ye=0,pe=c,U=0;for(H=v!=null&&h.global_gain==v.global_gain,h.block_type==st.SHORT_TYPE?C=38:C=21,x=0;x<=C;x++){var ce=-1;if((H||h.block_type==st.NORM_TYPE)&&(ce=h.global_gain-(h.scalefac[x]+(h.preflag!=0?e.pretab[x]:0)<<h.scalefac_scale+1)-h.subblock_gain[h.window[x]]*8),Or(h.width[x]>=0),H&&v.step[x]==ce)X!=0&&(a(X,i,pe,U,me,ye),X=0),u!=0&&(r(u,i,pe,U,me,ye),u=0);else{var te=h.width[x];if(q+h.width[x]>h.max_nonzero_coeff){var ee;ee=h.max_nonzero_coeff-q+1,Mf.fill(y,h.max_nonzero_coeff,576,0),te=ee,te<0&&(te=0),x=C+1}if(X==0&&u==0&&(me=G,ye=j,pe=c,U=A),v!=null&&v.sfb_count1>0&&x>=v.sfb_count1&&v.step[x]>0&&ce>=v.step[x]?(X!=0&&(a(X,i,pe,U,me,ye),X=0,me=G,ye=j,pe=c,U=A),u+=te):(u!=0&&(r(u,i,pe,U,me,ye),u=0,me=G,ye=j,pe=c,U=A),X+=te),te<=0){u!=0&&(r(u,i,pe,U,me,ye),u=0),X!=0&&(a(X,i,pe,U,me,ye),X=0);break}}x<=C&&(j+=h.width[x],A+=h.width[x],q+=h.width[x])}X!=0&&(a(X,i,pe,U,me,ye),X=0),u!=0&&(r(u,i,pe,U,me,ye),u=0)}function f(c,y,i){var h=0,v=0;do{var x=c[y++],C=c[y++];h<x&&(h=x),v<C&&(v=C)}while(y<i);return h<v&&(h=v),h}function m(c,y,i,h,v,x){var C=at.ht[h].xlen*65536+at.ht[v].xlen,q=0,H;do{var X=c[y++],u=c[y++];X!=0&&(X>14&&(X=15,q+=C),X*=16),u!=0&&(u>14&&(u=15,q+=C),X+=u),q+=at.largetbl[X]}while(y<i);return H=q&65535,q>>=16,q>H&&(q=H,h=v),x.bits+=q,h}function S(c,y,i,h){var v=0,x=at.ht[1].hlen;do{var C=c[y+0]*2+c[y+1];y+=2,v+=x[C]}while(y<i);return h.bits+=v,1}function R(c,y,i,h,v){var x=0,C,q=at.ht[h].xlen,H;h==2?H=at.table23:H=at.table56;do{var X=c[y+0]*q+c[y+1];y+=2,x+=H[X]}while(y<i);return C=x&65535,x>>=16,x>C&&(x=C,h++),v.bits+=x,h}function E(c,y,i,h,v){var x=0,C=0,q=0,H=at.ht[h].xlen,X=at.ht[h].hlen,u=at.ht[h+1].hlen,A=at.ht[h+2].hlen;do{var G=c[y+0]*H+c[y+1];y+=2,x+=X[G],C+=u[G],q+=A[G]}while(y<i);var j=h;return x>C&&(x=C,j++),x>q&&(x=q,j=h+2),v.bits+=x,j}var _=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function N(c,y,i,h){var v=f(c,y,i);switch(v){case 0:return v;case 1:return S(c,y,i,h);case 2:case 3:return R(c,y,i,_[v-1],h);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return E(c,y,i,_[v-1],h);default:if(v>cn.IXMAX_VAL)return h.bits=cn.LARGE_BITS,-1;v-=15;var x;for(x=24;x<32&&!(at.ht[x].linmax>=v);x++);var C;for(C=x-8;C<24&&!(at.ht[C].linmax>=v);C++);return m(c,y,i,C,x,h)}}this.noquant_count_bits=function(c,y,i){var h=y.l3_enc,v=Math.min(576,y.max_nonzero_coeff+2>>1<<1);for(i!=null&&(i.sfb_count1=0);v>1&&!(h[v-1]|h[v-2]);v-=2);y.count1=v;for(var x=0,C=0;v>3;v-=4){var q;if(((h[v-1]|h[v-2]|h[v-3]|h[v-4])&2147483647)>1)break;q=((h[v-4]*2+h[v-3])*2+h[v-2])*2+h[v-1],x+=at.t32l[q],C+=at.t33l[q]}var H=x;if(y.count1table_select=0,x>C&&(H=C,y.count1table_select=1),y.count1bits=H,y.big_values=v,v==0)return H;if(y.block_type==st.SHORT_TYPE)x=3*c.scalefac_band.s[3],x>y.big_values&&(x=y.big_values),C=y.big_values;else if(y.block_type==st.NORM_TYPE){if(x=y.region0_count=c.bv_scf[v-2],C=y.region1_count=c.bv_scf[v-1],Or(x+C+2<st.SBPSY_l),C=c.scalefac_band.l[x+C+2],x=c.scalefac_band.l[x+1],C<v){var X=new t(H);y.table_select[2]=N(h,C,v,X),H=X.bits}}else y.region0_count=7,y.region1_count=st.SBMAX_l-1-7-1,x=c.scalefac_band.l[8],C=v,x>C&&(x=C);if(x=Math.min(x,v),C=Math.min(C,v),0<x){var X=new t(H);y.table_select[0]=N(h,0,x,X),H=X.bits}if(x<C){var X=new t(H);y.table_select[1]=N(h,x,C,X),H=X.bits}if(c.use_best_huffman==2&&(y.part2_3_length=H,best_huffman_divide(c,y),H=y.part2_3_length),i!=null&&y.block_type==st.NORM_TYPE){for(var u=0;c.scalefac_band.l[u]<y.big_values;)u++;i.sfb_count1=u}return H},this.count_bits=function(c,y,i,h){var v=i.l3_enc,x=cn.IXMAX_VAL/e.IPOW20(i.global_gain);if(i.xrpow_max>x)return cn.LARGE_BITS;if(o(y,v,e.IPOW20(i.global_gain),i,h),c.substep_shaping&2)for(var C=0,q=i.global_gain+i.scalefac_scale,H=.634521682242439/e.IPOW20(q),X=0;X<i.sfbmax;X++){var u=i.width[X];if(c.pseudohalf[X]==0)C+=u;else{var A;for(A=C,C+=u;A<C;++A)v[A]=y[A]>=H?v[A]:0}}return this.noquant_count_bits(c,i,h)};function g(c,y,i,h,v,x,C){for(var q=y.big_values,H=0;H<=22;H++)h[H]=cn.LARGE_BITS;for(var H=0;H<16;H++){var X=c.scalefac_band.l[H+1];if(X>=q)break;var u=0,A=new t(u),G=N(i,0,X,A);u=A.bits;for(var j=0;j<8;j++){var me=c.scalefac_band.l[H+j+2];if(me>=q)break;var ye=u;A=new t(ye);var pe=N(i,X,me,A);ye=A.bits,h[H+j]>ye&&(h[H+j]=ye,v[H+j]=H,x[H+j]=G,C[H+j]=pe)}}}function O(c,y,i,h,v,x,C,q){for(var H=y.big_values,X=2;X<st.SBMAX_l+1;X++){var u=c.scalefac_band.l[X];if(u>=H)break;var A=v[X-2]+y.count1bits;if(i.part2_3_length<=A)break;var G=new t(A),j=N(h,u,H,G);A=G.bits,!(i.part2_3_length<=A)&&(i.assign(y),i.part2_3_length=A,i.region0_count=x[X-2],i.region1_count=X-2-x[X-2],i.table_select[0]=C[X-2],i.table_select[1]=q[X-2],i.table_select[2]=j)}}this.best_huffman_divide=function(c,y){var i=new wf,h=y.l3_enc,v=Un(23),x=Un(23),C=Un(23),q=Un(23);if(!(y.block_type==st.SHORT_TYPE&&c.mode_gr==1)){i.assign(y),y.block_type==st.NORM_TYPE&&(g(c,y,h,v,x,C,q),O(c,i,y,h,v,x,C,q));var H=i.big_values;if(!(H==0||(h[H-2]|h[H-1])>1)&&(H=y.count1+2,!(H>576))){i.assign(y),i.count1=H;for(var X=0,u=0;H>i.big_values;H-=4){var A=((h[H-4]*2+h[H-3])*2+h[H-2])*2+h[H-1];X+=at.t32l[A],u+=at.t33l[A]}if(i.big_values=H,i.count1table_select=0,X>u&&(X=u,i.count1table_select=1),i.count1bits=X,i.block_type==st.NORM_TYPE)O(c,i,y,h,v,x,C,q);else{if(i.part2_3_length=X,X=c.scalefac_band.l[8],X>H&&(X=H),X>0){var G=new t(i.part2_3_length);i.table_select[0]=N(h,0,X,G),i.part2_3_length=G.bits}if(H>X){var G=new t(i.part2_3_length);i.table_select[1]=N(h,X,H,G),i.part2_3_length=G.bits}y.part2_3_length>i.part2_3_length&&y.assign(i)}}}};var Y=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],k=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],w=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],l=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];pa.slen1_tab=w,pa.slen2_tab=l;function s(c,y){for(var i,h=y.tt[1][c],v=y.tt[0][c],x=0;x<at.scfsi_band.length-1;x++){for(i=at.scfsi_band[x];i<at.scfsi_band[x+1]&&!(v.scalefac[i]!=h.scalefac[i]&&h.scalefac[i]>=0);i++);if(i==at.scfsi_band[x+1]){for(i=at.scfsi_band[x];i<at.scfsi_band[x+1];i++)h.scalefac[i]=-1;y.scfsi[c][x]=1}}var C=0,q=0;for(i=0;i<11;i++)h.scalefac[i]!=-1&&(q++,C<h.scalefac[i]&&(C=h.scalefac[i]));for(var H=0,X=0;i<st.SBPSY_l;i++)h.scalefac[i]!=-1&&(X++,H<h.scalefac[i]&&(H=h.scalefac[i]));for(var x=0;x<16;x++)if(C<Y[x]&&H<k[x]){var u=w[x]*q+l[x]*X;h.part2_length>u&&(h.part2_length=u,h.scalefac_compress=x)}}this.best_scalefac_store=function(c,y,i,h){var v=h.tt[y][i],x,C,q,H,X=0;for(q=0,x=0;x<v.sfbmax;x++){var u=v.width[x];for(q+=u,H=-u;H<0&&v.l3_enc[H+q]==0;H++);H==0&&(v.scalefac[x]=X=-2)}if(v.scalefac_scale==0&&v.preflag==0){var A=0;for(x=0;x<v.sfbmax;x++)v.scalefac[x]>0&&(A|=v.scalefac[x]);if(!(A&1)&&A!=0){for(x=0;x<v.sfbmax;x++)v.scalefac[x]>0&&(v.scalefac[x]>>=1);v.scalefac_scale=X=1}}if(v.preflag==0&&v.block_type!=st.SHORT_TYPE&&c.mode_gr==2){for(x=11;x<st.SBPSY_l&&!(v.scalefac[x]<e.pretab[x]&&v.scalefac[x]!=-2);x++);if(x==st.SBPSY_l){for(x=11;x<st.SBPSY_l;x++)v.scalefac[x]>0&&(v.scalefac[x]-=e.pretab[x]);v.preflag=X=1}}for(C=0;C<4;C++)h.scfsi[i][C]=0;for(c.mode_gr==2&&y==1&&h.tt[0][i].block_type!=st.SHORT_TYPE&&h.tt[1][i].block_type!=st.SHORT_TYPE&&(s(i,h),X=0),x=0;x<v.sfbmax;x++)v.scalefac[x]==-2&&(v.scalefac[x]=0);X!=0&&(c.mode_gr==2?this.scale_bitcount(v):this.scale_bitcount_lsf(c,v))};function B(c,y){for(var i=0;i<y;++i)if(c[i]<0)return!1;return!0}var b=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],T=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],M=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(c){var y,i,h=0,v=0,x,C=c.scalefac;if(Or(B(C,c.sfbmax)),c.block_type==st.SHORT_TYPE)x=b,c.mixed_block_flag!=0&&(x=T);else if(x=M,c.preflag==0){for(i=11;i<st.SBPSY_l&&!(C[i]<e.pretab[i]);i++);if(i==st.SBPSY_l)for(c.preflag=1,i=11;i<st.SBPSY_l;i++)C[i]-=e.pretab[i]}for(i=0;i<c.sfbdivide;i++)h<C[i]&&(h=C[i]);for(;i<c.sfbmax;i++)v<C[i]&&(v=C[i]);for(c.part2_length=cn.LARGE_BITS,y=0;y<16;y++)h<Y[y]&&v<k[y]&&c.part2_length>x[y]&&(c.part2_length=x[y],c.scalefac_compress=y);return c.part2_length==cn.LARGE_BITS};var d=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(c,y){var i,h,v,x,C,q,H,X,u=Un(4),A=y.scalefac;for(y.preflag!=0?i=2:i=0,H=0;H<4;H++)u[H]=0;if(y.block_type==st.SHORT_TYPE){h=1;var G=e.nr_of_sfb_block[i][h];for(X=0,v=0;v<4;v++)for(x=G[v]/3,H=0;H<x;H++,X++)for(C=0;C<3;C++)A[X*3+C]>u[v]&&(u[v]=A[X*3+C])}else{h=0;var G=e.nr_of_sfb_block[i][h];for(X=0,v=0;v<4;v++)for(x=G[v],H=0;H<x;H++,X++)A[X]>u[v]&&(u[v]=A[X])}for(q=!1,v=0;v<4;v++)u[v]>d[i][v]&&(q=!0);if(!q){var j,me,ye,pe;for(y.sfb_partition_table=e.nr_of_sfb_block[i][h],v=0;v<4;v++)y.slen[v]=p[u[v]];switch(j=y.slen[0],me=y.slen[1],ye=y.slen[2],pe=y.slen[3],i){case 0:y.scalefac_compress=(j*5+me<<4)+(ye<<2)+pe;break;case 1:y.scalefac_compress=400+(j*5+me<<2)+ye;break;case 2:y.scalefac_compress=500+j*3+me;break;default:Ef.err.printf(`intensity stereo not implemented yet
`);break}}if(!q)for(Or(y.sfb_partition_table!=null),y.part2_length=0,v=0;v<4;v++)y.part2_length+=y.slen[v]*y.sfb_partition_table[v];return q};var p=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(c){for(var y=2;y<=576;y+=2){for(var i=0,h;c.scalefac_band.l[++i]<y;);for(h=n[i][0];c.scalefac_band.l[h+1]>y;)h--;for(h<0&&(h=n[i][0]),c.bv_scf[y-2]=h,h=n[i][1];c.scalefac_band.l[h+c.bv_scf[y-2]+2]>y;)h--;h<0&&(h=n[i][1]),c.bv_scf[y-1]=h}}}var pl=pa,kn=rt,f0=kn.System,Tf=kn.Arrays,Bf=kn.new_byte,Cf=kn.new_float_n,gf=kn.new_int,it=kn.assert,r1=pl,Ws=Ua,Nr=gt(),un=ps;Qr.EQ=function(e,t){return Math.abs(e)>Math.abs(t)?Math.abs(e-t)<=Math.abs(e)*1e-6:Math.abs(e-t)<=Math.abs(t)*1e-6};Qr.NEQ=function(e,t){return!Qr.EQ(e,t)};function Qr(){var e=this,t=32773,n=null,r=null,a=null,o=null;this.setModules=function(d,p,c,y){n=d,r=p,a=c,o=y};var f=null,m=0,S=0,R=0;this.getframebits=function(d){var p=d.internal_flags,c;p.bitrate_index!=0?c=Ws.bitrate_table[d.version][p.bitrate_index]:c=d.brate;var y=0|(d.version+1)*72e3*c/d.out_samplerate+p.padding;return 8*y};function E(d){f0.arraycopy(d.header[d.w_ptr].buf,0,f,S,d.sideinfo_len),S+=d.sideinfo_len,m+=d.sideinfo_len*8,d.w_ptr=d.w_ptr+1&un.MAX_HEADER_BUF-1}function _(d,p,c){for(;c>0;){var y;R==0&&(R=8,S++,it(S<Lame.LAME_MAXMP3BUFFER),it(d.header[d.w_ptr].write_timing>=m),d.header[d.w_ptr].write_timing==m&&E(d),f[S]=0),y=Math.min(c,R),c-=y,R-=y,f[S]|=p>>c<<R,m+=y}}function N(d,p,c){for(;c>0;){var y;R==0&&(R=8,S++,it(S<Lame.LAME_MAXMP3BUFFER),f[S]=0),y=Math.min(c,R),c-=y,R-=y,f[S]|=p>>c<<R,m+=y}}function g(d,p){var c=d.internal_flags,y;if(p>=8&&(_(c,76,8),p-=8),p>=8&&(_(c,65,8),p-=8),p>=8&&(_(c,77,8),p-=8),p>=8&&(_(c,69,8),p-=8),p>=32){var i=a.getLameShortVersion();if(p>=32)for(y=0;y<i.length&&p>=8;++y)p-=8,_(c,i.charAt(y),8)}for(;p>=1;p-=1)_(c,c.ancillary_flag,1),c.ancillary_flag^=d.disable_reservoir?0:1}function O(d,p,c){for(var y=d.header[d.h_ptr].ptr;c>0;){var i=Math.min(c,8-(y&7));c-=i,d.header[d.h_ptr].buf[y>>3]|=p>>c<<8-(y&7)-i,y+=i}d.header[d.h_ptr].ptr=y}function Y(d,p){d<<=8;for(var c=0;c<8;c++)d<<=1,p<<=1,(p^d)&65536&&(p^=t);return p}this.CRC_writeheader=function(d,p){var c=65535;c=Y(p[2]&255,c),c=Y(p[3]&255,c);for(var y=6;y<d.sideinfo_len;y++)c=Y(p[y]&255,c);p[4]=byte(c>>8),p[5]=byte(c&255)};function k(d,p){var c=d.internal_flags,y,i,h;if(y=c.l3_side,c.header[c.h_ptr].ptr=0,Tf.fill(c.header[c.h_ptr].buf,0,c.sideinfo_len,0),d.out_samplerate<16e3?O(c,4094,12):O(c,4095,12),O(c,d.version,1),O(c,1,2),O(c,d.error_protection?0:1,1),O(c,c.bitrate_index,4),O(c,c.samplerate_index,2),O(c,c.padding,1),O(c,d.extension,1),O(c,d.mode.ordinal(),2),O(c,c.mode_ext,2),O(c,d.copyright,1),O(c,d.original,1),O(c,d.emphasis,2),d.error_protection&&O(c,0,16),d.version==1){for(it(y.main_data_begin>=0),O(c,y.main_data_begin,9),c.channels_out==2?O(c,y.private_bits,3):O(c,y.private_bits,5),h=0;h<c.channels_out;h++){var v;for(v=0;v<4;v++)O(c,y.scfsi[h][v],1)}for(i=0;i<2;i++)for(h=0;h<c.channels_out;h++){var x=y.tt[i][h];O(c,x.part2_3_length+x.part2_length,12),O(c,x.big_values/2,9),O(c,x.global_gain,8),O(c,x.scalefac_compress,4),x.block_type!=Nr.NORM_TYPE?(O(c,1,1),O(c,x.block_type,2),O(c,x.mixed_block_flag,1),x.table_select[0]==14&&(x.table_select[0]=16),O(c,x.table_select[0],5),x.table_select[1]==14&&(x.table_select[1]=16),O(c,x.table_select[1],5),O(c,x.subblock_gain[0],3),O(c,x.subblock_gain[1],3),O(c,x.subblock_gain[2],3)):(O(c,0,1),x.table_select[0]==14&&(x.table_select[0]=16),O(c,x.table_select[0],5),x.table_select[1]==14&&(x.table_select[1]=16),O(c,x.table_select[1],5),x.table_select[2]==14&&(x.table_select[2]=16),O(c,x.table_select[2],5),it(0<=x.region0_count&&x.region0_count<16),it(0<=x.region1_count&&x.region1_count<8),O(c,x.region0_count,4),O(c,x.region1_count,3)),O(c,x.preflag,1),O(c,x.scalefac_scale,1),O(c,x.count1table_select,1)}}else for(it(y.main_data_begin>=0),O(c,y.main_data_begin,8),O(c,y.private_bits,c.channels_out),i=0,h=0;h<c.channels_out;h++){var x=y.tt[i][h];O(c,x.part2_3_length+x.part2_length,12),O(c,x.big_values/2,9),O(c,x.global_gain,8),O(c,x.scalefac_compress,9),x.block_type!=Nr.NORM_TYPE?(O(c,1,1),O(c,x.block_type,2),O(c,x.mixed_block_flag,1),x.table_select[0]==14&&(x.table_select[0]=16),O(c,x.table_select[0],5),x.table_select[1]==14&&(x.table_select[1]=16),O(c,x.table_select[1],5),O(c,x.subblock_gain[0],3),O(c,x.subblock_gain[1],3),O(c,x.subblock_gain[2],3)):(O(c,0,1),x.table_select[0]==14&&(x.table_select[0]=16),O(c,x.table_select[0],5),x.table_select[1]==14&&(x.table_select[1]=16),O(c,x.table_select[1],5),x.table_select[2]==14&&(x.table_select[2]=16),O(c,x.table_select[2],5),it(0<=x.region0_count&&x.region0_count<16),it(0<=x.region1_count&&x.region1_count<8),O(c,x.region0_count,4),O(c,x.region1_count,3)),O(c,x.scalefac_scale,1),O(c,x.count1table_select,1)}d.error_protection&&CRC_writeheader(c,c.header[c.h_ptr].buf);{var C=c.h_ptr;it(c.header[C].ptr==c.sideinfo_len*8),c.h_ptr=C+1&un.MAX_HEADER_BUF-1,c.header[c.h_ptr].write_timing=c.header[C].write_timing+p,c.h_ptr==c.w_ptr&&f0.err.println(`Error: MAX_HEADER_BUF too small in bitstream.c 
`)}}function w(d,p){var c=Ws.ht[p.count1table_select+32],y,i=0,h=p.big_values,v=p.big_values;for(it(p.count1table_select<2),y=(p.count1-p.big_values)/4;y>0;--y){var x=0,C=0,q;q=p.l3_enc[h+0],q!=0&&(C+=8,p.xr[v+0]<0&&x++),q=p.l3_enc[h+1],q!=0&&(C+=4,x*=2,p.xr[v+1]<0&&x++),q=p.l3_enc[h+2],q!=0&&(C+=2,x*=2,p.xr[v+2]<0&&x++),q=p.l3_enc[h+3],q!=0&&(C++,x*=2,p.xr[v+3]<0&&x++),h+=4,v+=4,_(d,x+c.table[C],c.hlen[C]),i+=c.hlen[C]}return i}function l(d,p,c,y,i){var h=Ws.ht[p],v=0;if(p==0)return v;for(var x=c;x<y;x+=2){var C=0,q=0,H=h.xlen,X=h.xlen,u=0,A=i.l3_enc[x],G=i.l3_enc[x+1];if(A!=0&&(i.xr[x]<0&&u++,C--),p>15){if(A>14){var j=A-15;it(j<=h.linmax),u|=j<<1,q=H,A=15}if(G>14){var me=G-15;it(me<=h.linmax),u<<=H,u|=me,q+=H,G=15}X=16}G!=0&&(u<<=1,i.xr[x+1]<0&&u++,C--),A=A*X+G,q-=C,C+=h.hlen[A],_(d,h.table[A],C),_(d,u,q),v+=C+q}return v}function s(d,p){var c=3*d.scalefac_band.s[3];c>p.big_values&&(c=p.big_values);var y=l(d,p.table_select[0],0,c,p);return y+=l(d,p.table_select[1],c,p.big_values,p),y}function B(d,p){var c,y,i,h;c=p.big_values;var v=p.region0_count+1;return it(v<d.scalefac_band.l.length),i=d.scalefac_band.l[v],v+=p.region1_count+1,it(v<d.scalefac_band.l.length),h=d.scalefac_band.l[v],i>c&&(i=c),h>c&&(h=c),y=l(d,p.table_select[0],0,i,p),y+=l(d,p.table_select[1],i,h,p),y+=l(d,p.table_select[2],h,c,p),y}function b(d){var p,c,y,i,h=0,v=d.internal_flags,x=v.l3_side;if(d.version==1)for(p=0;p<2;p++)for(c=0;c<v.channels_out;c++){var C=x.tt[p][c],q=r1.slen1_tab[C.scalefac_compress],H=r1.slen2_tab[C.scalefac_compress];for(i=0,y=0;y<C.sfbdivide;y++)C.scalefac[y]!=-1&&(_(v,C.scalefac[y],q),i+=q);for(;y<C.sfbmax;y++)C.scalefac[y]!=-1&&(_(v,C.scalefac[y],H),i+=H);it(i==C.part2_length),C.block_type==Nr.SHORT_TYPE?i+=s(v,C):i+=B(v,C),i+=w(v,C),it(i==C.part2_3_length+C.part2_length),h+=i}else for(p=0,c=0;c<v.channels_out;c++){var C=x.tt[p][c],X,u,A=0;if(it(C.sfb_partition_table!=null),i=0,y=0,u=0,C.block_type==Nr.SHORT_TYPE){for(;u<4;u++){var G=C.sfb_partition_table[u]/3,j=C.slen[u];for(X=0;X<G;X++,y++)_(v,Math.max(C.scalefac[y*3+0],0),j),_(v,Math.max(C.scalefac[y*3+1],0),j),_(v,Math.max(C.scalefac[y*3+2],0),j),A+=3*j}i+=s(v,C)}else{for(;u<4;u++){var G=C.sfb_partition_table[u],j=C.slen[u];for(X=0;X<G;X++,y++)_(v,Math.max(C.scalefac[y],0),j),A+=j}i+=B(v,C)}i+=w(v,C),it(i==C.part2_3_length),it(A==C.part2_length),h+=A+i}return h}function T(){this.total=0}function M(d,p){var c=d.internal_flags,y,i,h,v,x;return x=c.w_ptr,v=c.h_ptr-1,v==-1&&(v=un.MAX_HEADER_BUF-1),y=c.header[v].write_timing-m,p.total=y,y>=0&&(i=1+v-x,v<x&&(i=1+v-x+un.MAX_HEADER_BUF),y-=i*8*c.sideinfo_len),h=e.getframebits(d),y+=h,p.total+=h,p.total%8!=0?p.total=1+p.total/8:p.total=p.total/8,p.total+=S+1,y<0&&f0.err.println(`strange error flushing buffer ... 
`),y}this.flush_bitstream=function(d){var p=d.internal_flags,c,y,i=p.h_ptr-1;if(i==-1&&(i=un.MAX_HEADER_BUF-1),c=p.l3_side,!((y=M(d,new T))<0)){if(g(d,y),it(p.header[i].write_timing+this.getframebits(d)==m),p.ResvSize=0,c.main_data_begin=0,p.findReplayGain){var h=n.GetTitleGain(p.rgdata);it(NEQ(h,GainAnalysis.GAIN_NOT_ENOUGH_SAMPLES)),p.RadioGain=Math.floor(h*10+.5)|0}p.findPeakSample&&(p.noclipGainChange=Math.ceil(Math.log10(p.PeakSample/32767)*20*10)|0,p.noclipGainChange>0&&(EQ(d.scale,1)||EQ(d.scale,0))?p.noclipScale=Math.floor(32767/p.PeakSample*100)/100:p.noclipScale=-1)}},this.add_dummy_byte=function(d,p,c){for(var y=d.internal_flags,i;c-- >0;)for(N(y,p,8),i=0;i<un.MAX_HEADER_BUF;++i)y.header[i].write_timing+=8},this.format_bitstream=function(d){var p=d.internal_flags,c;c=p.l3_side;var y=this.getframebits(d);g(d,c.resvDrain_pre),k(d,y);var i=8*p.sideinfo_len;if(i+=b(d),g(d,c.resvDrain_post),i+=c.resvDrain_post,c.main_data_begin+=(y-i)/8,M(d,new T)!=p.ResvSize&&f0.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),c.main_data_begin*8!=p.ResvSize&&(f0.err.printf(`bit reservoir error: 
l3_side.main_data_begin: %d 
Resvoir size:             %d 
resv drain (post)         %d 
resv drain (pre)          %d 
header and sideinfo:      %d 
data bits:                %d 
total bits:               %d (remainder: %d) 
bitsperframe:             %d 
`,8*c.main_data_begin,p.ResvSize,c.resvDrain_post,c.resvDrain_pre,8*p.sideinfo_len,i-c.resvDrain_post-8*p.sideinfo_len,i,i%8,y),f0.err.println("This is a fatal error.  It has several possible causes:"),f0.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),f0.err.println(" 9%%  Your system is overclocked"),f0.err.println(" 1%%  bug in LAME encoding library"),p.ResvSize=c.main_data_begin*8),m>1e9){var h;for(h=0;h<un.MAX_HEADER_BUF;++h)p.header[h].write_timing-=m;m=0}return 0},this.copy_buffer=function(d,p,c,y,i){var h=S+1;if(h<=0)return 0;if(y!=0&&h>y)return-1;if(f0.arraycopy(f,0,p,c,h),S=-1,R=0,i!=0){var v=gf(1);if(v[0]=d.nMusicCRC,o.updateMusicCRC(v,p,c,h),d.nMusicCRC=v[0],h>0&&(d.VBR_seek_table.nBytesWritten+=h),d.decode_on_the_fly){for(var x=Cf([2,1152]),C=h,q=-1,H;q!=0;)if(q=r.hip_decode1_unclipped(d.hip,p,c,C,x[0],x[1]),C=0,q==-1&&(q=0),q>0){if(d.findPeakSample){for(H=0;H<q;H++)x[0][H]>d.PeakSample?d.PeakSample=x[0][H]:-x[0][H]>d.PeakSample&&(d.PeakSample=-x[0][H]);if(d.channels_out>1)for(H=0;H<q;H++)x[1][H]>d.PeakSample?d.PeakSample=x[1][H]:-x[1][H]>d.PeakSample&&(d.PeakSample=-x[1][H])}if(d.findReplayGain&&n.AnalyzeSamples(d.rgdata,x[0],0,x[1],0,q,d.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6}}}return h},this.init_bit_stream_w=function(d){f=Bf(Lame.LAME_MAXMP3BUFFER),d.h_ptr=d.w_ptr=0,d.header[d.h_ptr].write_timing=0,S=-1,R=0,m=0}}var bl=Qr,pn=rt,If=pn.System,Ke=pn.VbrMode,zs=pn.ShortBlock,fn=pn.new_float,s1=pn.new_int_n,Lf=pn.new_short_n,k0=pn.assert,Zs=Fu,Of=Du,Hr=ps,Nf=_f,Hf=df,kf=xf,_n=bl,_0=Ua,ot=gt();function vt(){var e=this,t=128*1024;vt.V9=410,vt.V8=420,vt.V7=430,vt.V6=440,vt.V5=450,vt.V4=460,vt.V3=470,vt.V2=480,vt.V1=490,vt.V0=500,vt.R3MIX=1e3,vt.STANDARD=1001,vt.EXTREME=1002,vt.INSANE=1003,vt.STANDARD_FAST=1004,vt.EXTREME_FAST=1005,vt.MEDIUM=1006,vt.MEDIUM_FAST=1007;var n=16384+t;vt.LAME_MAXMP3BUFFER=n;var r,a,o,f,m,S=new Zs,R,E,_;this.enc=new ot,this.setModules=function(u,A,G,j,me,ye,pe,U,ce){r=u,a=A,o=G,f=j,m=me,R=ye,E=U,_=ce,this.enc.setModules(a,S,f,R)};function N(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=fn(ot.SBMAX_l),this.bo_s_weight=fn(ot.SBMAX_s)}function g(){this.lowerlimit=0}function O(u,A){this.lowpass=A}var Y=4294479419;function k(u){var A;return u.class_id=Y,A=u.internal_flags=new Hr,u.mode=MPEGMode.NOT_SET,u.original=1,u.in_samplerate=44100,u.num_channels=2,u.num_samples=-1,u.bWriteVbrTag=!0,u.quality=-1,u.short_blocks=null,A.subblock_gain=-1,u.lowpassfreq=0,u.highpassfreq=0,u.lowpasswidth=-1,u.highpasswidth=-1,u.VBR=Ke.vbr_off,u.VBR_q=4,u.ATHcurve=-1,u.VBR_mean_bitrate_kbps=128,u.VBR_min_bitrate_kbps=0,u.VBR_max_bitrate_kbps=0,u.VBR_hard_min=0,A.VBR_min_bitrate=1,A.VBR_max_bitrate=13,u.quant_comp=-1,u.quant_comp_short=-1,u.msfix=-1,A.resample_ratio=1,A.OldValue[0]=180,A.OldValue[1]=180,A.CurrentStep[0]=4,A.CurrentStep[1]=4,A.masking_lower=1,A.nsPsy.attackthre=-1,A.nsPsy.attackthre_s=-1,u.scale=-1,u.athaa_type=-1,u.ATHtype=-1,u.athaa_loudapprox=-1,u.athaa_sensitivity=0,u.useTemporal=null,u.interChRatio=-1,A.mf_samples_to_encode=ot.ENCDELAY+ot.POSTDELAY,u.encoder_padding=0,A.mf_size=ot.ENCDELAY-ot.MDCTDELAY,u.findReplayGain=!1,u.decode_on_the_fly=!1,A.decode_on_the_fly=!1,A.findReplayGain=!1,A.findPeakSample=!1,A.RadioGain=0,A.AudiophileGain=0,A.noclipGainChange=0,A.noclipScale=-1,u.preset=0,u.write_id3tag_automatic=!0,0}this.lame_init=function(){var u=new Of;return k(u),u.lame_allocated_gfp=1,u};function w(u){return u>1?0:u<=0?1:Math.cos(Math.PI/2*u)}this.nearestBitrateFullIndex=function(u){var A=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],G=0,j=0,me=0,ye=0;ye=A[16],me=16,j=A[16],G=16;for(var pe=0;pe<16;pe++)if(Math.max(u,A[pe+1])!=u){ye=A[pe+1],me=pe+1,j=A[pe],G=pe;break}return ye-u>u-j?G:me};function l(u,A){var G=44100;return A>=48e3?G=48e3:A>=44100?G=44100:A>=32e3?G=32e3:A>=24e3?G=24e3:A>=22050?G=22050:A>=16e3?G=16e3:A>=12e3?G=12e3:A>=11025?G=11025:A>=8e3&&(G=8e3),u==-1?G:(u<=15960&&(G=44100),u<=15250&&(G=32e3),u<=11220&&(G=24e3),u<=9970&&(G=22050),u<=7230&&(G=16e3),u<=5420&&(G=12e3),u<=4510&&(G=11025),u<=3970&&(G=8e3),A<G?A>44100?48e3:A>32e3?44100:A>24e3?32e3:A>22050?24e3:A>16e3?22050:A>12e3?16e3:A>11025?12e3:A>8e3?11025:8e3:G)}function s(u,A){switch(u){case 44100:return A.version=1,0;case 48e3:return A.version=1,1;case 32e3:return A.version=1,2;case 22050:return A.version=0,0;case 24e3:return A.version=0,1;case 16e3:return A.version=0,2;case 11025:return A.version=0,0;case 12e3:return A.version=0,1;case 8e3:return A.version=0,2;default:return A.version=0,-1}}function B(u,A,G){G<16e3&&(A=2);for(var j=_0.bitrate_table[A][1],me=2;me<=14;me++)_0.bitrate_table[A][me]>0&&Math.abs(_0.bitrate_table[A][me]-u)<Math.abs(j-u)&&(j=_0.bitrate_table[A][me]);return j}function b(u,A,G){G<16e3&&(A=2);for(var j=0;j<=14;j++)if(_0.bitrate_table[A][j]>0&&_0.bitrate_table[A][j]==u)return j;return-1}function T(u,A){var G=[new O(8,2e3),new O(16,3700),new O(24,3900),new O(32,5500),new O(40,7e3),new O(48,7500),new O(56,1e4),new O(64,11e3),new O(80,13500),new O(96,15100),new O(112,15600),new O(128,17e3),new O(160,17500),new O(192,18600),new O(224,19400),new O(256,19700),new O(320,20500)],j=e.nearestBitrateFullIndex(A);u.lowerlimit=G[j].lowpass}function M(u){var A=u.internal_flags,G=32,j=-1;if(A.lowpass1>0){for(var me=999,ye=0;ye<=31;ye++){var pe=ye/31;pe>=A.lowpass2&&(G=Math.min(G,ye)),A.lowpass1<pe&&pe<A.lowpass2&&(me=Math.min(me,ye))}me==999?A.lowpass1=(G-.75)/31:A.lowpass1=(me-.75)/31,A.lowpass2=G/31}if(A.highpass2>0&&A.highpass2<.9*(.75/31)&&(A.highpass1=0,A.highpass2=0,If.err.println(`Warning: highpass filter disabled.  highpass frequency too small
`)),A.highpass2>0){for(var U=-1,ye=0;ye<=31;ye++){var pe=ye/31;pe<=A.highpass1&&(j=Math.max(j,ye)),A.highpass1<pe&&pe<A.highpass2&&(U=Math.max(U,ye))}A.highpass1=j/31,U==-1?A.highpass2=(j+.75)/31:A.highpass2=(U+.75)/31}for(var ye=0;ye<32;ye++){var ce,te,pe=ye/31;A.highpass2>A.highpass1?ce=w((A.highpass2-pe)/(A.highpass2-A.highpass1+1e-20)):ce=1,A.lowpass2>A.lowpass1?te=w((pe-A.lowpass1)/(A.lowpass2-A.lowpass1+1e-20)):te=1,A.amp_filter[ye]=ce*te}}function d(u){var A=u.internal_flags;switch(u.quality){default:case 9:A.psymodel=0,A.noise_shaping=0,A.noise_shaping_amp=0,A.noise_shaping_stop=0,A.use_best_huffman=0,A.full_outer_loop=0;break;case 8:u.quality=7;case 7:A.psymodel=1,A.noise_shaping=0,A.noise_shaping_amp=0,A.noise_shaping_stop=0,A.use_best_huffman=0,A.full_outer_loop=0;break;case 6:A.psymodel=1,A.noise_shaping==0&&(A.noise_shaping=1),A.noise_shaping_amp=0,A.noise_shaping_stop=0,A.subblock_gain==-1&&(A.subblock_gain=1),A.use_best_huffman=0,A.full_outer_loop=0;break;case 5:A.psymodel=1,A.noise_shaping==0&&(A.noise_shaping=1),A.noise_shaping_amp=0,A.noise_shaping_stop=0,A.subblock_gain==-1&&(A.subblock_gain=1),A.use_best_huffman=0,A.full_outer_loop=0;break;case 4:A.psymodel=1,A.noise_shaping==0&&(A.noise_shaping=1),A.noise_shaping_amp=0,A.noise_shaping_stop=0,A.subblock_gain==-1&&(A.subblock_gain=1),A.use_best_huffman=1,A.full_outer_loop=0;break;case 3:A.psymodel=1,A.noise_shaping==0&&(A.noise_shaping=1),A.noise_shaping_amp=1,A.noise_shaping_stop=1,A.subblock_gain==-1&&(A.subblock_gain=1),A.use_best_huffman=1,A.full_outer_loop=0;break;case 2:A.psymodel=1,A.noise_shaping==0&&(A.noise_shaping=1),A.substep_shaping==0&&(A.substep_shaping=2),A.noise_shaping_amp=1,A.noise_shaping_stop=1,A.subblock_gain==-1&&(A.subblock_gain=1),A.use_best_huffman=1,A.full_outer_loop=0;break;case 1:A.psymodel=1,A.noise_shaping==0&&(A.noise_shaping=1),A.substep_shaping==0&&(A.substep_shaping=2),A.noise_shaping_amp=2,A.noise_shaping_stop=1,A.subblock_gain==-1&&(A.subblock_gain=1),A.use_best_huffman=1,A.full_outer_loop=0;break;case 0:A.psymodel=1,A.noise_shaping==0&&(A.noise_shaping=1),A.substep_shaping==0&&(A.substep_shaping=2),A.noise_shaping_amp=2,A.noise_shaping_stop=1,A.subblock_gain==-1&&(A.subblock_gain=1),A.use_best_huffman=1,A.full_outer_loop=0;break}}function p(u){var A=u.internal_flags;u.frameNum=0,u.write_id3tag_automatic&&E.id3tag_write_v2(u),A.bitrate_stereoMode_Hist=s1([16,5]),A.bitrate_blockType_Hist=s1([16,6]),A.PeakSample=0,u.bWriteVbrTag&&R.InitVbrTag(u)}this.lame_init_params=function(u){var A=u.internal_flags;if(A.Class_ID=0,A.ATH==null&&(A.ATH=new Nf),A.PSY==null&&(A.PSY=new N),A.rgdata==null&&(A.rgdata=new Hf),A.channels_in=u.num_channels,A.channels_in==1&&(u.mode=MPEGMode.MONO),A.channels_out=u.mode==MPEGMode.MONO?1:2,A.mode_ext=ot.MPG_MD_MS_LR,u.mode==MPEGMode.MONO&&(u.force_ms=!1),u.VBR==Ke.vbr_off&&u.VBR_mean_bitrate_kbps!=128&&u.brate==0&&(u.brate=u.VBR_mean_bitrate_kbps),u.VBR==Ke.vbr_off||u.VBR==Ke.vbr_mtrh||u.VBR==Ke.vbr_mt||(u.free_format=!1),u.VBR==Ke.vbr_off&&u.brate==0&&_n.EQ(u.compression_ratio,0)&&(u.compression_ratio=11.025),u.VBR==Ke.vbr_off&&u.compression_ratio>0&&(u.out_samplerate==0&&(u.out_samplerate=map2MP3Frequency(int(.97*u.in_samplerate))),u.brate=0|u.out_samplerate*16*A.channels_out/(1e3*u.compression_ratio),A.samplerate_index=s(u.out_samplerate,u),u.free_format||(u.brate=B(u.brate,u.version,u.out_samplerate))),u.out_samplerate!=0&&(u.out_samplerate<16e3?(u.VBR_mean_bitrate_kbps=Math.max(u.VBR_mean_bitrate_kbps,8),u.VBR_mean_bitrate_kbps=Math.min(u.VBR_mean_bitrate_kbps,64)):u.out_samplerate<32e3?(u.VBR_mean_bitrate_kbps=Math.max(u.VBR_mean_bitrate_kbps,8),u.VBR_mean_bitrate_kbps=Math.min(u.VBR_mean_bitrate_kbps,160)):(u.VBR_mean_bitrate_kbps=Math.max(u.VBR_mean_bitrate_kbps,32),u.VBR_mean_bitrate_kbps=Math.min(u.VBR_mean_bitrate_kbps,320))),u.lowpassfreq==0){var G=16e3;switch(u.VBR){case Ke.vbr_off:{var j=new g;T(j,u.brate),G=j.lowerlimit;break}case Ke.vbr_abr:{var j=new g;T(j,u.VBR_mean_bitrate_kbps),G=j.lowerlimit;break}case Ke.vbr_rh:{var me=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=u.VBR_q&&u.VBR_q<=9){var ye=me[u.VBR_q],pe=me[u.VBR_q+1],U=u.VBR_q_frac;G=linear_int(ye,pe,U)}else G=19500;break}default:{var me=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(0<=u.VBR_q&&u.VBR_q<=9){var ye=me[u.VBR_q],pe=me[u.VBR_q+1],U=u.VBR_q_frac;G=linear_int(ye,pe,U)}else G=19500}}u.mode==MPEGMode.MONO&&(u.VBR==Ke.vbr_off||u.VBR==Ke.vbr_abr)&&(G*=1.5),u.lowpassfreq=G|0}if(u.out_samplerate==0&&(2*u.lowpassfreq>u.in_samplerate&&(u.lowpassfreq=u.in_samplerate/2),u.out_samplerate=l(u.lowpassfreq|0,u.in_samplerate)),u.lowpassfreq=Math.min(20500,u.lowpassfreq),u.lowpassfreq=Math.min(u.out_samplerate/2,u.lowpassfreq),u.VBR==Ke.vbr_off&&(u.compression_ratio=u.out_samplerate*16*A.channels_out/(1e3*u.brate)),u.VBR==Ke.vbr_abr&&(u.compression_ratio=u.out_samplerate*16*A.channels_out/(1e3*u.VBR_mean_bitrate_kbps)),u.bWriteVbrTag||(u.findReplayGain=!1,u.decode_on_the_fly=!1,A.findPeakSample=!1),A.findReplayGain=u.findReplayGain,A.decode_on_the_fly=u.decode_on_the_fly,A.decode_on_the_fly&&(A.findPeakSample=!0),A.findReplayGain&&r.InitGainAnalysis(A.rgdata,u.out_samplerate)==GainAnalysis.INIT_GAIN_ANALYSIS_ERROR)return u.internal_flags=null,-6;switch(A.decode_on_the_fly&&!u.decode_only&&(A.hip!=null&&_.hip_decode_exit(A.hip),A.hip=_.hip_decode_init()),A.mode_gr=u.out_samplerate<=24e3?1:2,u.framesize=576*A.mode_gr,u.encoder_delay=ot.ENCDELAY,A.resample_ratio=u.in_samplerate/u.out_samplerate,u.VBR){case Ke.vbr_mt:case Ke.vbr_rh:case Ke.vbr_mtrh:{var ce=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5];u.compression_ratio=ce[u.VBR_q]}break;case Ke.vbr_abr:u.compression_ratio=u.out_samplerate*16*A.channels_out/(1e3*u.VBR_mean_bitrate_kbps);break;default:u.compression_ratio=u.out_samplerate*16*A.channels_out/(1e3*u.brate);break}if(u.mode==MPEGMode.NOT_SET&&(u.mode=MPEGMode.JOINT_STEREO),u.highpassfreq>0?(A.highpass1=2*u.highpassfreq,u.highpasswidth>=0?A.highpass2=2*(u.highpassfreq+u.highpasswidth):A.highpass2=1*2*u.highpassfreq,A.highpass1/=u.out_samplerate,A.highpass2/=u.out_samplerate):(A.highpass1=0,A.highpass2=0),u.lowpassfreq>0?(A.lowpass2=2*u.lowpassfreq,u.lowpasswidth>=0?(A.lowpass1=2*(u.lowpassfreq-u.lowpasswidth),A.lowpass1<0&&(A.lowpass1=0)):A.lowpass1=1*2*u.lowpassfreq,A.lowpass1/=u.out_samplerate,A.lowpass2/=u.out_samplerate):(A.lowpass1=0,A.lowpass2=0),M(u),A.samplerate_index=s(u.out_samplerate,u),A.samplerate_index<0)return u.internal_flags=null,-1;if(u.VBR==Ke.vbr_off){if(u.free_format)A.bitrate_index=0;else if(u.brate=B(u.brate,u.version,u.out_samplerate),A.bitrate_index=b(u.brate,u.version,u.out_samplerate),A.bitrate_index<=0)return u.internal_flags=null,-1}else A.bitrate_index=1;u.analysis&&(u.bWriteVbrTag=!1),A.pinfo!=null&&(u.bWriteVbrTag=!1),a.init_bit_stream_w(A);for(var te=A.samplerate_index+3*u.version+6*(u.out_samplerate<16e3?1:0),ee=0;ee<ot.SBMAX_l+1;ee++)A.scalefac_band.l[ee]=f.sfBandIndex[te].l[ee];for(var ee=0;ee<ot.PSFB21+1;ee++){var Be=(A.scalefac_band.l[22]-A.scalefac_band.l[21])/ot.PSFB21,P=A.scalefac_band.l[21]+ee*Be;A.scalefac_band.psfb21[ee]=P}A.scalefac_band.psfb21[ot.PSFB21]=576;for(var ee=0;ee<ot.SBMAX_s+1;ee++)A.scalefac_band.s[ee]=f.sfBandIndex[te].s[ee];for(var ee=0;ee<ot.PSFB12+1;ee++){var Be=(A.scalefac_band.s[13]-A.scalefac_band.s[12])/ot.PSFB12,P=A.scalefac_band.s[12]+ee*Be;A.scalefac_band.psfb12[ee]=P}A.scalefac_band.psfb12[ot.PSFB12]=192,u.version==1?A.sideinfo_len=A.channels_out==1?21:36:A.sideinfo_len=A.channels_out==1?13:21,u.error_protection&&(A.sideinfo_len+=2),p(u),A.Class_ID=Y;{var F;for(F=0;F<19;F++)A.nsPsy.pefirbuf[F]=700*A.mode_gr*A.channels_out;u.ATHtype==-1&&(u.ATHtype=4)}switch(k0(u.VBR_q<=9),k0(u.VBR_q>=0),u.VBR){case Ke.vbr_mt:u.VBR=Ke.vbr_mtrh;case Ke.vbr_mtrh:{u.useTemporal==null&&(u.useTemporal=!1),o.apply_preset(u,500-u.VBR_q*10,0),u.quality<0&&(u.quality=LAME_DEFAULT_QUALITY),u.quality<5&&(u.quality=0),u.quality>5&&(u.quality=5),A.PSY.mask_adjust=u.maskingadjust,A.PSY.mask_adjust_short=u.maskingadjust_short,u.experimentalY?A.sfb21_extra=!1:A.sfb21_extra=u.out_samplerate>44e3,A.iteration_loop=new VBRNewIterationLoop(m);break}case Ke.vbr_rh:{o.apply_preset(u,500-u.VBR_q*10,0),A.PSY.mask_adjust=u.maskingadjust,A.PSY.mask_adjust_short=u.maskingadjust_short,u.experimentalY?A.sfb21_extra=!1:A.sfb21_extra=u.out_samplerate>44e3,u.quality>6&&(u.quality=6),u.quality<0&&(u.quality=LAME_DEFAULT_QUALITY),A.iteration_loop=new VBROldIterationLoop(m);break}default:{var K;A.sfb21_extra=!1,u.quality<0&&(u.quality=LAME_DEFAULT_QUALITY),K=u.VBR,K==Ke.vbr_off&&(u.VBR_mean_bitrate_kbps=u.brate),o.apply_preset(u,u.VBR_mean_bitrate_kbps,0),u.VBR=K,A.PSY.mask_adjust=u.maskingadjust,A.PSY.mask_adjust_short=u.maskingadjust_short,K==Ke.vbr_off?A.iteration_loop=new kf(m):A.iteration_loop=new ABRIterationLoop(m);break}}if(k0(u.scale>=0),u.VBR!=Ke.vbr_off){if(A.VBR_min_bitrate=1,A.VBR_max_bitrate=14,u.out_samplerate<16e3&&(A.VBR_max_bitrate=8),u.VBR_min_bitrate_kbps!=0&&(u.VBR_min_bitrate_kbps=B(u.VBR_min_bitrate_kbps,u.version,u.out_samplerate),A.VBR_min_bitrate=b(u.VBR_min_bitrate_kbps,u.version,u.out_samplerate),A.VBR_min_bitrate<0)||u.VBR_max_bitrate_kbps!=0&&(u.VBR_max_bitrate_kbps=B(u.VBR_max_bitrate_kbps,u.version,u.out_samplerate),A.VBR_max_bitrate=b(u.VBR_max_bitrate_kbps,u.version,u.out_samplerate),A.VBR_max_bitrate<0))return-1;u.VBR_min_bitrate_kbps=_0.bitrate_table[u.version][A.VBR_min_bitrate],u.VBR_max_bitrate_kbps=_0.bitrate_table[u.version][A.VBR_max_bitrate],u.VBR_mean_bitrate_kbps=Math.min(_0.bitrate_table[u.version][A.VBR_max_bitrate],u.VBR_mean_bitrate_kbps),u.VBR_mean_bitrate_kbps=Math.max(_0.bitrate_table[u.version][A.VBR_min_bitrate],u.VBR_mean_bitrate_kbps)}return u.tune&&(A.PSY.mask_adjust+=u.tune_value_a,A.PSY.mask_adjust_short+=u.tune_value_a),d(u),k0(u.scale>=0),u.athaa_type<0?A.ATH.useAdjust=3:A.ATH.useAdjust=u.athaa_type,A.ATH.aaSensitivityP=Math.pow(10,u.athaa_sensitivity/-10),u.short_blocks==null&&(u.short_blocks=zs.short_block_allowed),u.short_blocks==zs.short_block_allowed&&(u.mode==MPEGMode.JOINT_STEREO||u.mode==MPEGMode.STEREO)&&(u.short_blocks=zs.short_block_coupled),u.quant_comp<0&&(u.quant_comp=1),u.quant_comp_short<0&&(u.quant_comp_short=0),u.msfix<0&&(u.msfix=0),u.exp_nspsytune=u.exp_nspsytune|1,u.internal_flags.nsPsy.attackthre<0&&(u.internal_flags.nsPsy.attackthre=Zs.NSATTACKTHRE),u.internal_flags.nsPsy.attackthre_s<0&&(u.internal_flags.nsPsy.attackthre_s=Zs.NSATTACKTHRE_S),k0(u.scale>=0),u.scale<0&&(u.scale=1),u.ATHtype<0&&(u.ATHtype=4),u.ATHcurve<0&&(u.ATHcurve=4),u.athaa_loudapprox<0&&(u.athaa_loudapprox=2),u.interChRatio<0&&(u.interChRatio=0),u.useTemporal==null&&(u.useTemporal=!0),A.slot_lag=A.frac_SpF=0,u.VBR==Ke.vbr_off&&(A.slot_lag=A.frac_SpF=(u.version+1)*72e3*u.brate%u.out_samplerate|0),f.iteration_init(u),S.psymodel_init(u),k0(u.scale>=0),0};function c(u,A){(u.in_buffer_0==null||u.in_buffer_nsamples<A)&&(u.in_buffer_0=fn(A),u.in_buffer_1=fn(A),u.in_buffer_nsamples=A)}this.lame_encode_flush=function(u,A,G,j){var me=u.internal_flags,ye=Lf([2,1152]),pe=0,U,ce,te,ee,Be=me.mf_samples_to_encode-ot.POSTDELAY,P=y(u);if(me.mf_samples_to_encode<1)return 0;for(U=0,u.in_samplerate!=u.out_samplerate&&(Be+=16*u.out_samplerate/u.in_samplerate),te=u.framesize-Be%u.framesize,te<576&&(te+=u.framesize),u.encoder_padding=te,ee=(Be+te)/u.framesize;ee>0&&pe>=0;){var F=P-me.mf_size,K=u.frameNum;F*=u.in_samplerate,F/=u.out_samplerate,F>1152&&(F=1152),F<1&&(F=1),ce=j-U,j==0&&(ce=0),pe=this.lame_encode_buffer(u,ye[0],ye[1],F,A,G,ce),G+=pe,U+=pe,ee-=K!=u.frameNum?1:0}if(me.mf_samples_to_encode=0,pe<0||(ce=j-U,j==0&&(ce=0),a.flush_bitstream(u),pe=a.copy_buffer(me,A,G,ce,1),pe<0))return pe;if(G+=pe,U+=pe,ce=j-U,j==0&&(ce=0),u.write_id3tag_automatic){if(E.id3tag_write_v1(u),pe=a.copy_buffer(me,A,G,ce,0),pe<0)return pe;U+=pe}return U},this.lame_encode_buffer=function(u,A,G,j,me,ye,pe){var U=u.internal_flags,ce=[null,null];if(U.Class_ID!=Y)return-3;if(j==0)return 0;c(U,j),ce[0]=U.in_buffer_0,ce[1]=U.in_buffer_1;for(var te=0;te<j;te++)ce[0][te]=A[te],U.channels_in>1&&(ce[1][te]=G[te]);return i(u,ce[0],ce[1],j,me,ye,pe)};function y(u){var A=ot.BLKSIZE+u.framesize-ot.FFTOFFSET;return A=Math.max(A,512+u.framesize-32),A}function i(u,A,G,j,me,ye,pe){var U=u.internal_flags,ce=0,te,ee,Be,P,F,K=[null,null],ne=[null,null];if(U.Class_ID!=Y)return-3;if(j==0)return 0;if(F=a.copy_buffer(U,me,ye,pe,0),F<0)return F;if(ye+=F,ce+=F,ne[0]=A,ne[1]=G,_n.NEQ(u.scale,0)&&_n.NEQ(u.scale,1))for(ee=0;ee<j;++ee)ne[0][ee]*=u.scale,U.channels_out==2&&(ne[1][ee]*=u.scale);if(_n.NEQ(u.scale_left,0)&&_n.NEQ(u.scale_left,1))for(ee=0;ee<j;++ee)ne[0][ee]*=u.scale_left;if(_n.NEQ(u.scale_right,0)&&_n.NEQ(u.scale_right,1))for(ee=0;ee<j;++ee)ne[1][ee]*=u.scale_right;if(u.num_channels==2&&U.channels_out==1)for(ee=0;ee<j;++ee)ne[0][ee]=.5*(ne[0][ee]+ne[1][ee]),ne[1][ee]=0;P=y(u),K[0]=U.mfbuf[0],K[1]=U.mfbuf[1];for(var le=0;j>0;){var oe=[null,null],Re=0,Se=0;oe[0]=ne[0],oe[1]=ne[1];var be=new v;if(X(u,K,oe,le,j,be),Re=be.n_in,Se=be.n_out,U.findReplayGain&&!U.decode_on_the_fly&&r.AnalyzeSamples(U.rgdata,K[0],U.mf_size,K[1],U.mf_size,Se,U.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6;if(j-=Re,le+=Re,U.channels_out==2,U.mf_size+=Se,k0(U.mf_size<=Hr.MFSIZE),U.mf_samples_to_encode<1&&(U.mf_samples_to_encode=ot.ENCDELAY+ot.POSTDELAY),U.mf_samples_to_encode+=Se,U.mf_size>=P){var ve=pe-ce;if(pe==0&&(ve=0),te=h(u,K[0],K[1],me,ye,ve),te<0)return te;for(ye+=te,ce+=te,U.mf_size-=u.framesize,U.mf_samples_to_encode-=u.framesize,Be=0;Be<U.channels_out;Be++)for(ee=0;ee<U.mf_size;ee++)K[Be][ee]=K[Be][ee+u.framesize]}}return ce}function h(u,A,G,j,me,ye){var pe=e.enc.lame_encode_mp3_frame(u,A,G,j,me,ye);return u.frameNum++,pe}function v(){this.n_in=0,this.n_out=0}function x(){this.num_used=0}function C(u,A){return A!=0?C(A,u%A):u}function q(u,A,G){var j=Math.PI*A;u/=G,u<0&&(u=0),u>1&&(u=1);var me=u-.5,ye=.42-.5*Math.cos(2*u*Math.PI)+.08*Math.cos(4*u*Math.PI);return Math.abs(me)<1e-9?j/Math.PI:ye*Math.sin(G*j*me)/(Math.PI*G*me)}function H(u,A,G,j,me,ye,pe,U,ce){var te=u.internal_flags,ee,Be=0,P,F=u.out_samplerate/C(u.out_samplerate,u.in_samplerate);F>Hr.BPC&&(F=Hr.BPC);var K=Math.abs(te.resample_ratio-Math.floor(.5+te.resample_ratio))<1e-4?1:0,ne=1/te.resample_ratio;ne>1&&(ne=1);var le=31;le%2==0&&--le,le+=K;var oe=le+1;if(te.fill_buffer_resample_init==0){for(te.inbuf_old[0]=fn(oe),te.inbuf_old[1]=fn(oe),ee=0;ee<=2*F;++ee)te.blackfilt[ee]=fn(oe);for(te.itime[0]=0,te.itime[1]=0,Be=0;Be<=2*F;Be++){var Re=0,Se=(Be-F)/(2*F);for(ee=0;ee<=le;ee++)Re+=te.blackfilt[Be][ee]=q(ee-Se,ne,le);for(ee=0;ee<=le;ee++)te.blackfilt[Be][ee]/=Re}te.fill_buffer_resample_init=1}var be=te.inbuf_old[ce];for(P=0;P<j;P++){var ve,ge;if(ve=P*te.resample_ratio,Be=0|Math.floor(ve-te.itime[ce]),le+Be-le/2>=pe)break;var Se=ve-te.itime[ce]-(Be+.5*(le%2));ge=0|Math.floor(Se*2*F+F+.5);var Ee=0;for(ee=0;ee<=le;++ee){var Te=0|ee+Be-le/2,Oe;Oe=Te<0?be[oe+Te]:me[ye+Te],Ee+=Oe*te.blackfilt[ge][ee]}A[G+P]=Ee}if(U.num_used=Math.min(pe,le+Be-le/2),te.itime[ce]+=U.num_used-P*te.resample_ratio,U.num_used>=oe)for(ee=0;ee<oe;ee++)be[ee]=me[ye+U.num_used+ee-oe];else{var Ve=oe-U.num_used;for(ee=0;ee<Ve;++ee)be[ee]=be[ee+U.num_used];for(Be=0;ee<oe;++ee,++Be)be[ee]=me[ye+Be];k0(Be==U.num_used)}return P}function X(u,A,G,j,me,ye){var pe=u.internal_flags;if(pe.resample_ratio<.9999||pe.resample_ratio>1.0001)for(var U=0;U<pe.channels_out;U++){var ce=new x;ye.n_out=H(u,A[U],pe.mf_size,u.framesize,G[U],j,me,ce,U),ye.n_in=ce.num_used}else{ye.n_out=Math.min(u.framesize,me),ye.n_in=ye.n_out;for(var te=0;te<ye.n_out;++te)A[0][pe.mf_size+te]=G[0][j+te],pe.channels_out==2&&(A[1][pe.mf_size+te]=G[1][j+te])}}}var Vf=vt,Ff=rt,h0=Ff.VbrMode;function Pf(){function e(R,E,_,N,g,O,Y,k,w,l,s,B,b,T,M){this.vbr_q=R,this.quant_comp=E,this.quant_comp_s=_,this.expY=N,this.st_lrm=g,this.st_s=O,this.masking_adj=Y,this.masking_adj_short=k,this.ath_lower=w,this.ath_curve=l,this.ath_sensitivity=s,this.interch=B,this.safejoint=b,this.sfb21mod=T,this.msfix=M}function t(R,E,_,N,g,O,Y,k,w,l,s,B,b,T){this.quant_comp=E,this.quant_comp_s=_,this.safejoint=N,this.nsmsfix=g,this.st_lrm=O,this.st_s=Y,this.nsbass=k,this.scale=w,this.masking_adj=l,this.ath_lower=s,this.ath_curve=B,this.interch=b,this.sfscale=T}var n;this.setModules=function(R){n=R};var r=[new e(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new e(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new e(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new e(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new e(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new e(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new e(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new e(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new e(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new e(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new e(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],a=[new e(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new e(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new e(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new e(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new e(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new e(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new e(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new e(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new e(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new e(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new e(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function o(R,E,_){var N=R.VBR==h0.vbr_rh?r:a,g=R.VBR_q_frac,O=N[E],Y=N[E+1],k=O;O.st_lrm=O.st_lrm+g*(Y.st_lrm-O.st_lrm),O.st_s=O.st_s+g*(Y.st_s-O.st_s),O.masking_adj=O.masking_adj+g*(Y.masking_adj-O.masking_adj),O.masking_adj_short=O.masking_adj_short+g*(Y.masking_adj_short-O.masking_adj_short),O.ath_lower=O.ath_lower+g*(Y.ath_lower-O.ath_lower),O.ath_curve=O.ath_curve+g*(Y.ath_curve-O.ath_curve),O.ath_sensitivity=O.ath_sensitivity+g*(Y.ath_sensitivity-O.ath_sensitivity),O.interch=O.interch+g*(Y.interch-O.interch),O.msfix=O.msfix+g*(Y.msfix-O.msfix),S(R,k.vbr_q),_!=0?R.quant_comp=k.quant_comp:Math.abs(R.quant_comp- -1)>0||(R.quant_comp=k.quant_comp),_!=0?R.quant_comp_short=k.quant_comp_s:Math.abs(R.quant_comp_short- -1)>0||(R.quant_comp_short=k.quant_comp_s),k.expY!=0&&(R.experimentalY=k.expY!=0),_!=0?R.internal_flags.nsPsy.attackthre=k.st_lrm:Math.abs(R.internal_flags.nsPsy.attackthre- -1)>0||(R.internal_flags.nsPsy.attackthre=k.st_lrm),_!=0?R.internal_flags.nsPsy.attackthre_s=k.st_s:Math.abs(R.internal_flags.nsPsy.attackthre_s- -1)>0||(R.internal_flags.nsPsy.attackthre_s=k.st_s),_!=0?R.maskingadjust=k.masking_adj:Math.abs(R.maskingadjust-0)>0||(R.maskingadjust=k.masking_adj),_!=0?R.maskingadjust_short=k.masking_adj_short:Math.abs(R.maskingadjust_short-0)>0||(R.maskingadjust_short=k.masking_adj_short),_!=0?R.ATHlower=-k.ath_lower/10:Math.abs(-R.ATHlower*10-0)>0||(R.ATHlower=-k.ath_lower/10),_!=0?R.ATHcurve=k.ath_curve:Math.abs(R.ATHcurve- -1)>0||(R.ATHcurve=k.ath_curve),_!=0?R.athaa_sensitivity=k.ath_sensitivity:Math.abs(R.athaa_sensitivity- -1)>0||(R.athaa_sensitivity=k.ath_sensitivity),k.interch>0&&(_!=0?R.interChRatio=k.interch:Math.abs(R.interChRatio- -1)>0||(R.interChRatio=k.interch)),k.safejoint>0&&(R.exp_nspsytune=R.exp_nspsytune|k.safejoint),k.sfb21mod>0&&(R.exp_nspsytune=R.exp_nspsytune|k.sfb21mod<<20),_!=0?R.msfix=k.msfix:Math.abs(R.msfix- -1)>0||(R.msfix=k.msfix),_==0&&(R.VBR_q=E,R.VBR_q_frac=g)}var f=[new t(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new t(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new t(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new t(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new t(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new t(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new t(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new t(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new t(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new t(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new t(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new t(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new t(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new t(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new t(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new t(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new t(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function m(R,E,_){var N=E,g=n.nearestBitrateFullIndex(E);if(R.VBR=h0.vbr_abr,R.VBR_mean_bitrate_kbps=N,R.VBR_mean_bitrate_kbps=Math.min(R.VBR_mean_bitrate_kbps,320),R.VBR_mean_bitrate_kbps=Math.max(R.VBR_mean_bitrate_kbps,8),R.brate=R.VBR_mean_bitrate_kbps,R.VBR_mean_bitrate_kbps>320&&(R.disable_reservoir=!0),f[g].safejoint>0&&(R.exp_nspsytune=R.exp_nspsytune|2),f[g].sfscale>0&&(R.internal_flags.noise_shaping=2),Math.abs(f[g].nsbass)>0){var O=int(f[g].nsbass*4);O<0&&(O+=64),R.exp_nspsytune=R.exp_nspsytune|O<<2}return _!=0?R.quant_comp=f[g].quant_comp:Math.abs(R.quant_comp- -1)>0||(R.quant_comp=f[g].quant_comp),_!=0?R.quant_comp_short=f[g].quant_comp_s:Math.abs(R.quant_comp_short- -1)>0||(R.quant_comp_short=f[g].quant_comp_s),_!=0?R.msfix=f[g].nsmsfix:Math.abs(R.msfix- -1)>0||(R.msfix=f[g].nsmsfix),_!=0?R.internal_flags.nsPsy.attackthre=f[g].st_lrm:Math.abs(R.internal_flags.nsPsy.attackthre- -1)>0||(R.internal_flags.nsPsy.attackthre=f[g].st_lrm),_!=0?R.internal_flags.nsPsy.attackthre_s=f[g].st_s:Math.abs(R.internal_flags.nsPsy.attackthre_s- -1)>0||(R.internal_flags.nsPsy.attackthre_s=f[g].st_s),_!=0?R.scale=f[g].scale:Math.abs(R.scale- -1)>0||(R.scale=f[g].scale),_!=0?R.maskingadjust=f[g].masking_adj:Math.abs(R.maskingadjust-0)>0||(R.maskingadjust=f[g].masking_adj),f[g].masking_adj>0?_!=0?R.maskingadjust_short=f[g].masking_adj*.9:Math.abs(R.maskingadjust_short-0)>0||(R.maskingadjust_short=f[g].masking_adj*.9):_!=0?R.maskingadjust_short=f[g].masking_adj*1.1:Math.abs(R.maskingadjust_short-0)>0||(R.maskingadjust_short=f[g].masking_adj*1.1),_!=0?R.ATHlower=-f[g].ath_lower/10:Math.abs(-R.ATHlower*10-0)>0||(R.ATHlower=-f[g].ath_lower/10),_!=0?R.ATHcurve=f[g].ath_curve:Math.abs(R.ATHcurve- -1)>0||(R.ATHcurve=f[g].ath_curve),_!=0?R.interChRatio=f[g].interch:Math.abs(R.interChRatio- -1)>0||(R.interChRatio=f[g].interch),E}this.apply_preset=function(R,E,_){switch(E){case Lame.R3MIX:{E=Lame.V3,R.VBR=h0.vbr_mtrh;break}case Lame.MEDIUM:{E=Lame.V4,R.VBR=h0.vbr_rh;break}case Lame.MEDIUM_FAST:{E=Lame.V4,R.VBR=h0.vbr_mtrh;break}case Lame.STANDARD:{E=Lame.V2,R.VBR=h0.vbr_rh;break}case Lame.STANDARD_FAST:{E=Lame.V2,R.VBR=h0.vbr_mtrh;break}case Lame.EXTREME:{E=Lame.V0,R.VBR=h0.vbr_rh;break}case Lame.EXTREME_FAST:{E=Lame.V0,R.VBR=h0.vbr_mtrh;break}case Lame.INSANE:return E=320,R.preset=E,m(R,E,_),R.VBR=h0.vbr_off,E}switch(R.preset=E,E){case Lame.V9:return o(R,9,_),E;case Lame.V8:return o(R,8,_),E;case Lame.V7:return o(R,7,_),E;case Lame.V6:return o(R,6,_),E;case Lame.V5:return o(R,5,_),E;case Lame.V4:return o(R,4,_),E;case Lame.V3:return o(R,3,_),E;case Lame.V2:return o(R,2,_),E;case Lame.V1:return o(R,1,_),E;case Lame.V0:return o(R,0,_),E}return 8<=E&&E<=320?m(R,E,_):(R.preset=0,E)};function S(R,E){var _=0;return 0>E&&(_=-1,E=0),9<E&&(_=-1,E=9),R.VBR_q=E,R.VBR_q_frac=0,_}}var $f=Pf;function Df(){this.setModules=function(e,t){}}var Xf=Df;function qf(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}var Gf=qf,Sl=rt,a1=Sl.new_float,Yf=Sl.new_int;function Uf(){this.global_gain=0,this.sfb_count1=0,this.step=Yf(39),this.noise=a1(39),this.noise_log=a1(39)}var jf=Uf,Vn=rt,V0=Vn.System,i1=Vn.VbrMode,Qs=Vn.Util,En=Vn.Arrays,jn=Vn.new_float,Kn=Vn.assert,Kf=Xf,Js=Gf,Wf=jf,Ge=gt(),o1=qa,l1=ms;function zf(){var e;this.rv=null;var t;this.qupvt=null;var n,r=new Kf,a;this.setModules=function(w,l,s,B){e=w,t=l,this.rv=l,n=s,this.qupvt=s,a=B,r.setModules(n,a)},this.ms_convert=function(w,l){for(var s=0;s<576;++s){var B=w.tt[l][0].xr[s],b=w.tt[l][1].xr[s];w.tt[l][0].xr[s]=(B+b)*(Qs.SQRT2*.5),w.tt[l][1].xr[s]=(B-b)*(Qs.SQRT2*.5)}};function o(w,l,s,B){B=0;for(var b=0;b<=s;++b){var T=Math.abs(w.xr[b]);B+=T,l[b]=Math.sqrt(T*Math.sqrt(T)),l[b]>w.xrpow_max&&(w.xrpow_max=l[b])}return B}this.init_xrpow=function(w,l,s){var B=0,b=0|l.max_nonzero_coeff;if(l.xrpow_max=0,En.fill(s,b,576,0),B=o(l,s,b,B),B>1e-20){var T=0;w.substep_shaping&2&&(T=1);for(var M=0;M<l.psymax;M++)w.pseudohalf[M]=T;return!0}return En.fill(l.l3_enc,0,576,0),!1};function f(w,l){var s=w.ATH,B=l.xr;if(l.block_type!=Ge.SHORT_TYPE)for(var b=!1,T=Ge.PSFB21-1;T>=0&&!b;T--){var M=w.scalefac_band.psfb21[T],d=w.scalefac_band.psfb21[T+1],p=n.athAdjust(s.adjust,s.psfb21[T],s.floor);w.nsPsy.longfact[21]>1e-12&&(p*=w.nsPsy.longfact[21]);for(var c=d-1;c>=M;c--)if(Math.abs(B[c])<p)B[c]=0;else{b=!0;break}}else for(var y=0;y<3;y++)for(var b=!1,T=Ge.PSFB12-1;T>=0&&!b;T--){var M=w.scalefac_band.s[12]*3+(w.scalefac_band.s[13]-w.scalefac_band.s[12])*y+(w.scalefac_band.psfb12[T]-w.scalefac_band.psfb12[0]),d=M+(w.scalefac_band.psfb12[T+1]-w.scalefac_band.psfb12[T]),i=n.athAdjust(s.adjust,s.psfb12[T],s.floor);w.nsPsy.shortfact[12]>1e-12&&(i*=w.nsPsy.shortfact[12]);for(var c=d-1;c>=M;c--)if(Math.abs(B[c])<i)B[c]=0;else{b=!0;break}}}this.init_outer_loop=function(w,l){l.part2_3_length=0,l.big_values=0,l.count1=0,l.global_gain=210,l.scalefac_compress=0,l.table_select[0]=0,l.table_select[1]=0,l.table_select[2]=0,l.subblock_gain[0]=0,l.subblock_gain[1]=0,l.subblock_gain[2]=0,l.subblock_gain[3]=0,l.region0_count=0,l.region1_count=0,l.preflag=0,l.scalefac_scale=0,l.count1table_select=0,l.part2_length=0,l.sfb_lmax=Ge.SBPSY_l,l.sfb_smin=Ge.SBPSY_s,l.psy_lmax=w.sfb21_extra?Ge.SBMAX_l:Ge.SBPSY_l,l.psymax=l.psy_lmax,l.sfbmax=l.sfb_lmax,l.sfbdivide=11;for(var s=0;s<Ge.SBMAX_l;s++)l.width[s]=w.scalefac_band.l[s+1]-w.scalefac_band.l[s],l.window[s]=3;if(l.block_type==Ge.SHORT_TYPE){var B=jn(576);l.sfb_smin=0,l.sfb_lmax=0,l.mixed_block_flag!=0&&(l.sfb_smin=3,l.sfb_lmax=w.mode_gr*2+4),l.psymax=l.sfb_lmax+3*((w.sfb21_extra?Ge.SBMAX_s:Ge.SBPSY_s)-l.sfb_smin),l.sfbmax=l.sfb_lmax+3*(Ge.SBPSY_s-l.sfb_smin),l.sfbdivide=l.sfbmax-18,l.psy_lmax=l.sfb_lmax;var b=w.scalefac_band.l[l.sfb_lmax];V0.arraycopy(l.xr,0,B,0,576);for(var s=l.sfb_smin;s<Ge.SBMAX_s;s++)for(var T=w.scalefac_band.s[s],M=w.scalefac_band.s[s+1],d=0;d<3;d++)for(var p=T;p<M;p++)l.xr[b++]=B[3*p+d];for(var c=l.sfb_lmax,s=l.sfb_smin;s<Ge.SBMAX_s;s++)l.width[c]=l.width[c+1]=l.width[c+2]=w.scalefac_band.s[s+1]-w.scalefac_band.s[s],l.window[c]=0,l.window[c+1]=1,l.window[c+2]=2,c+=3}l.count1bits=0,l.sfb_partition_table=n.nr_of_sfb_block[0][0],l.slen[0]=0,l.slen[1]=0,l.slen[2]=0,l.slen[3]=0,l.max_nonzero_coeff=575,En.fill(l.scalefac,0),f(w,l)};function m(w){this.ordinal=w}m.BINSEARCH_NONE=new m(0),m.BINSEARCH_UP=new m(1),m.BINSEARCH_DOWN=new m(2);function S(w,l,s,B,b){var T,M=w.CurrentStep[B],d=!1,p=w.OldValue[B],c=m.BINSEARCH_NONE;for(l.global_gain=p,s-=l.part2_length;;){var y;if(T=a.count_bits(w,b,l,null),M==1||T==s)break;T>s?(c==m.BINSEARCH_DOWN&&(d=!0),d&&(M/=2),c=m.BINSEARCH_UP,y=M):(c==m.BINSEARCH_UP&&(d=!0),d&&(M/=2),c=m.BINSEARCH_DOWN,y=-M),l.global_gain+=y,l.global_gain<0&&(l.global_gain=0,d=!0),l.global_gain>255&&(l.global_gain=255,d=!0)}for(Kn(l.global_gain>=0),Kn(l.global_gain<256);T>s&&l.global_gain<255;)l.global_gain++,T=a.count_bits(w,b,l,null);return w.CurrentStep[B]=p-l.global_gain>=4?4:2,w.OldValue[B]=l.global_gain,l.part2_3_length=T,T}this.trancate_smallspectrums=function(w,l,s,B){var b=jn(l1.SFBMAX);if(!(!(w.substep_shaping&4)&&l.block_type==Ge.SHORT_TYPE||w.substep_shaping&128)){n.calc_noise(l,s,b,new Js,null);for(var M=0;M<576;M++){var T=0;l.l3_enc[M]!=0&&(T=Math.abs(l.xr[M])),B[M]=T}var M=0,d=8;l.block_type==Ge.SHORT_TYPE&&(d=6);do{var p,c,y,i,h=l.width[d];if(M+=h,!(b[d]>=1)&&(En.sort(B,M-h,h),!BitStream.EQ(B[M-1],0))){p=(1-b[d])*s[d],c=0,i=0;do{var v;for(y=1;i+y<h&&!BitStream.NEQ(B[i+M-h],B[i+M+y-h]);y++);if(v=B[i+M-h]*B[i+M-h]*y,p<v){i!=0&&(c=B[i+M-h-1]);break}p-=v,i+=y}while(i<h);if(!BitStream.EQ(c,0))do Math.abs(l.xr[M-h])<=c&&(l.l3_enc[M-h]=0);while(--h>0)}}while(++d<l.psymax);l.part2_3_length=a.noquant_count_bits(w,l,null)}};function R(w){for(var l=0;l<w.sfbmax;l++)if(w.scalefac[l]+w.subblock_gain[w.window[l]]==0)return!1;return!0}function E(w){return Qs.FAST_LOG10(.368+.632*w*w*w)}function _(w,l){for(var s=1e-37,B=0;B<l.psymax;B++)s+=E(w[B]);return Math.max(1e-20,s)}function N(w,l,s,B,b){var T;switch(w){default:case 9:{l.over_count>0?(T=s.over_SSD<=l.over_SSD,s.over_SSD==l.over_SSD&&(T=s.bits<l.bits)):T=s.max_noise<0&&s.max_noise*10+s.bits<=l.max_noise*10+l.bits;break}case 0:T=s.over_count<l.over_count||s.over_count==l.over_count&&s.over_noise<l.over_noise||s.over_count==l.over_count&&BitStream.EQ(s.over_noise,l.over_noise)&&s.tot_noise<l.tot_noise;break;case 8:s.max_noise=_(b,B);case 1:T=s.max_noise<l.max_noise;break;case 2:T=s.tot_noise<l.tot_noise;break;case 3:T=s.tot_noise<l.tot_noise&&s.max_noise<l.max_noise;break;case 4:T=s.max_noise<=0&&l.max_noise>.2||s.max_noise<=0&&l.max_noise<0&&l.max_noise>s.max_noise-.2&&s.tot_noise<l.tot_noise||s.max_noise<=0&&l.max_noise>0&&l.max_noise>s.max_noise-.2&&s.tot_noise<l.tot_noise+l.over_noise||s.max_noise>0&&l.max_noise>-.05&&l.max_noise>s.max_noise-.1&&s.tot_noise+s.over_noise<l.tot_noise+l.over_noise||s.max_noise>0&&l.max_noise>-.1&&l.max_noise>s.max_noise-.15&&s.tot_noise+s.over_noise+s.over_noise<l.tot_noise+l.over_noise+l.over_noise;break;case 5:T=s.over_noise<l.over_noise||BitStream.EQ(s.over_noise,l.over_noise)&&s.tot_noise<l.tot_noise;break;case 6:T=s.over_noise<l.over_noise||BitStream.EQ(s.over_noise,l.over_noise)&&(s.max_noise<l.max_noise||BitStream.EQ(s.max_noise,l.max_noise)&&s.tot_noise<=l.tot_noise);break;case 7:T=s.over_count<l.over_count||s.over_noise<l.over_noise;break}return l.over_count==0&&(T=T&&s.bits<l.bits),T}function g(w,l,s,B,b){var T=w.internal_flags,M;l.scalefac_scale==0?M=1.2968395546510096:M=1.6817928305074292;for(var d=0,p=0;p<l.sfbmax;p++)d<s[p]&&(d=s[p]);var c=T.noise_shaping_amp;switch(c==3&&(b?c=2:c=1),c){case 2:break;case 1:d>1?d=Math.pow(d,.5):d*=.95;break;case 0:default:d>1?d=1:d*=.95;break}for(var y=0,p=0;p<l.sfbmax;p++){var i=l.width[p],h;if(y+=i,!(s[p]<d)){if(T.substep_shaping&2&&(T.pseudohalf[p]=T.pseudohalf[p]==0?1:0,T.pseudohalf[p]==0&&T.noise_shaping_amp==2))return;for(l.scalefac[p]++,h=-i;h<0;h++)B[y+h]*=M,B[y+h]>l.xrpow_max&&(l.xrpow_max=B[y+h]);if(T.noise_shaping_amp==2)return}}}function O(w,l){for(var s=1.2968395546510096,B=0,b=0;b<w.sfbmax;b++){var T=w.width[b],M=w.scalefac[b];if(w.preflag!=0&&(M+=n.pretab[b]),B+=T,M&1){M++;for(var d=-T;d<0;d++)l[B+d]*=s,l[B+d]>w.xrpow_max&&(w.xrpow_max=l[B+d])}w.scalefac[b]=M>>1}w.preflag=0,w.scalefac_scale=1}function Y(w,l,s){var B,b=l.scalefac;for(B=0;B<l.sfb_lmax;B++)if(b[B]>=16)return!0;for(var T=0;T<3;T++){var M=0,d=0;for(B=l.sfb_lmax+T;B<l.sfbdivide;B+=3)M<b[B]&&(M=b[B]);for(;B<l.sfbmax;B+=3)d<b[B]&&(d=b[B]);if(!(M<16&&d<8)){if(l.subblock_gain[T]>=7)return!0;l.subblock_gain[T]++;var p=w.scalefac_band.l[l.sfb_lmax];for(B=l.sfb_lmax+T;B<l.sfbmax;B+=3){var c,y=l.width[B],i=b[B];if(i=i-(4>>l.scalefac_scale),i>=0){b[B]=i,p+=y*3;continue}b[B]=0;{var h=210+(i<<l.scalefac_scale+1);c=n.IPOW20(h)}p+=y*(T+1);for(var v=-y;v<0;v++)s[p+v]*=c,s[p+v]>l.xrpow_max&&(l.xrpow_max=s[p+v]);p+=y*(3-T-1)}{var c=n.IPOW20(202);p+=l.width[B]*(T+1);for(var v=-l.width[B];v<0;v++)s[p+v]*=c,s[p+v]>l.xrpow_max&&(l.xrpow_max=s[p+v])}}}return!1}function k(w,l,s,B,b){var T=w.internal_flags;g(w,l,s,B,b);var M=R(l);return M?!1:(T.mode_gr==2?M=a.scale_bitcount(l):M=a.scale_bitcount_lsf(T,l),M?(T.noise_shaping>1&&(En.fill(T.pseudohalf,0),l.scalefac_scale==0?(O(l,B),M=!1):l.block_type==Ge.SHORT_TYPE&&T.subblock_gain>0&&(M=Y(T,l,B)||R(l))),M||(T.mode_gr==2?M=a.scale_bitcount(l):M=a.scale_bitcount_lsf(T,l)),!M):!0)}this.outer_loop=function(w,l,s,B,b,T){var M=w.internal_flags,d=new o1,p=jn(576),c=jn(l1.SFBMAX),y=new Js,i,h=new Wf,v=9999999,x=!1,C=!1,q=0;if(S(M,l,T,b,B),M.noise_shaping==0)return 100;n.calc_noise(l,s,c,y,h),y.bits=l.part2_3_length,d.assign(l);var H=0;for(V0.arraycopy(B,0,p,0,576);!x;){do{var X=new Js,u,A=255;if(M.substep_shaping&2?u=20:u=3,M.sfb21_extra&&(c[d.sfbmax]>1||d.block_type==Ge.SHORT_TYPE&&(c[d.sfbmax+1]>1||c[d.sfbmax+2]>1))||!k(w,d,c,B,C))break;d.scalefac_scale!=0&&(A=254);var G=T-d.part2_length;if(G<=0)break;for(;(d.part2_3_length=a.count_bits(M,B,d,h))>G&&d.global_gain<=A;)d.global_gain++;if(d.global_gain>A)break;if(y.over_count==0){for(;(d.part2_3_length=a.count_bits(M,B,d,h))>v&&d.global_gain<=A;)d.global_gain++;if(d.global_gain>A)break}if(n.calc_noise(d,s,c,X,h),X.bits=d.part2_3_length,l.block_type!=Ge.SHORT_TYPE?i=w.quant_comp:i=w.quant_comp_short,i=N(i,y,X,d,c)?1:0,i!=0)v=l.part2_3_length,y=X,l.assign(d),H=0,V0.arraycopy(B,0,p,0,576);else if(M.full_outer_loop==0&&(++H>u&&y.over_count==0||M.noise_shaping_amp==3&&C&&H>30||M.noise_shaping_amp==3&&C&&d.global_gain-q>15))break}while(d.global_gain+d.scalefac_scale<255);M.noise_shaping_amp==3?C?x=!0:(d.assign(l),V0.arraycopy(p,0,B,0,576),H=0,q=d.global_gain,C=!0):x=!0}return Kn(l.global_gain+l.scalefac_scale<=255),w.VBR==i1.vbr_rh||w.VBR==i1.vbr_mtrh?V0.arraycopy(p,0,B,0,576):M.substep_shaping&1&&trancate_smallspectrums(M,l,s,B),y.over_count},this.iteration_finish_one=function(w,l,s){var B=w.l3_side,b=B.tt[l][s];a.best_scalefac_store(w,l,s,B),w.use_best_huffman==1&&a.best_huffman_divide(w,b),t.ResvAdjust(w,b)},this.VBR_encode_granule=function(w,l,s,B,b,T,M){var d=w.internal_flags,p=new o1,c=jn(576),y=M,i=M+1,h=(M+T)/2,v,x,C=0,q=d.sfb21_extra;Kn(y<=LameInternalFlags.MAX_BITS_PER_CHANNEL),En.fill(p.l3_enc,0);do h>y-42?d.sfb21_extra=!1:d.sfb21_extra=q,x=outer_loop(w,l,s,B,b,h),x<=0?(C=1,i=l.part2_3_length,p.assign(l),V0.arraycopy(B,0,c,0,576),M=i-32,v=M-T,h=(M+T)/2):(T=h+32,v=M-T,h=(M+T)/2,C!=0&&(C=2,l.assign(p),V0.arraycopy(c,0,B,0,576)));while(v>12);d.sfb21_extra=q,C==2&&V0.arraycopy(p.l3_enc,0,l.l3_enc,0,576),Kn(l.part2_3_length<=y)},this.get_framebits=function(w,l){var s=w.internal_flags;s.bitrate_index=s.VBR_min_bitrate;var B=e.getframebits(w);s.bitrate_index=1,B=e.getframebits(w);for(var b=1;b<=s.VBR_max_bitrate;b++){s.bitrate_index=b;var T=new MeanBits(B);l[b]=t.ResvFrameBegin(w,T),B=T.bits}},this.VBR_old_prepare=function(w,l,s,B,b,T,M,d,p){var c=w.internal_flags,y,i=0,h=1,v=0;c.bitrate_index=c.VBR_max_bitrate;var x=t.ResvFrameBegin(w,new MeanBits(0))/c.mode_gr;get_framebits(w,T);for(var C=0;C<c.mode_gr;C++){var q=n.on_pe(w,l,d[C],x,C,0);c.mode_ext==Ge.MPG_MD_MS_LR&&(ms_convert(c.l3_side,C),n.reduce_side(d[C],s[C],x,q));for(var H=0;H<c.channels_out;++H){var X=c.l3_side.tt[C][H];X.block_type!=Ge.SHORT_TYPE?(i=1.28/(1+Math.exp(3.5-l[C][H]/300))-.05,y=c.PSY.mask_adjust-i):(i=2.56/(1+Math.exp(3.5-l[C][H]/300))-.14,y=c.PSY.mask_adjust_short-i),c.masking_lower=Math.pow(10,y*.1),init_outer_loop(c,X),p[C][H]=n.calc_xmin(w,B[C][H],X,b[C][H]),p[C][H]!=0&&(h=0),M[C][H]=126,v+=d[C][H]}}for(var C=0;C<c.mode_gr;C++)for(var H=0;H<c.channels_out;H++)v>T[c.VBR_max_bitrate]&&(d[C][H]*=T[c.VBR_max_bitrate],d[C][H]/=v),M[C][H]>d[C][H]&&(M[C][H]=d[C][H]);return h},this.bitpressure_strategy=function(w,l,s,B){for(var b=0;b<w.mode_gr;b++)for(var T=0;T<w.channels_out;T++){for(var M=w.l3_side.tt[b][T],d=l[b][T],p=0,c=0;c<M.psy_lmax;c++)d[p++]*=1+.029*c*c/Ge.SBMAX_l/Ge.SBMAX_l;if(M.block_type==Ge.SHORT_TYPE)for(var c=M.sfb_smin;c<Ge.SBMAX_s;c++)d[p++]*=1+.029*c*c/Ge.SBMAX_s/Ge.SBMAX_s,d[p++]*=1+.029*c*c/Ge.SBMAX_s/Ge.SBMAX_s,d[p++]*=1+.029*c*c/Ge.SBMAX_s/Ge.SBMAX_s;B[b][T]=0|Math.max(s[b][T],.9*B[b][T])}},this.VBR_new_prepare=function(w,l,s,B,b,T){var M=w.internal_flags,d=1,p=0,c=0,y;if(w.free_format){M.bitrate_index=0;var i=new MeanBits(p);y=t.ResvFrameBegin(w,i),p=i.bits,b[0]=y}else{M.bitrate_index=M.VBR_max_bitrate;var i=new MeanBits(p);t.ResvFrameBegin(w,i),p=i.bits,get_framebits(w,b),y=b[M.VBR_max_bitrate]}for(var h=0;h<M.mode_gr;h++){n.on_pe(w,l,T[h],p,h,0),M.mode_ext==Ge.MPG_MD_MS_LR&&ms_convert(M.l3_side,h);for(var v=0;v<M.channels_out;++v){var x=M.l3_side.tt[h][v];M.masking_lower=Math.pow(10,M.PSY.mask_adjust*.1),init_outer_loop(M,x),n.calc_xmin(w,s[h][v],x,B[h][v])!=0&&(d=0),c+=T[h][v]}}for(var h=0;h<M.mode_gr;h++)for(var v=0;v<M.channels_out;v++)c>y&&(T[h][v]*=y,T[h][v]/=c);return d},this.calc_target_bits=function(w,l,s,B,b,T){var M=w.internal_flags,d=M.l3_side,p,c,y,i,h=0;M.bitrate_index=M.VBR_max_bitrate;var v=new MeanBits(h);for(T[0]=t.ResvFrameBegin(w,v),h=v.bits,M.bitrate_index=1,h=e.getframebits(w)-M.sideinfo_len*8,b[0]=h/(M.mode_gr*M.channels_out),h=w.VBR_mean_bitrate_kbps*w.framesize*1e3,M.substep_shaping&1&&(h*=1.09),h/=w.out_samplerate,h-=M.sideinfo_len*8,h/=M.mode_gr*M.channels_out,p=.93+.07*(11-w.compression_ratio)/(11-5.5),p<.9&&(p=.9),p>1&&(p=1),c=0;c<M.mode_gr;c++){var x=0;for(y=0;y<M.channels_out;y++){if(B[c][y]=int(p*h),l[c][y]>700){var C=int((l[c][y]-700)/1.4),q=d.tt[c][y];B[c][y]=int(p*h),q.block_type==Ge.SHORT_TYPE&&C<h/2&&(C=h/2),C>h*3/2?C=h*3/2:C<0&&(C=0),B[c][y]+=C}B[c][y]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(B[c][y]=LameInternalFlags.MAX_BITS_PER_CHANNEL),x+=B[c][y]}if(x>LameInternalFlags.MAX_BITS_PER_GRANULE)for(y=0;y<M.channels_out;++y)B[c][y]*=LameInternalFlags.MAX_BITS_PER_GRANULE,B[c][y]/=x}if(M.mode_ext==Ge.MPG_MD_MS_LR)for(c=0;c<M.mode_gr;c++)n.reduce_side(B[c],s[c],h*M.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(i=0,c=0;c<M.mode_gr;c++)for(y=0;y<M.channels_out;y++)B[c][y]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(B[c][y]=LameInternalFlags.MAX_BITS_PER_CHANNEL),i+=B[c][y];if(i>T[0])for(c=0;c<M.mode_gr;c++)for(y=0;y<M.channels_out;y++)B[c][y]*=T[0],B[c][y]/=i}}var Zf=zf,Qf=rt,c1=Qf.assert;function Jf(){var e;this.setModules=function(t){e=t},this.ResvFrameBegin=function(t,n){var r=t.internal_flags,a,o=r.l3_side,f=e.getframebits(t);n.bits=(f-r.sideinfo_len*8)/r.mode_gr;var m=8*256*r.mode_gr-8;t.brate>320?a=8*int(t.brate*1e3/(t.out_samplerate/1152)/8+.5):(a=8*1440,t.strict_ISO&&(a=8*int(32e4/(t.out_samplerate/1152)/8+.5))),r.ResvMax=a-f,r.ResvMax>m&&(r.ResvMax=m),(r.ResvMax<0||t.disable_reservoir)&&(r.ResvMax=0);var S=n.bits*r.mode_gr+Math.min(r.ResvSize,r.ResvMax);return S>a&&(S=a),c1(r.ResvMax%8==0),c1(r.ResvMax>=0),o.resvDrain_pre=0,r.pinfo!=null&&(r.pinfo.mean_bits=n.bits/2,r.pinfo.resvsize=r.ResvSize),S},this.ResvMaxBits=function(t,n,r,a){var o=t.internal_flags,f,m=o.ResvSize,S=o.ResvMax;a!=0&&(m+=n),o.substep_shaping&1&&(S*=.9),r.bits=n,m*10>S*9?(f=m-S*9/10,r.bits+=f,o.substep_shaping|=128):(f=0,o.substep_shaping&=127,!t.disable_reservoir&&!(o.substep_shaping&1)&&(r.bits-=.1*n));var R=m<o.ResvMax*6/10?m:o.ResvMax*6/10;return R-=f,R<0&&(R=0),R},this.ResvAdjust=function(t,n){t.ResvSize-=n.part2_3_length+n.part2_length},this.ResvFrameEnd=function(t,n){var r,a=t.l3_side;t.ResvSize+=n*t.mode_gr;var o=0;a.resvDrain_post=0,a.resvDrain_pre=0,(r=t.ResvSize%8)!=0&&(o+=r),r=t.ResvSize-o-t.ResvMax,r>0&&(o+=r);{var f=Math.min(a.main_data_begin*8,o)/8;a.resvDrain_pre+=8*f,o-=8*f,t.ResvSize-=8*f,a.main_data_begin-=f}a.resvDrain_post+=o,t.ResvSize-=o}}var e_=Jf;function t_(){var e="http://www.mp3dev.org/",t=3,n=98,r=4,a=0,o=93;this.getLameVersion=function(){return t+"."+n+"."+r},this.getLameShortVersion=function(){return t+"."+n+"."+r},this.getLameVeryShortVersion=function(){return"LAME"+t+"."+n+"r"},this.getPsyVersion=function(){return a+"."+o},this.getLameUrl=function(){return e},this.getLameOsBitness=function(){return"32bits"}}var n_=t_,Fn=rt,r_=Fn.System,ea=Fn.VbrMode,u1=Fn.ShortBlock,s_=Fn.Arrays,kr=Fn.new_byte,a_=Fn.assert;vr.NUMTOCENTRIES=100;vr.MAXFRAMESIZE=2880;function vr(){var e,t,n;this.setModules=function(h,v,x){e=h,t=v,n=x};var r=1,a=2,o=4,f=8,m=vr.NUMTOCENTRIES,S=vr.MAXFRAMESIZE,R=m+4+4+4+4+4,E=R+9+1+1+8+1+1+3+1+1+2+4+2+2,_=128,N=64,g=32,O=null,Y="Xing",k="Info",w=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function l(h,v){if(h.nVbrNumFrames++,h.sum+=v,h.seen++,!(h.seen<h.want)&&(h.pos<h.size&&(h.bag[h.pos]=h.sum,h.pos++,h.seen=0),h.pos==h.size)){for(var x=1;x<h.size;x+=2)h.bag[x/2]=h.bag[x];h.want*=2,h.pos/=2}}function s(h,v){if(!(h.pos<=0))for(var x=1;x<m;++x){var C=x/m,q,H,X=0|Math.floor(C*h.pos);X>h.pos-1&&(X=h.pos-1),q=h.bag[X],H=h.sum;var u=0|256*q/H;u>255&&(u=255),v[x]=255&u}}this.addVbrFrame=function(h){var v=h.internal_flags,x=Tables.bitrate_table[h.version][v.bitrate_index];a_(v.VBR_seek_table.bag!=null),l(v.VBR_seek_table,x)};function B(h,v){var x=h[v+0]&255;return x<<=8,x|=h[v+1]&255,x<<=8,x|=h[v+2]&255,x<<=8,x|=h[v+3]&255,x}function b(h,v,x){h[v+0]=255&(x>>24&255),h[v+1]=255&(x>>16&255),h[v+2]=255&(x>>8&255),h[v+3]=255&(x&255)}function T(h,v,x){h[v+0]=255&(x>>8&255),h[v+1]=255&(x&255)}function M(h,v){return new String(h,v,Y.length(),O).equals(Y)||new String(h,v,k.length(),O).equals(k)}function d(h,v,x){return 255&(h<<v|x&~(-1<<v))}function p(h,v){var x=h.internal_flags;v[0]=d(v[0],8,255),v[1]=d(v[1],3,7),v[1]=d(v[1],1,h.out_samplerate<16e3?0:1),v[1]=d(v[1],1,h.version),v[1]=d(v[1],2,1),v[1]=d(v[1],1,h.error_protection?0:1),v[2]=d(v[2],4,x.bitrate_index),v[2]=d(v[2],2,x.samplerate_index),v[2]=d(v[2],1,0),v[2]=d(v[2],1,h.extension),v[3]=d(v[3],2,h.mode.ordinal()),v[3]=d(v[3],2,x.mode_ext),v[3]=d(v[3],1,h.copyright),v[3]=d(v[3],1,h.original),v[3]=d(v[3],2,h.emphasis),v[0]=255;var C=255&(v[1]&241),q;h.version==1?q=_:h.out_samplerate<16e3?q=g:q=N,h.VBR==ea.vbr_off&&(q=h.brate);var H;h.free_format?H=0:H=255&16*e.BitrateIndex(q,h.version,h.out_samplerate),h.version==1?(v[1]=255&(C|10),C=255&(v[2]&13),v[2]=255&(H|C)):(v[1]=255&(C|2),C=255&(v[2]&13),v[2]=255&(H|C))}this.getVbrTag=function(h){var v=new VBRTagData,x=0;v.flags=0;var C=h[x+1]>>3&1,q=h[x+2]>>2&3,H=h[x+3]>>6&3,X=h[x+2]>>4&15;if(X=Tables.bitrate_table[C][X],h[x+1]>>4==14?v.samprate=Tables.samplerate_table[2][q]:v.samprate=Tables.samplerate_table[C][q],C!=0?H!=3?x+=36:x+=21:H!=3?x+=21:x+=13,!M(h,x))return null;x+=4,v.hId=C;var u=v.flags=B(h,x);if(x+=4,u&r&&(v.frames=B(h,x),x+=4),u&a&&(v.bytes=B(h,x),x+=4),u&o){if(v.toc!=null)for(var A=0;A<m;A++)v.toc[A]=h[x+A];x+=m}v.vbrScale=-1,u&f&&(v.vbrScale=B(h,x),x+=4),v.headersize=(C+1)*72e3*X/v.samprate,x+=21;var G=h[x+0]<<4;G+=h[x+1]>>4;var j=(h[x+1]&15)<<8;return j+=h[x+2]&255,(G<0||G>3e3)&&(G=-1),(j<0||j>3e3)&&(j=-1),v.encDelay=G,v.encPadding=j,v},this.InitVbrTag=function(h){var v=h.internal_flags,x;h.version==1?x=_:h.out_samplerate<16e3?x=g:x=N,h.VBR==ea.vbr_off&&(x=h.brate);var C=(h.version+1)*72e3*x/h.out_samplerate,q=v.sideinfo_len+E;if(v.VBR_seek_table.TotalFrameSize=C,C<q||C>S){h.bWriteVbrTag=!1;return}v.VBR_seek_table.nVbrNumFrames=0,v.VBR_seek_table.nBytesWritten=0,v.VBR_seek_table.sum=0,v.VBR_seek_table.seen=0,v.VBR_seek_table.want=1,v.VBR_seek_table.pos=0,v.VBR_seek_table.bag==null&&(v.VBR_seek_table.bag=new int[400],v.VBR_seek_table.size=400);var H=kr(S);p(h,H);for(var X=v.VBR_seek_table.TotalFrameSize,u=0;u<X;++u)t.add_dummy_byte(h,H[u]&255,1)};function c(h,v){var x=v^h;return v=v>>8^w[x&255],v}this.updateMusicCRC=function(h,v,x,C){for(var q=0;q<C;++q)h[0]=c(v[x+q],h[0])};function y(h,v,x,C,q){var H=h.internal_flags,X=0,u=h.encoder_delay,A=h.encoder_padding,G=100-10*h.VBR_q-h.quality,j=n.getLameVeryShortVersion(),me,ye=0,pe,U=[1,5,3,2,4,0,3],ce=0|(h.lowpassfreq/100+.5>255?255:h.lowpassfreq/100+.5),te=0,ee=0,Be=0,P=h.internal_flags.noise_shaping,F=0,K=0,ne=0,le=0,oe=0,Re=(h.exp_nspsytune&1)!=0,Se=(h.exp_nspsytune&2)!=0,be=!1,ve=!1,ge=h.internal_flags.nogap_total,Ee=h.internal_flags.nogap_current,Te=h.ATHtype,Oe=0,Ve;switch(h.VBR){case vbr_abr:Ve=h.VBR_mean_bitrate_kbps;break;case vbr_off:Ve=h.brate;break;default:Ve=h.VBR_min_bitrate_kbps}switch(h.VBR.ordinal()<U.length?me=U[h.VBR.ordinal()]:me=0,pe=16*ye+me,H.findReplayGain&&(H.RadioGain>510&&(H.RadioGain=510),H.RadioGain<-510&&(H.RadioGain=-510),ee=8192,ee|=3072,H.RadioGain>=0?ee|=H.RadioGain:(ee|=512,ee|=-H.RadioGain)),H.findPeakSample&&(te=Math.abs(0|H.PeakSample/32767*Math.pow(2,23)+.5)),ge!=-1&&(Ee>0&&(ve=!0),Ee<ge-1&&(be=!0)),Oe=Te+((Re?1:0)<<4)+((Se?1:0)<<5)+((be?1:0)<<6)+((ve?1:0)<<7),G<0&&(G=0),h.mode){case MONO:F=0;break;case STEREO:F=1;break;case DUAL_CHANNEL:F=2;break;case JOINT_STEREO:h.force_ms?F=4:F=3;break;case NOT_SET:default:F=7;break}h.in_samplerate<=32e3?ne=0:h.in_samplerate==48e3?ne=2:h.in_samplerate>48e3?ne=3:ne=1,(h.short_blocks==u1.short_block_forced||h.short_blocks==u1.short_block_dispensed||h.lowpassfreq==-1&&h.highpassfreq==-1||h.scale_left<h.scale_right||h.scale_left>h.scale_right||h.disable_reservoir&&h.brate<320||h.noATH||h.ATHonly||Te==0||h.in_samplerate<=32e3)&&(K=1),le=P+(F<<2)+(K<<5)+(ne<<6),oe=H.nMusicCRC,b(x,C+X,G),X+=4;for(var De=0;De<9;De++)x[C+X+De]=255&j.charAt(De);X+=9,x[C+X]=255&pe,X++,x[C+X]=255&ce,X++,b(x,C+X,te),X+=4,T(x,C+X,ee),X+=2,T(x,C+X,Be),X+=2,x[C+X]=255&Oe,X++,Ve>=255?x[C+X]=255:x[C+X]=255&Ve,X++,x[C+X]=255&u>>4,x[C+X+1]=255&(u<<4)+(A>>8),x[C+X+2]=255&A,X+=3,x[C+X]=255&le,X++,x[C+X++]=0,T(x,C+X,h.preset),X+=2,b(x,C+X,v),X+=4,T(x,C+X,oe),X+=2;for(var Xe=0;Xe<X;Xe++)q=c(x[C+Xe],q);return T(x,C+X,q),X+=2,X}function i(h){h.seek(0);var v=kr(10);h.readFully(v);var x;return new String(v,"ISO-8859-1").startsWith("ID3")?x=0:x=((v[6]&127)<<21|(v[7]&127)<<14|(v[8]&127)<<7|v[9]&127)+v.length,x}this.getLameTagFrame=function(h,v){var x=h.internal_flags;if(!h.bWriteVbrTag||x.Class_ID!=Lame.LAME_ID||x.VBR_seek_table.pos<=0)return 0;if(v.length<x.VBR_seek_table.TotalFrameSize)return x.VBR_seek_table.TotalFrameSize;s_.fill(v,0,x.VBR_seek_table.TotalFrameSize,0),p(h,v);var C=kr(m);if(h.free_format)for(var q=1;q<m;++q)C[q]=255&255*q/100;else s(x.VBR_seek_table,C);var H=x.sideinfo_len;h.error_protection&&(H-=2),h.VBR==ea.vbr_off?(v[H++]=255&k.charAt(0),v[H++]=255&k.charAt(1),v[H++]=255&k.charAt(2),v[H++]=255&k.charAt(3)):(v[H++]=255&Y.charAt(0),v[H++]=255&Y.charAt(1),v[H++]=255&Y.charAt(2),v[H++]=255&Y.charAt(3)),b(v,H,r+a+o+f),H+=4,b(v,H,x.VBR_seek_table.nVbrNumFrames),H+=4;var X=x.VBR_seek_table.nBytesWritten+x.VBR_seek_table.TotalFrameSize;b(v,H,0|X),H+=4,r_.arraycopy(C,0,v,H,C.length),H+=C.length,h.error_protection&&t.CRC_writeheader(x,v);for(var u=0,q=0;q<H;q++)u=c(v[q],u);return H+=y(h,X,v,H,u),x.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(h,v){var x=h.internal_flags;if(x.VBR_seek_table.pos<=0||(v.seek(v.length()),v.length()==0))return-1;var C=i(v);v.seek(C);var q=kr(S),H=getLameTagFrame(h,q);return H>q.length?-1:(H<1||v.write(q,0,H),0)}}var i_=vr,yl=rt,f1=yl.new_byte,o_=yl.assert,l_=Vf,c_=$f,u_=hl,f_=ml,__=Zf,h_=pl,d_=e_,v_=ol,m_=bl;gt();var p_=n_,b_=i_;function S_(){this.setModules=function(e,t){}}function y_(){this.setModules=function(e,t,n){}}function x_(){}function R_(){this.setModules=function(e,t){}}function A_(e,t,n){arguments.length!=3&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),e=1,t=44100,n=128);var r=new l_,a=new S_,o=new u_,f=new m_,m=new c_,S=new f_,R=new __,E=new b_,_=new p_,N=new R_,g=new d_,O=new h_,Y=new y_,k=new x_;r.setModules(o,f,m,S,R,E,_,N,k),f.setModules(o,k,_,E),N.setModules(f,_),m.setModules(r),R.setModules(f,g,S,O),S.setModules(O,g,r.enc.psy),g.setModules(f),O.setModules(S),E.setModules(r,f,_),a.setModules(Y,k),Y.setModules(_,N,m);var w=r.lame_init();w.num_channels=e,w.in_samplerate=t,w.brate=n,w.mode=v_.STEREO,w.quality=3,w.bWriteVbrTag=!1,w.disable_reservoir=!0,w.write_id3tag_automatic=!1,r.lame_init_params(w);var l=1152,s=0|1.25*l+7200,B=f1(s);this.encodeBuffer=function(b,T){e==1&&(T=b),o_(b.length==T.length),b.length>l&&(l=b.length,s=0|1.25*l+7200,B=f1(s));var M=r.lame_encode_buffer(w,b,T,b.length,B,0,s);return new Int8Array(B.subarray(0,M))},this.flush=function(){var b=r.lame_encode_flush(w,B,0,s);return new Int8Array(B.subarray(0,b))}}function s0(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function Ss(e){return e.charCodeAt(0)<<24|e.charCodeAt(1)<<16|e.charCodeAt(2)<<8|e.charCodeAt(3)}s0.RIFF=Ss("RIFF");s0.WAVE=Ss("WAVE");s0.fmt_=Ss("fmt ");s0.data=Ss("data");s0.readHeader=function(e){var t=new s0,n=e.getUint32(0,!1);if(s0.RIFF==n&&(e.getUint32(4,!0),s0.WAVE==e.getUint32(8,!1)&&s0.fmt_==e.getUint32(12,!1))){var r=e.getUint32(16,!0),a=20;switch(r){case 16:case 18:t.channels=e.getUint16(a+2,!0),t.sampleRate=e.getUint32(a+4,!0);break;default:throw"extended fmt chunk not implemented"}a+=r;for(var o=s0.data,f=0;o!=n&&(n=e.getUint32(a,!1),f=e.getUint32(a+4,!0),o!=n);)a+=f+8;return t.dataLen=f,t.dataOffset=a+8,t}};Xa.Mp3Encoder=A_;Xa.WavHeader=s0;const ja=(e,t)=>{const n=e.__vccOpts||e;for(const[r,a]of t)n[r]=a;return n},E_={class:"app"},M_={class:"app-main"},w_={class:"dialog-content"},T_={class:"form-group"},B_={class:"dialog-actions"},C_=["disabled"],g_={class:"bottom-navigation"},I_={__name:"App",setup(e){const t=Da(),n=new zo;Rt(!1);const r=Rt(null),a=Rt(!1),o=Rt(""),f=Rt(null),m=Rt(null);Rt(0);const S=Rt(null);cs(async()=>{await t.loadFromStorage()}),us(()=>{Y()});function R(){const k=S.value;if(k){const w=k.getContext("2d");w&&w.clearRect(0,0,k.width,k.height)}}async function E(){if(!(!f.value||!o.value.trim()))try{await _(o.value.trim())}catch(k){console.error(":",k)}}async function _(k){if(!f.value)return;const w={name:k,duration:t.recordingTime,size:f.value.size,audioUrl:f.value.url,audioBlob:f.value.blob};t.addRecording(w),console.log(":",w.name);try{await N(w)}catch(l){console.error(":",l)}g(),"Notification"in window&&Notification.permission==="granted"&&new Notification("",{body:` "${w.name}" `,icon:"icons/icon48.png"})}async function N(k){var B;const w=`${(k.name||"").replace(/[^\w\u4e00-\u9fa5\-_. ]+/g,"_")}.webm`,l=k.audioUrl;if(typeof chrome<"u"&&((B=chrome==null?void 0:chrome.downloads)!=null&&B.download))try{await chrome.downloads.download({url:l,filename:`recordings/${w}`,saveAs:!0});return}catch(b){console.warn("chrome.downloads.download  <a> :",b)}const s=document.createElement("a");s.href=l,s.download=w,document.body.appendChild(s),s.click(),setTimeout(()=>{document.body.removeChild(s)},0)}function g(){a.value=!1,o.value="",f.value=null}function O(){r.value&&(clearInterval(r.value),r.value=null)}function Y(){O(),n.cleanup(),R()}return(k,w)=>{const l=Dc("router-view");return At(),Tt("div",E_,[w[8]||(w[8]=w2('<header class="app-header" data-v-38924d53><div class="header-content" data-v-38924d53><div class="logo" data-v-38924d53><div class="logo-icon" data-v-38924d53></div><div class="logo-text" data-v-38924d53><h1 data-v-38924d53></h1><p data-v-38924d53>Voice Recorder</p></div></div></div></header>',1)),ue("main",M_,[Ut(q2,{name:"page-transition",mode:"out-in"},{default:uo(()=>[Ut(l)]),_:1}),a.value?(At(),Tt("div",{key:0,class:"save-dialog-overlay",onClick:g},[ue("div",{class:"save-dialog",onClick:w[1]||(w[1]=Yo(()=>{},["stop"]))},[ue("div",{class:"dialog-header"},[w[4]||(w[4]=ue("h3",null,"",-1)),ue("button",{onClick:g,class:"close-btn"},"")]),ue("div",w_,[ue("div",T_,[w[5]||(w[5]=ue("label",{class:"form-label"},"",-1)),Mc(ue("input",{"onUpdate:modelValue":w[0]||(w[0]=s=>o.value=s),type:"text",class:"form-input",placeholder:"",onKeyup:du(E,["enter"]),ref_key:"nameInput",ref:m},null,544),[[uu,o.value]])])]),ue("div",B_,[ue("button",{onClick:g,class:"btn btn-secondary"},""),ue("button",{onClick:E,disabled:!o.value.trim(),class:"btn btn-primary"},"  ",8,C_)])])])):Va("",!0)]),ue("nav",g_,[ue("button",{class:m0([{active:k.$route.path==="/record"},"nav-button"]),onClick:w[2]||(w[2]=s=>k.$router.push("/record"))},[...w[6]||(w[6]=[ue("div",{class:"nav-icon"},"",-1),ue("div",{class:"nav-label"},"",-1)])],2),ue("button",{class:m0([{active:k.$route.path==="/list"},"nav-button"]),onClick:w[3]||(w[3]=s=>k.$router.push("/list"))},[...w[7]||(w[7]=[ue("div",{class:"nav-icon"},"",-1),ue("div",{class:"nav-label"},"",-1)])],2)])])}}},L_=ja(I_,[["__scopeId","data-v-38924d53"]]);/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Tn=typeof document<"u";function xl(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function O_(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&xl(e.default)}const Ue=Object.assign;function ta(e,t){const n={};for(const r in t){const a=t[r];n[r]=l0(a)?a.map(e):e(a)}return n}const ir=()=>{},l0=Array.isArray,Rl=/#/g,N_=/&/g,H_=/\//g,k_=/=/g,V_=/\?/g,Al=/\+/g,F_=/%5B/g,P_=/%5D/g,El=/%5E/g,$_=/%60/g,Ml=/%7B/g,D_=/%7C/g,wl=/%7D/g,X_=/%20/g;function Ka(e){return encodeURI(""+e).replace(D_,"|").replace(F_,"[").replace(P_,"]")}function q_(e){return Ka(e).replace(Ml,"{").replace(wl,"}").replace(El,"^")}function ba(e){return Ka(e).replace(Al,"%2B").replace(X_,"+").replace(Rl,"%23").replace(N_,"%26").replace($_,"`").replace(Ml,"{").replace(wl,"}").replace(El,"^")}function G_(e){return ba(e).replace(k_,"%3D")}function Y_(e){return Ka(e).replace(Rl,"%23").replace(V_,"%3F")}function U_(e){return e==null?"":Y_(e).replace(H_,"%2F")}function mr(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const j_=/\/$/,K_=e=>e.replace(j_,"");function na(e,t,n="/"){let r,a={},o="",f="";const m=t.indexOf("#");let S=t.indexOf("?");return m<S&&m>=0&&(S=-1),S>-1&&(r=t.slice(0,S),o=t.slice(S+1,m>-1?m:t.length),a=e(o)),m>-1&&(r=r||t.slice(0,m),f=t.slice(m,t.length)),r=Q_(r??t,n),{fullPath:r+(o&&"?")+o+f,path:r,query:a,hash:mr(f)}}function W_(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function _1(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function z_(e,t,n){const r=t.matched.length-1,a=n.matched.length-1;return r>-1&&r===a&&Ln(t.matched[r],n.matched[a])&&Tl(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Ln(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Tl(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Z_(e[n],t[n]))return!1;return!0}function Z_(e,t){return l0(e)?h1(e,t):l0(t)?h1(t,e):e===t}function h1(e,t){return l0(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function Q_(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),a=r[r.length-1];(a===".."||a===".")&&r.push("");let o=n.length-1,f,m;for(f=0;f<r.length;f++)if(m=r[f],m!==".")if(m==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(f).join("/")}const F0={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var pr;(function(e){e.pop="pop",e.push="push"})(pr||(pr={}));var or;(function(e){e.back="back",e.forward="forward",e.unknown=""})(or||(or={}));function J_(e){if(!e)if(Tn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),K_(e)}const e3=/^[^#]+#/;function t3(e,t){return e.replace(e3,"#")+t}function n3(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const ys=()=>({left:window.scrollX,top:window.scrollY});function r3(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),a=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!a)return;t=n3(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function d1(e,t){return(history.state?history.state.position-t:-1)+e}const Sa=new Map;function s3(e,t){Sa.set(e,t)}function a3(e){const t=Sa.get(e);return Sa.delete(e),t}let i3=()=>location.protocol+"//"+location.host;function Bl(e,t){const{pathname:n,search:r,hash:a}=t,o=e.indexOf("#");if(o>-1){let m=a.includes(e.slice(o))?e.slice(o).length:1,S=a.slice(m);return S[0]!=="/"&&(S="/"+S),_1(S,"")}return _1(n,e)+r+a}function o3(e,t,n,r){let a=[],o=[],f=null;const m=({state:N})=>{const g=Bl(e,location),O=n.value,Y=t.value;let k=0;if(N){if(n.value=g,t.value=N,f&&f===O){f=null;return}k=Y?N.position-Y.position:0}else r(g);a.forEach(w=>{w(n.value,O,{delta:k,type:pr.pop,direction:k?k>0?or.forward:or.back:or.unknown})})};function S(){f=n.value}function R(N){a.push(N);const g=()=>{const O=a.indexOf(N);O>-1&&a.splice(O,1)};return o.push(g),g}function E(){const{history:N}=window;N.state&&N.replaceState(Ue({},N.state,{scroll:ys()}),"")}function _(){for(const N of o)N();o=[],window.removeEventListener("popstate",m),window.removeEventListener("beforeunload",E)}return window.addEventListener("popstate",m),window.addEventListener("beforeunload",E,{passive:!0}),{pauseListeners:S,listen:R,destroy:_}}function v1(e,t,n,r=!1,a=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:a?ys():null}}function l3(e){const{history:t,location:n}=window,r={value:Bl(e,n)},a={value:t.state};a.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(S,R,E){const _=e.indexOf("#"),N=_>-1?(n.host&&document.querySelector("base")?e:e.slice(_))+S:i3()+e+S;try{t[E?"replaceState":"pushState"](R,"",N),a.value=R}catch(g){console.error(g),n[E?"replace":"assign"](N)}}function f(S,R){const E=Ue({},t.state,v1(a.value.back,S,a.value.forward,!0),R,{position:a.value.position});o(S,E,!0),r.value=S}function m(S,R){const E=Ue({},a.value,t.state,{forward:S,scroll:ys()});o(E.current,E,!0);const _=Ue({},v1(r.value,S,null),{position:E.position+1},R);o(S,_,!1),r.value=S}return{location:r,state:a,push:m,replace:f}}function c3(e){e=J_(e);const t=l3(e),n=o3(e,t.state,t.location,t.replace);function r(o,f=!0){f||n.pauseListeners(),history.go(o)}const a=Ue({location:"",base:e,go:r,createHref:t3.bind(null,e)},t,n);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}function u3(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),c3(e)}function f3(e){return typeof e=="string"||e&&typeof e=="object"}function Cl(e){return typeof e=="string"||typeof e=="symbol"}const gl=Symbol("");var m1;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(m1||(m1={}));function On(e,t){return Ue(new Error,{type:e,[gl]:!0},t)}function R0(e,t){return e instanceof Error&&gl in e&&(t==null||!!(e.type&t))}const p1="[^/]+?",_3={sensitive:!1,strict:!1,start:!0,end:!0},h3=/[.+*?^${}()[\]/\\]/g;function d3(e,t){const n=Ue({},_3,t),r=[];let a=n.start?"^":"";const o=[];for(const R of e){const E=R.length?[]:[90];n.strict&&!R.length&&(a+="/");for(let _=0;_<R.length;_++){const N=R[_];let g=40+(n.sensitive?.25:0);if(N.type===0)_||(a+="/"),a+=N.value.replace(h3,"\\$&"),g+=40;else if(N.type===1){const{value:O,repeatable:Y,optional:k,regexp:w}=N;o.push({name:O,repeatable:Y,optional:k});const l=w||p1;if(l!==p1){g+=10;try{new RegExp(`(${l})`)}catch(B){throw new Error(`Invalid custom RegExp for param "${O}" (${l}): `+B.message)}}let s=Y?`((?:${l})(?:/(?:${l}))*)`:`(${l})`;_||(s=k&&R.length<2?`(?:/${s})`:"/"+s),k&&(s+="?"),a+=s,g+=20,k&&(g+=-8),Y&&(g+=-20),l===".*"&&(g+=-50)}E.push(g)}r.push(E)}if(n.strict&&n.end){const R=r.length-1;r[R][r[R].length-1]+=.7000000000000001}n.strict||(a+="/?"),n.end?a+="$":n.strict&&!a.endsWith("/")&&(a+="(?:/|$)");const f=new RegExp(a,n.sensitive?"":"i");function m(R){const E=R.match(f),_={};if(!E)return null;for(let N=1;N<E.length;N++){const g=E[N]||"",O=o[N-1];_[O.name]=g&&O.repeatable?g.split("/"):g}return _}function S(R){let E="",_=!1;for(const N of e){(!_||!E.endsWith("/"))&&(E+="/"),_=!1;for(const g of N)if(g.type===0)E+=g.value;else if(g.type===1){const{value:O,repeatable:Y,optional:k}=g,w=O in R?R[O]:"";if(l0(w)&&!Y)throw new Error(`Provided param "${O}" is an array but it is not repeatable (* or + modifiers)`);const l=l0(w)?w.join("/"):w;if(!l)if(k)N.length<2&&(E.endsWith("/")?E=E.slice(0,-1):_=!0);else throw new Error(`Missing required param "${O}"`);E+=l}}return E||"/"}return{re:f,score:r,keys:o,parse:m,stringify:S}}function v3(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Il(e,t){let n=0;const r=e.score,a=t.score;for(;n<r.length&&n<a.length;){const o=v3(r[n],a[n]);if(o)return o;n++}if(Math.abs(a.length-r.length)===1){if(b1(r))return 1;if(b1(a))return-1}return a.length-r.length}function b1(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const m3={type:0,value:""},p3=/[a-zA-Z0-9_]/;function b3(e){if(!e)return[[]];if(e==="/")return[[m3]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(g){throw new Error(`ERR (${n})/"${R}": ${g}`)}let n=0,r=n;const a=[];let o;function f(){o&&a.push(o),o=[]}let m=0,S,R="",E="";function _(){R&&(n===0?o.push({type:0,value:R}):n===1||n===2||n===3?(o.length>1&&(S==="*"||S==="+")&&t(`A repeatable param (${R}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:R,regexp:E,repeatable:S==="*"||S==="+",optional:S==="*"||S==="?"})):t("Invalid state to consume buffer"),R="")}function N(){R+=S}for(;m<e.length;){if(S=e[m++],S==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:S==="/"?(R&&_(),f()):S===":"?(_(),n=1):N();break;case 4:N(),n=r;break;case 1:S==="("?n=2:p3.test(S)?N():(_(),n=0,S!=="*"&&S!=="?"&&S!=="+"&&m--);break;case 2:S===")"?E[E.length-1]=="\\"?E=E.slice(0,-1)+S:n=3:E+=S;break;case 3:_(),n=0,S!=="*"&&S!=="?"&&S!=="+"&&m--,E="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${R}"`),_(),f(),a}function S3(e,t,n){const r=d3(b3(e.path),n),a=Ue(r,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function y3(e,t){const n=[],r=new Map;t=R1({strict:!1,end:!0,sensitive:!1},t);function a(_){return r.get(_)}function o(_,N,g){const O=!g,Y=y1(_);Y.aliasOf=g&&g.record;const k=R1(t,_),w=[Y];if("alias"in _){const B=typeof _.alias=="string"?[_.alias]:_.alias;for(const b of B)w.push(y1(Ue({},Y,{components:g?g.record.components:Y.components,path:b,aliasOf:g?g.record:Y})))}let l,s;for(const B of w){const{path:b}=B;if(N&&b[0]!=="/"){const T=N.record.path,M=T[T.length-1]==="/"?"":"/";B.path=N.record.path+(b&&M+b)}if(l=S3(B,N,k),g?g.alias.push(l):(s=s||l,s!==l&&s.alias.push(l),O&&_.name&&!x1(l)&&f(_.name)),Ll(l)&&S(l),Y.children){const T=Y.children;for(let M=0;M<T.length;M++)o(T[M],l,g&&g.children[M])}g=g||l}return s?()=>{f(s)}:ir}function f(_){if(Cl(_)){const N=r.get(_);N&&(r.delete(_),n.splice(n.indexOf(N),1),N.children.forEach(f),N.alias.forEach(f))}else{const N=n.indexOf(_);N>-1&&(n.splice(N,1),_.record.name&&r.delete(_.record.name),_.children.forEach(f),_.alias.forEach(f))}}function m(){return n}function S(_){const N=A3(_,n);n.splice(N,0,_),_.record.name&&!x1(_)&&r.set(_.record.name,_)}function R(_,N){let g,O={},Y,k;if("name"in _&&_.name){if(g=r.get(_.name),!g)throw On(1,{location:_});k=g.record.name,O=Ue(S1(N.params,g.keys.filter(s=>!s.optional).concat(g.parent?g.parent.keys.filter(s=>s.optional):[]).map(s=>s.name)),_.params&&S1(_.params,g.keys.map(s=>s.name))),Y=g.stringify(O)}else if(_.path!=null)Y=_.path,g=n.find(s=>s.re.test(Y)),g&&(O=g.parse(Y),k=g.record.name);else{if(g=N.name?r.get(N.name):n.find(s=>s.re.test(N.path)),!g)throw On(1,{location:_,currentLocation:N});k=g.record.name,O=Ue({},N.params,_.params),Y=g.stringify(O)}const w=[];let l=g;for(;l;)w.unshift(l.record),l=l.parent;return{name:k,path:Y,params:O,matched:w,meta:R3(w)}}e.forEach(_=>o(_));function E(){n.length=0,r.clear()}return{addRoute:o,resolve:R,removeRoute:f,clearRoutes:E,getRoutes:m,getRecordMatcher:a}}function S1(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function y1(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:x3(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function x3(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function x1(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function R3(e){return e.reduce((t,n)=>Ue(t,n.meta),{})}function R1(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function A3(e,t){let n=0,r=t.length;for(;n!==r;){const o=n+r>>1;Il(e,t[o])<0?r=o:n=o+1}const a=E3(e);return a&&(r=t.lastIndexOf(a,r-1)),r}function E3(e){let t=e;for(;t=t.parent;)if(Ll(t)&&Il(e,t)===0)return t}function Ll({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function M3(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let a=0;a<r.length;++a){const o=r[a].replace(Al," "),f=o.indexOf("="),m=mr(f<0?o:o.slice(0,f)),S=f<0?null:mr(o.slice(f+1));if(m in t){let R=t[m];l0(R)||(R=t[m]=[R]),R.push(S)}else t[m]=S}return t}function A1(e){let t="";for(let n in e){const r=e[n];if(n=G_(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(l0(r)?r.map(o=>o&&ba(o)):[r&&ba(r)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function w3(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=l0(r)?r.map(a=>a==null?null:""+a):r==null?r:""+r)}return t}const T3=Symbol(""),E1=Symbol(""),Wa=Symbol(""),Ol=Symbol(""),ya=Symbol("");function Wn(){let e=[];function t(r){return e.push(r),()=>{const a=e.indexOf(r);a>-1&&e.splice(a,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function X0(e,t,n,r,a,o=f=>f()){const f=r&&(r.enterCallbacks[a]=r.enterCallbacks[a]||[]);return()=>new Promise((m,S)=>{const R=N=>{N===!1?S(On(4,{from:n,to:t})):N instanceof Error?S(N):f3(N)?S(On(2,{from:t,to:N})):(f&&r.enterCallbacks[a]===f&&typeof N=="function"&&f.push(N),m())},E=o(()=>e.call(r&&r.instances[a],t,n,R));let _=Promise.resolve(E);e.length<3&&(_=_.then(R)),_.catch(N=>S(N))})}function ra(e,t,n,r,a=o=>o()){const o=[];for(const f of e)for(const m in f.components){let S=f.components[m];if(!(t!=="beforeRouteEnter"&&!f.instances[m]))if(xl(S)){const E=(S.__vccOpts||S)[t];E&&o.push(X0(E,n,r,f,m,a))}else{let R=S();o.push(()=>R.then(E=>{if(!E)throw new Error(`Couldn't resolve component "${m}" at "${f.path}"`);const _=O_(E)?E.default:E;f.mods[m]=E,f.components[m]=_;const g=(_.__vccOpts||_)[t];return g&&X0(g,n,r,f,m,a)()}))}}return o}function M1(e){const t=b0(Wa),n=b0(Ol),r=Zt(()=>{const S=Qe(e.to);return t.resolve(S)}),a=Zt(()=>{const{matched:S}=r.value,{length:R}=S,E=S[R-1],_=n.matched;if(!E||!_.length)return-1;const N=_.findIndex(Ln.bind(null,E));if(N>-1)return N;const g=w1(S[R-2]);return R>1&&w1(E)===g&&_[_.length-1].path!==g?_.findIndex(Ln.bind(null,S[R-2])):N}),o=Zt(()=>a.value>-1&&L3(n.params,r.value.params)),f=Zt(()=>a.value>-1&&a.value===n.matched.length-1&&Tl(n.params,r.value.params));function m(S={}){if(I3(S)){const R=t[Qe(e.replace)?"replace":"push"](Qe(e.to)).catch(ir);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>R),R}return Promise.resolve()}return{route:r,href:Zt(()=>r.value.href),isActive:o,isExactActive:f,navigate:m}}function B3(e){return e.length===1?e[0]:e}const C3=bo({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:M1,setup(e,{slots:t}){const n=br(M1(e)),{options:r}=b0(Wa),a=Zt(()=>({[T1(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[T1(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&B3(t.default(n));return e.custom?o:$a("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:a.value},o)}}}),g3=C3;function I3(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function L3(e,t){for(const n in t){const r=t[n],a=e[n];if(typeof r=="string"){if(r!==a)return!1}else if(!l0(a)||a.length!==r.length||r.some((o,f)=>o!==a[f]))return!1}return!0}function w1(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const T1=(e,t,n)=>e??t??n,O3=bo({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=b0(ya),a=Zt(()=>e.route||r.value),o=b0(E1,0),f=Zt(()=>{let R=Qe(o);const{matched:E}=a.value;let _;for(;(_=E[R])&&!_.components;)R++;return R}),m=Zt(()=>a.value.matched[f.value]);Fr(E1,Zt(()=>f.value+1)),Fr(T3,m),Fr(ya,a);const S=Rt();return rr(()=>[S.value,m.value,e.name],([R,E,_],[N,g,O])=>{E&&(E.instances[_]=R,g&&g!==E&&R&&R===N&&(E.leaveGuards.size||(E.leaveGuards=g.leaveGuards),E.updateGuards.size||(E.updateGuards=g.updateGuards))),R&&E&&(!g||!Ln(E,g)||!N)&&(E.enterCallbacks[_]||[]).forEach(Y=>Y(R))},{flush:"post"}),()=>{const R=a.value,E=e.name,_=m.value,N=_&&_.components[E];if(!N)return B1(n.default,{Component:N,route:R});const g=_.props[E],O=g?g===!0?R.params:typeof g=="function"?g(R):g:null,k=$a(N,Ue({},O,t,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(_.instances[E]=null)},ref:S}));return B1(n.default,{Component:k,route:R})||k}}});function B1(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const N3=O3;function H3(e){const t=y3(e.routes,e),n=e.parseQuery||M3,r=e.stringifyQuery||A1,a=e.history,o=Wn(),f=Wn(),m=Wn(),S=_c(F0);let R=F0;Tn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const E=ta.bind(null,U=>""+U),_=ta.bind(null,U_),N=ta.bind(null,mr);function g(U,ce){let te,ee;return Cl(U)?(te=t.getRecordMatcher(U),ee=ce):ee=U,t.addRoute(ee,te)}function O(U){const ce=t.getRecordMatcher(U);ce&&t.removeRoute(ce)}function Y(){return t.getRoutes().map(U=>U.record)}function k(U){return!!t.getRecordMatcher(U)}function w(U,ce){if(ce=Ue({},ce||S.value),typeof U=="string"){const K=na(n,U,ce.path),ne=t.resolve({path:K.path},ce),le=a.createHref(K.fullPath);return Ue(K,ne,{params:N(ne.params),hash:mr(K.hash),redirectedFrom:void 0,href:le})}let te;if(U.path!=null)te=Ue({},U,{path:na(n,U.path,ce.path).path});else{const K=Ue({},U.params);for(const ne in K)K[ne]==null&&delete K[ne];te=Ue({},U,{params:_(K)}),ce.params=_(ce.params)}const ee=t.resolve(te,ce),Be=U.hash||"";ee.params=E(N(ee.params));const P=W_(r,Ue({},U,{hash:q_(Be),path:ee.path})),F=a.createHref(P);return Ue({fullPath:P,hash:Be,query:r===A1?w3(U.query):U.query||{}},ee,{redirectedFrom:void 0,href:F})}function l(U){return typeof U=="string"?na(n,U,S.value.path):Ue({},U)}function s(U,ce){if(R!==U)return On(8,{from:ce,to:U})}function B(U){return M(U)}function b(U){return B(Ue(l(U),{replace:!0}))}function T(U){const ce=U.matched[U.matched.length-1];if(ce&&ce.redirect){const{redirect:te}=ce;let ee=typeof te=="function"?te(U):te;return typeof ee=="string"&&(ee=ee.includes("?")||ee.includes("#")?ee=l(ee):{path:ee},ee.params={}),Ue({query:U.query,hash:U.hash,params:ee.path!=null?{}:U.params},ee)}}function M(U,ce){const te=R=w(U),ee=S.value,Be=U.state,P=U.force,F=U.replace===!0,K=T(te);if(K)return M(Ue(l(K),{state:typeof K=="object"?Ue({},Be,K.state):Be,force:P,replace:F}),ce||te);const ne=te;ne.redirectedFrom=ce;let le;return!P&&z_(r,ee,te)&&(le=On(16,{to:ne,from:ee}),A(ee,ee,!0,!1)),(le?Promise.resolve(le):c(ne,ee)).catch(oe=>R0(oe)?R0(oe,2)?oe:u(oe):H(oe,ne,ee)).then(oe=>{if(oe){if(R0(oe,2))return M(Ue({replace:F},l(oe.to),{state:typeof oe.to=="object"?Ue({},Be,oe.to.state):Be,force:P}),ce||ne)}else oe=i(ne,ee,!0,F,Be);return y(ne,ee,oe),oe})}function d(U,ce){const te=s(U,ce);return te?Promise.reject(te):Promise.resolve()}function p(U){const ce=me.values().next().value;return ce&&typeof ce.runWithContext=="function"?ce.runWithContext(U):U()}function c(U,ce){let te;const[ee,Be,P]=k3(U,ce);te=ra(ee.reverse(),"beforeRouteLeave",U,ce);for(const K of ee)K.leaveGuards.forEach(ne=>{te.push(X0(ne,U,ce))});const F=d.bind(null,U,ce);return te.push(F),pe(te).then(()=>{te=[];for(const K of o.list())te.push(X0(K,U,ce));return te.push(F),pe(te)}).then(()=>{te=ra(Be,"beforeRouteUpdate",U,ce);for(const K of Be)K.updateGuards.forEach(ne=>{te.push(X0(ne,U,ce))});return te.push(F),pe(te)}).then(()=>{te=[];for(const K of P)if(K.beforeEnter)if(l0(K.beforeEnter))for(const ne of K.beforeEnter)te.push(X0(ne,U,ce));else te.push(X0(K.beforeEnter,U,ce));return te.push(F),pe(te)}).then(()=>(U.matched.forEach(K=>K.enterCallbacks={}),te=ra(P,"beforeRouteEnter",U,ce,p),te.push(F),pe(te))).then(()=>{te=[];for(const K of f.list())te.push(X0(K,U,ce));return te.push(F),pe(te)}).catch(K=>R0(K,8)?K:Promise.reject(K))}function y(U,ce,te){m.list().forEach(ee=>p(()=>ee(U,ce,te)))}function i(U,ce,te,ee,Be){const P=s(U,ce);if(P)return P;const F=ce===F0,K=Tn?history.state:{};te&&(ee||F?a.replace(U.fullPath,Ue({scroll:F&&K&&K.scroll},Be)):a.push(U.fullPath,Be)),S.value=U,A(U,ce,te,F),u()}let h;function v(){h||(h=a.listen((U,ce,te)=>{if(!ye.listening)return;const ee=w(U),Be=T(ee);if(Be){M(Ue(Be,{replace:!0,force:!0}),ee).catch(ir);return}R=ee;const P=S.value;Tn&&s3(d1(P.fullPath,te.delta),ys()),c(ee,P).catch(F=>R0(F,12)?F:R0(F,2)?(M(Ue(l(F.to),{force:!0}),ee).then(K=>{R0(K,20)&&!te.delta&&te.type===pr.pop&&a.go(-1,!1)}).catch(ir),Promise.reject()):(te.delta&&a.go(-te.delta,!1),H(F,ee,P))).then(F=>{F=F||i(ee,P,!1),F&&(te.delta&&!R0(F,8)?a.go(-te.delta,!1):te.type===pr.pop&&R0(F,20)&&a.go(-1,!1)),y(ee,P,F)}).catch(ir)}))}let x=Wn(),C=Wn(),q;function H(U,ce,te){u(U);const ee=C.list();return ee.length?ee.forEach(Be=>Be(U,ce,te)):console.error(U),Promise.reject(U)}function X(){return q&&S.value!==F0?Promise.resolve():new Promise((U,ce)=>{x.add([U,ce])})}function u(U){return q||(q=!U,v(),x.list().forEach(([ce,te])=>U?te(U):ce()),x.reset()),U}function A(U,ce,te,ee){const{scrollBehavior:Be}=e;if(!Tn||!Be)return Promise.resolve();const P=!te&&a3(d1(U.fullPath,0))||(ee||!te)&&history.state&&history.state.scroll||null;return Oa().then(()=>Be(U,ce,P)).then(F=>F&&r3(F)).catch(F=>H(F,U,ce))}const G=U=>a.go(U);let j;const me=new Set,ye={currentRoute:S,listening:!0,addRoute:g,removeRoute:O,clearRoutes:t.clearRoutes,hasRoute:k,getRoutes:Y,resolve:w,options:e,push:B,replace:b,go:G,back:()=>G(-1),forward:()=>G(1),beforeEach:o.add,beforeResolve:f.add,afterEach:m.add,onError:C.add,isReady:X,install(U){const ce=this;U.component("RouterLink",g3),U.component("RouterView",N3),U.config.globalProperties.$router=ce,Object.defineProperty(U.config.globalProperties,"$route",{enumerable:!0,get:()=>Qe(S)}),Tn&&!j&&S.value===F0&&(j=!0,B(a.location).catch(Be=>{}));const te={};for(const Be in F0)Object.defineProperty(te,Be,{get:()=>S.value[Be],enumerable:!0});U.provide(Wa,ce),U.provide(Ol,to(te)),U.provide(ya,S);const ee=U.unmount;me.add(U),U.unmount=function(){me.delete(U),me.size<1&&(R=F0,h&&h(),h=null,S.value=F0,j=!1,q=!1),ee()}}};function pe(U){return U.reduce((ce,te)=>ce.then(()=>p(te)),Promise.resolve())}return ye}function k3(e,t){const n=[],r=[],a=[],o=Math.max(t.matched.length,e.matched.length);for(let f=0;f<o;f++){const m=t.matched[f];m&&(e.matched.find(R=>Ln(R,m))?r.push(m):n.push(m));const S=e.matched[f];S&&(t.matched.find(R=>Ln(R,S))||a.push(S))}return[n,r,a]}const V3={class:"recorder-view"},F3={class:"pin-floating"},P3={class:"button-text"},$3={class:"dialog-header"},D3={class:"dialog-content"},X3={class:"recording-status-card"},q3={class:"time-display"},G3={class:"time-value"},Y3={class:"audio-visualizer"},U3={class:"level-indicator"},j3={class:"input-source-section"},K3={class:"source-toggle-group"},W3={class:"audio-controls-section"},z3={class:"controls-grid"},Z3={class:"control-item"},Q3=["checked"],J3={class:"control-item"},e4=["checked"],t4={class:"control-item"},n4=["checked"],r4={class:"gain-control"},s4={class:"gain-slider-container"},a4=["value"],i4={class:"gain-value"},o4={class:"main-actions"},l4=["disabled"],c4={class:"button-icon"},u4={key:0,class:"mic-icon"},f4={key:1,class:"play-icon"},_4={key:2,class:"stop-icon"},h4={class:"button-text"},d4={key:0},v4={key:1},m4={key:2},p4={__name:"RecorderView",setup(e){const t=Da(),n=new zo,r=Rt(!1),a=Rt(null),o=Rt(0),f=Rt(null);let m=null;const S=Rt(!1),R=Rt(!1);function E(b){t.updateSettings({inputSource:b})}function _(b,T){t.updateSettings({[b]:T})}cs(async()=>{await t.loadFromStorage()}),us(()=>{Y()});async function N(){var b;if(!r.value)try{if(r.value=!0,!t.isRecording)await n.startRecording(((b=t.settings)==null?void 0:b.inputSource)||"mix"),t.setRecordingState(!0,!1),s(),n.onLevel(T=>o.value=T),g();else if(t.isPaused)await n.resumeRecording(),t.setRecordingState(!0,!1);else{const T=await n.stopRecording();t.setRecordingState(!1,!1),t.resetRecordingTime(),B(),O(),console.log("",T)}}catch(T){console.error(":",T)}finally{r.value=!1}}function g(){O();const b=f.value;if(!b||!n.analyser)return;const T=b.getContext("2d"),M=n.analyser,d=M.frequencyBinCount,p=new Uint8Array(d),c=32,y=3,i=()=>{M.getByteFrequencyData(p),T.clearRect(0,0,b.width,b.height);const h=(b.width-(c-1)*y)/c;for(let v=0;v<c;v++){const x=Math.floor(v*(d/c)),C=p[x]/255,q=Math.max(2,C*b.height),H=v*(h+y),X=b.height-q,u=T.createLinearGradient(0,X,0,b.height);u.addColorStop(0,"#55efc4"),u.addColorStop(1,"#ff7675"),T.fillStyle=u,T.fillRect(H,X,h,q)}m=requestAnimationFrame(i)};m=requestAnimationFrame(i)}function O(){m&&(cancelAnimationFrame(m),m=null)}function Y(){O(),n.cleanup()}async function k(b="dock"){var T,M,d;try{if(R.value=!1,!(chrome!=null&&chrome.tabs)||!(chrome!=null&&chrome.scripting))throw new Error(" tabs/scripting ");const[p]=await chrome.tabs.query({active:!0,currentWindow:!0});if(!(p!=null&&p.id))throw new Error("");const c=p.url||"",y=/^https?:\/\//i.test(c),i=/^file:\/\//i.test(c);if(/^(chrome|edge|brave|opera):\/\//i.test(c)||/^chrome-devtools:\/\//i.test(c)||/^chrome-extension:\/\//i.test(c)||!y&&!i){if((T=chrome==null?void 0:chrome.windows)!=null&&T.create){chrome.windows.create({url:chrome.runtime.getURL("popup.html"),type:"popup",focused:!0,width:360,height:600});return}throw new Error("http/https")}if(i&&!((M=chrome==null?void 0:chrome.extension)!=null&&M.isAllowedFileSchemeAccess&&chrome.extension.isAllowedFileSchemeAccess())&&(d=chrome==null?void 0:chrome.windows)!=null&&d.create){chrome.windows.create({url:chrome.runtime.getURL("popup.html"),type:"popup",focused:!0,width:360,height:600});return}const v=chrome.runtime.getURL("popup.html");await chrome.scripting.executeScript({target:{tabId:p.id},func:b==="dock"?w:l,args:[v]}),S.value=!0}catch(p){console.error(":",p),alert(": "+((p==null?void 0:p.message)||p))}}function w(b){try{const T=document.getElementById("voice-recorder-floating-dock");if(T){T.style.display=T.style.display==="none"?"block":"none";return}const M=document.createElement("div");M.id="voice-recorder-floating-dock",Object.assign(M.style,{position:"fixed",top:"0",right:"0",width:"360px",height:"100vh",background:"transparent",zIndex:"2147483647",display:"flex",flexDirection:"column",alignItems:"stretch",boxShadow:"0 0 24px rgba(0,0,0,0.18)"});const d=document.createElement("div");Object.assign(d.style,{height:"36px",display:"flex",alignItems:"center",justifyContent:"flex-end",background:"linear-gradient(135deg,#667eea,#764ba2)",padding:"0 8px"});const p=document.createElement("button");p.textContent="",Object.assign(p.style,{width:"28px",height:"28px",border:"none",borderRadius:"6px",background:"rgba(255,255,255,.2)",color:"#fff",cursor:"pointer",fontSize:"18px"}),p.onclick=()=>{try{M.remove()}catch{}},d.appendChild(p);const c=document.createElement("iframe");c.src=b,Object.assign(c.style,{flex:"1 1 auto",border:"none",width:"100%"}),M.appendChild(d),M.appendChild(c),document.body.appendChild(M)}catch(T){console.error(":",T)}}function l(b){try{const T=document.getElementById("voice-recorder-floating-window");if(T){T.style.display=T.style.display==="none"?"block":"none";return}const M=document.createElement("iframe");M.id="voice-recorder-floating-window",M.src=b,Object.assign(M.style,{position:"fixed",top:"16px",right:"16px",width:"320px",height:"520px",border:"none",borderRadius:"12px",boxShadow:"0 12px 32px rgba(0,0,0,0.25)",zIndex:"2147483647",background:"white"}),document.body.appendChild(M);const d=document.createElement("button");d.id="voice-recorder-floating-close",d.textContent="",Object.assign(d.style,{position:"fixed",top:"8px",right:"8px",width:"28px",height:"28px",border:"none",borderRadius:"14px",background:"#e74c3c",color:"#fff",cursor:"pointer",zIndex:"2147483647",lineHeight:"28px",fontSize:"18px",textAlign:"center"}),d.onclick=()=>{try{M.remove(),d.remove()}catch{}},document.body.appendChild(d)}catch(T){console.error(":",T)}}function s(){a.value&&clearInterval(a.value),a.value=setInterval(()=>{t.isPaused||(t.updateRecordingTime(t.recordingTime+1),t.recordingTime>=t.settings.maxDuration*60&&(console.log(""),N()))},1e3)}function B(){a.value&&(clearInterval(a.value),a.value=null)}return(b,T)=>(At(),Tt("div",V3,[ue("div",F3,[ue("button",{onClick:T[0]||(T[0]=M=>R.value=!0),class:m0(["pin-button",{pinned:S.value}])},[T[13]||(T[13]=ue("div",{class:"button-icon"},"",-1)),ue("div",P3,M0(S.value?"":""),1)],2)]),R.value?(At(),Tt("div",{key:0,class:"pin-options-overlay",onClick:T[5]||(T[5]=M=>R.value=!1)},[ue("div",{class:"pin-options-dialog",onClick:T[4]||(T[4]=Yo(()=>{},["stop"]))},[ue("div",$3,[T[14]||(T[14]=ue("h3",null,"",-1)),ue("button",{onClick:T[1]||(T[1]=M=>R.value=!1),class:"close-btn"},"")]),ue("div",D3,[ue("div",{class:"pin-option",onClick:T[2]||(T[2]=M=>k("dock"))},[...T[15]||(T[15]=[ue("div",{class:"option-icon"},"",-1),ue("div",{class:"option-text"},[ue("h4",null,""),ue("p",null,"")],-1)])]),ue("div",{class:"pin-option",onClick:T[3]||(T[3]=M=>k("window"))},[...T[16]||(T[16]=[ue("div",{class:"option-icon"},"",-1),ue("div",{class:"option-text"},[ue("h4",null,""),ue("p",null,"")],-1)])])])])])):Va("",!0),ue("div",X3,[ue("div",q3,[ue("div",G3,M0(Qe(t).formattedRecordingTime),1),T[17]||(T[17]=ue("div",{class:"time-label"},"",-1))]),ue("div",Y3,[ue("canvas",{ref_key:"vizCanvas",ref:f,class:"spectrum-canvas",width:"280",height:"60"},null,512),ue("div",U3,[ue("div",{class:"level-bar",style:ss({width:Math.round(o.value*100)+"%"})},null,4)])])]),ue("div",j3,[T[21]||(T[21]=ue("h3",{class:"section-title"},"",-1)),ue("div",K3,[ue("button",{class:m0(["source-btn",{active:Qe(t).settings.inputSource==="mic"}]),onClick:T[6]||(T[6]=M=>E("mic"))},[...T[18]||(T[18]=[ue("div",{class:"source-icon"},"",-1),ue("div",{class:"source-label"},"",-1)])],2),ue("button",{class:m0(["source-btn",{active:Qe(t).settings.inputSource==="mix"}]),onClick:T[7]||(T[7]=M=>E("mix"))},[...T[19]||(T[19]=[ue("div",{class:"source-icon"},"",-1),ue("div",{class:"source-label"},"",-1)])],2),ue("button",{class:m0(["source-btn",{active:Qe(t).settings.inputSource==="tab"}]),onClick:T[8]||(T[8]=M=>E("tab"))},[...T[20]||(T[20]=[ue("div",{class:"source-icon"},"",-1),ue("div",{class:"source-label"},"",-1)])],2)])]),ue("div",W3,[T[26]||(T[26]=ue("h3",{class:"section-title"},"",-1)),ue("div",z3,[ue("label",Z3,[ue("input",{type:"checkbox",checked:Qe(t).settings.echoCancellation,onChange:T[9]||(T[9]=M=>_("echoCancellation",M.target.checked)),class:"control-checkbox"},null,40,Q3),T[22]||(T[22]=ue("span",{class:"control-label"},"",-1))]),ue("label",J3,[ue("input",{type:"checkbox",checked:Qe(t).settings.noiseSuppression,onChange:T[10]||(T[10]=M=>_("noiseSuppression",M.target.checked)),class:"control-checkbox"},null,40,e4),T[23]||(T[23]=ue("span",{class:"control-label"},"",-1))]),ue("label",t4,[ue("input",{type:"checkbox",checked:Qe(t).settings.autoGainControl,onChange:T[11]||(T[11]=M=>_("autoGainControl",M.target.checked)),class:"control-checkbox"},null,40,n4),T[24]||(T[24]=ue("span",{class:"control-label"},"",-1))])]),ue("div",r4,[T[25]||(T[25]=ue("div",{class:"gain-label"},"",-1)),ue("div",s4,[ue("input",{class:"gain-slider",type:"range",min:"0",max:"3",step:"0.1",value:Qe(t).settings.gain,onInput:T[12]||(T[12]=M=>_("gain",Number(M.target.value)))},null,40,a4),ue("div",i4,M0(Qe(t).settings.gain.toFixed(1))+"x",1)])])]),ue("div",o4,[ue("button",{onClick:N,disabled:r.value,class:m0(["record-button",{recording:Qe(t).isRecording&&!Qe(t).isPaused,paused:Qe(t).isPaused,processing:r.value}])},[ue("div",c4,[Qe(t).isRecording?Qe(t).isPaused?(At(),Tt("div",f4,"")):(At(),Tt("div",_4,"")):(At(),Tt("div",u4,""))]),ue("div",h4,[Qe(t).isRecording?Qe(t).isPaused?(At(),Tt("span",v4,"")):(At(),Tt("span",m4,"")):(At(),Tt("span",d4,""))])],10,l4)])]))}},b4=ja(p4,[["__scopeId","data-v-1d2e30d6"]]),S4={class:"list-view"},y4={class:"list-header"},x4={class:"header-content"},R4={class:"header-text"},A4={class:"header-subtitle"},E4={key:0,class:"recordings-container"},M4={class:"card-header"},w4={class:"recording-info"},T4=["title"],B4={class:"recording-meta"},C4={class:"meta-item"},g4={class:"meta-text"},I4={class:"meta-item"},L4={class:"meta-text"},O4={key:0,class:"meta-item"},N4={class:"meta-text"},H4={class:"card-actions"},k4={class:"download-buttons"},V4=["onClick"],F4=["onClick"],P4=["onClick"],$4={key:1,class:"empty-state"},D4={__name:"ListView",setup(e){const t=Da();function n(Y){const k=Number(Y||0);return k<1024?`${k} B`:k<1024*1024?`${(k/1024).toFixed(1)} KB`:`${(k/1024/1024).toFixed(2)} MB`}function r(Y){try{return new Date(Y).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return""}}function a(Y){const k=Math.floor(Y/60),w=Y%60;return`${k.toString().padStart(2,"0")}:${w.toString().padStart(2,"0")}`}function o(Y){return(Y||"").replace(/[^\w\u4e00-\u9fa5\-_. ]+/g,"_")}function f(Y){return`recordings/${Y}`}function m(Y,k){var w;if(typeof chrome<"u"&&((w=chrome==null?void 0:chrome.downloads)!=null&&w.download))chrome.downloads.download({url:Y,filename:f(k),saveAs:!0},()=>{});else{const l=document.createElement("a");l.href=Y,l.download=k,document.body.appendChild(l),l.click(),setTimeout(()=>document.body.removeChild(l),0)}}function S(Y){const k=Y.audioUrl||(Y.audioBlob?URL.createObjectURL(Y.audioBlob):"");k&&m(k,`${o(Y.name)}.webm`)}async function R(Y){if(!Y.audioBlob)return S(Y);const k=await Y.audioBlob.arrayBuffer(),l=await new(window.AudioContext||window.webkitAudioContext)().decodeAudioData(k),s=N(l),B=URL.createObjectURL(s);m(B,`${o(Y.name)}.wav`)}async function E(Y){if(!Y.audioBlob)return S(Y);const k=await Y.audioBlob.arrayBuffer(),l=await new(window.AudioContext||window.webkitAudioContext)().decodeAudioData(k),s=g(l),B=URL.createObjectURL(s);m(B,`${o(Y.name)}.mp3`)}function _(Y){const k=Y.numberOfChannels,w=Y.length*k,l=new Float32Array(w);for(let s=0;s<k;s++){const B=Y.getChannelData(s);for(let b=0;b<Y.length;b++)l[b*k+s]=B[b]}return l}function N(Y){const k=Y.numberOfChannels,w=Y.sampleRate,l=_(Y),s=2,B=k*s,b=new ArrayBuffer(44+l.length*s),T=new DataView(b),M=(p,c,y)=>{for(let i=0;i<y.length;i++)p.setUint8(c+i,y.charCodeAt(i))};M(T,0,"RIFF"),T.setUint32(4,36+l.length*s,!0),M(T,8,"WAVE"),M(T,12,"fmt "),T.setUint32(16,16,!0),T.setUint16(20,1,!0),T.setUint16(22,k,!0),T.setUint32(24,w,!0),T.setUint32(28,w*B,!0),T.setUint16(32,B,!0),T.setUint16(34,s*8,!0),M(T,36,"data"),T.setUint32(40,l.length*s,!0);let d=44;for(let p=0;p<l.length;p++,d+=2){let c=Math.max(-1,Math.min(1,l[p]));T.setInt16(d,c<0?c*32768:c*32767,!0)}return new Blob([T],{type:"audio/wav"})}function g(Y){const k=Y.numberOfChannels,w=Y.sampleRate,l=new Xa.Mp3Encoder(k,w,128),s=Y.getChannelData(0),B=k>1?Y.getChannelData(1):s,b=1152;let T=[];for(let d=0;d<s.length;d+=b){const p=O(s.subarray(d,d+b)),c=O(B.subarray(d,d+b)),y=l.encodeBuffer(p,c);y.length>0&&T.push(new Int8Array(y))}const M=l.flush();return M.length>0&&T.push(new Int8Array(M)),new Blob(T,{type:"audio/mpeg"})}function O(Y){const k=new Int16Array(Y.length);for(let w=0;w<Y.length;w++){let l=Math.max(-1,Math.min(1,Y[w]));k[w]=l<0?l*32768:l*32767}return k}return(Y,k)=>(At(),Tt("div",S4,[ue("div",y4,[ue("div",x4,[k[1]||(k[1]=ue("div",{class:"header-icon"},"",-1)),ue("div",R4,[k[0]||(k[0]=ue("h2",{class:"header-title"},"",-1)),ue("p",A4,M0(Qe(t).totalRecordings)+" ",1)])])]),Qe(t).totalRecordings>0?(At(),Tt("div",E4,[(At(!0),Tt(r0,null,Gc(Qe(t).recordings,w=>(At(),Tt("div",{key:w.id,class:"recording-card"},[ue("div",M4,[k[5]||(k[5]=ue("div",{class:"recording-icon"},[ue("div",{class:"icon-bg"},"")],-1)),ue("div",w4,[ue("h3",{class:"recording-name",title:w.name},M0(w.name),9,T4),ue("div",B4,[ue("div",C4,[k[2]||(k[2]=ue("span",{class:"meta-icon"},"",-1)),ue("span",g4,M0(r(w.createdAt)),1)]),ue("div",I4,[k[3]||(k[3]=ue("span",{class:"meta-icon"},"",-1)),ue("span",L4,M0(n(w.size)),1)]),w.duration?(At(),Tt("div",O4,[k[4]||(k[4]=ue("span",{class:"meta-icon"},"",-1)),ue("span",N4,M0(a(w.duration)),1)])):Va("",!0)])])]),ue("div",H4,[ue("div",k4,[ue("button",{class:"download-btn webm-btn",title:"WEBM",onClick:l=>S(w)},[...k[6]||(k[6]=[ue("span",{class:"btn-icon"},"",-1),ue("span",{class:"btn-text"},"WEBM",-1)])],8,V4),ue("button",{class:"download-btn wav-btn",title:"WAV",onClick:l=>R(w)},[...k[7]||(k[7]=[ue("span",{class:"btn-icon"},"",-1),ue("span",{class:"btn-text"},"WAV",-1)])],8,F4),ue("button",{class:"download-btn mp3-btn",title:"MP3",onClick:l=>E(w)},[...k[8]||(k[8]=[ue("span",{class:"btn-icon"},"",-1),ue("span",{class:"btn-text"},"MP3",-1)])],8,P4)])])]))),128))])):(At(),Tt("div",$4,[...k[9]||(k[9]=[ue("div",{class:"empty-icon"},"",-1),ue("h3",{class:"empty-title"},"",-1),ue("p",{class:"empty-description"},"",-1)])]))]))}},X4=ja(D4,[["__scopeId","data-v-c1301973"]]),q4=[{path:"/",redirect:"/record"},{path:"/record",component:b4},{path:"/list",component:X4}],In=H3({history:u3(),routes:q4});async function G4(){var e;try{const t=In.currentRoute.value.path;if(typeof chrome<"u"&&((e=chrome==null?void 0:chrome.storage)!=null&&e.local)){const{lastRoute:n}=await chrome.storage.local.get(["lastRoute"]);(t==="/"||t==="/record")&&n&&n!==t&&await In.replace(n).catch(()=>{})}else{const n=localStorage.getItem("lastRoute");(t==="/"||t==="/record")&&n&&n!==t&&await In.replace(n).catch(()=>{})}}catch(t){console.warn(":",t)}}function Y4(){In.afterEach(async e=>{var t;try{typeof chrome<"u"&&((t=chrome==null?void 0:chrome.storage)!=null&&t.local)?await chrome.storage.local.set({lastRoute:e.path}):localStorage.setItem("lastRoute",e.path)}catch(n){console.warn(":",n)}})}console.log("Vue...");const za=pu(L_),U4=yu();za.use(U4);za.use(In);try{za.mount("#app"),console.log("Vue"),In.isReady().then(async()=>{await G4()}),Y4()}catch(e){console.error("Vue:",e)}console.log("#app:",document.getElementById("app"));console.log("URL:",window.location.href);
